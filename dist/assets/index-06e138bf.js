import{r as ei,c as ri,s as ea,g as ni,e as ii}from"./index-dc638718.js";import{s as oi,a as ai,d as si,p as ra,c as Ge,I as na,f as wn,J as yn,H as ia}from"./index-a6673a06.js";import{b as oa,i as aa}from"./index-3aa13386.js";import{d as sa}from"./dijkstra-59d11638.js";import"./tslib-d88cbf11.js";var Vr={},Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.getLocalStorage=Bt.getLocalStorageOrThrow=Bt.getCrypto=Bt.getCryptoOrThrow=Bt.getLocation=Bt.getLocationOrThrow=Bt.getNavigator=Bt.getNavigatorOrThrow=Bt.getDocument=Bt.getDocumentOrThrow=Bt.getFromWindowOrThrow=Bt.getFromWindow=void 0;function _e(r){let t;return typeof window<"u"&&typeof window[r]<"u"&&(t=window[r]),t}Bt.getFromWindow=_e;function Re(r){const t=_e(r);if(!t)throw new Error(`${r} is not defined in Window`);return t}Bt.getFromWindowOrThrow=Re;function fa(){return Re("document")}Bt.getDocumentOrThrow=fa;function ha(){return _e("document")}Bt.getDocument=ha;function ua(){return Re("navigator")}Bt.getNavigatorOrThrow=ua;function la(){return _e("navigator")}Bt.getNavigator=la;function ca(){return Re("location")}Bt.getLocationOrThrow=ca;function da(){return _e("location")}Bt.getLocation=da;function pa(){return Re("crypto")}Bt.getCryptoOrThrow=pa;function ma(){return _e("crypto")}Bt.getCrypto=ma;function ga(){return Re("localStorage")}Bt.getLocalStorageOrThrow=ga;function va(){return _e("localStorage")}Bt.getLocalStorage=va;Object.defineProperty(Vr,"__esModule",{value:!0});var fi=Vr.getWindowMetadata=void 0;const Mn=Bt;function _a(){let r,t;try{r=Mn.getDocumentOrThrow(),t=Mn.getLocationOrThrow()}catch{return null}function i(){const F=r.getElementsByTagName("link"),W=[];for(let z=0;z<F.length;z++){const $=F[z],Z=$.getAttribute("rel");if(Z&&Z.toLowerCase().indexOf("icon")>-1){const b=$.getAttribute("href");if(b)if(b.toLowerCase().indexOf("https:")===-1&&b.toLowerCase().indexOf("http:")===-1&&b.indexOf("//")!==0){let E=t.protocol+"//"+t.host;if(b.indexOf("/")===0)E+=b;else{const I=t.pathname.split("/");I.pop();const C=I.join("/");E+=C+"/"+b}W.push(E)}else if(b.indexOf("//")===0){const E=t.protocol+b;W.push(E)}else W.push(b)}}return W}function a(...F){const W=r.getElementsByTagName("meta");for(let z=0;z<W.length;z++){const $=W[z],Z=["itemprop","property","name"].map(b=>$.getAttribute(b)).filter(b=>b?F.includes(b):!1);if(Z.length&&Z){const b=$.getAttribute("content");if(b)return b}}return""}function m(){let F=a("name","og:site_name","og:title","twitter:title");return F||(F=r.title),F}function s(){return a("description","og:description","twitter:description","keywords")}const y=m(),_=s(),S=t.origin,T=i();return{description:_,url:S,icons:T,name:y}}fi=Vr.getWindowMetadata=_a;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});var hi=Nt.getLocalStorage=yi=Nt.getLocalStorageOrThrow=wi=Nt.getCrypto=_i=Nt.getCryptoOrThrow=vi=Nt.getLocation=gi=Nt.getLocationOrThrow=mi=Nt.getNavigator=pi=Nt.getNavigatorOrThrow=di=Nt.getDocument=ci=Nt.getDocumentOrThrow=li=Nt.getFromWindowOrThrow=ui=Nt.getFromWindow=void 0;function we(r){let t;return typeof window<"u"&&typeof window[r]<"u"&&(t=window[r]),t}var ui=Nt.getFromWindow=we;function Be(r){const t=we(r);if(!t)throw new Error(`${r} is not defined in Window`);return t}var li=Nt.getFromWindowOrThrow=Be;function wa(){return Be("document")}var ci=Nt.getDocumentOrThrow=wa;function ya(){return we("document")}var di=Nt.getDocument=ya;function Ma(){return Be("navigator")}var pi=Nt.getNavigatorOrThrow=Ma;function ba(){return we("navigator")}var mi=Nt.getNavigator=ba;function xa(){return Be("location")}var gi=Nt.getLocationOrThrow=xa;function Ea(){return we("location")}var vi=Nt.getLocation=Ea;function Sa(){return Be("crypto")}var _i=Nt.getCryptoOrThrow=Sa;function Ca(){return we("crypto")}var wi=Nt.getCrypto=Ca;function ka(){return Be("localStorage")}var yi=Nt.getLocalStorageOrThrow=ka;function Ia(){return we("localStorage")}hi=Nt.getLocalStorage=Ia;var Aa=globalThis&&globalThis.__spreadArrays||function(){for(var r=0,t=0,i=arguments.length;t<i;t++)r+=arguments[t].length;for(var a=Array(r),m=0,t=0;t<i;t++)for(var s=arguments[t],y=0,_=s.length;y<_;y++,m++)a[m]=s[y];return a},Ta=function(){function r(t,i,a){this.name=t,this.version=i,this.os=a,this.type="browser"}return r}(),Ra=function(){function r(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return r}(),Ba=function(){function r(t,i,a,m){this.name=t,this.version=i,this.os=a,this.bot=m,this.type="bot-device"}return r}(),Na=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),Oa=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),La=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Ua=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,bn=3,Fa=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",La]],xn=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Pa(r){return r?En(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Oa:typeof navigator<"u"?En(navigator.userAgent):$a()}function qa(r){return r!==""&&Fa.reduce(function(t,i){var a=i[0],m=i[1];if(t)return t;var s=m.exec(r);return!!s&&[a,s]},!1)}function En(r){var t=qa(r);if(!t)return null;var i=t[0],a=t[1];if(i==="searchbot")return new Na;var m=a[1]&&a[1].split(/[._]/).slice(0,3);m?m.length<bn&&(m=Aa(m,Wa(bn-m.length))):m=[];var s=m.join("."),y=Da(r),_=Ua.exec(r);return _&&_[1]?new Ba(i,s,y,_[1]):new Ta(i,s,y)}function Da(r){for(var t=0,i=xn.length;t<i;t++){var a=xn[t],m=a[0],s=a[1],y=s.exec(r);if(y)return m}return null}function $a(){var r=typeof process<"u"&&process.version;return r?new Ra(process.version.slice(1)):null}function Wa(r){for(var t=[],i=0;i<r;i++)t.push("0");return t}function dr(r){return Pa(r)}function pr(){const r=dr();return r&&r.os?r.os:void 0}function Mi(){const r=pr();return r?r.toLowerCase().includes("android"):!1}function bi(){const r=pr();return r?r.toLowerCase().includes("ios")||r.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function xi(){return pr()?Mi()||bi():!1}function Ei(){const r=dr();return r&&r.name?r.name.toLowerCase()==="node":!1}function Si(){return!Ei()&&!!Ci()}const za=ui,Ha=li,Za=ci,Ka=di,Ja=pi,Ci=mi,Va=gi,ki=vi,Ya=_i,Qa=wi,ja=yi,mr=hi;function Or(){return fi()}function Ga(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}function Xa(r){return typeof r=="string"?r:JSON.stringify(r)}const Ii=Ga,Ai=Xa;function Yr(r,t){const i=Ai(t),a=mr();a&&a.setItem(r,i)}function Qr(r){let t=null,i=null;const a=mr();return a&&(i=a.getItem(r)),t=i&&Ii(i),t}function jr(r){const t=mr();t&&t.removeItem(r)}const ar="WALLETCONNECT_DEEPLINK_CHOICE";function ts(r,t){const i=encodeURIComponent(r);return t.universalLink?`${t.universalLink}/wc?uri=${i}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${i}`:""}function es(r){const t=r.href.split("?")[0];Yr(ar,Object.assign(Object.assign({},r),{href:t}))}function Ti(r,t){return r.filter(i=>i.name.toLowerCase().includes(t.toLowerCase()))[0]}function rs(r,t){let i=r;return t&&(i=t.map(a=>Ti(r,a)).filter(Boolean)),i}const Ri="https://registry.walletconnect.com";function ns(){return Ri+"/api/v2/wallets"}function is(){return Ri+"/api/v2/dapps"}function Bi(r,t="mobile"){var i;return{name:r.name||"",shortName:r.metadata.shortName||"",color:r.metadata.colors.primary||"",logo:(i=r.image_url.sm)!==null&&i!==void 0?i:"",universalLink:r[t].universal||"",deepLink:r[t].native||""}}function os(r,t="mobile"){return Object.values(r).filter(i=>!!i[t].universal||!!i[t].native).map(i=>Bi(i,t))}const as=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:dr,detectOS:pr,formatIOSMobile:ts,formatMobileRegistry:os,formatMobileRegistryEntry:Bi,getClientMeta:Or,getCrypto:Qa,getCryptoOrThrow:Ya,getDappRegistryUrl:is,getDocument:Ka,getDocumentOrThrow:Za,getFromWindow:za,getFromWindowOrThrow:Ha,getLocal:Qr,getLocalStorage:mr,getLocalStorageOrThrow:ja,getLocation:ki,getLocationOrThrow:Va,getMobileLinkRegistry:rs,getMobileRegistryEntry:Ti,getNavigator:Ci,getNavigatorOrThrow:Ja,getWalletRegistryUrl:ns,isAndroid:Mi,isBrowser:Si,isIOS:bi,isMobile:xi,isNode:Ei,mobileLinkChoiceKey:ar,removeLocal:jr,safeJsonParse:Ii,safeJsonStringify:Ai,saveMobileLinkInfo:es,setLocal:Yr},Symbol.toStringTag,{value:"Module"})),ss=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],fs={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var Sn={},hs={get exports(){return Sn},set exports(r){Sn=r}};(function(r){(function(t,i){function a(g,e){if(!g)throw new Error(e||"Assertion failed")}function m(g,e){g.super_=e;var o=function(){};o.prototype=e.prototype,g.prototype=new o,g.prototype.constructor=g}function s(g,e,o){if(s.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((e==="le"||e==="be")&&(o=e,e=10),this._init(g||0,e||10,o||"be"))}typeof t=="object"?t.exports=s:i.BN=s,s.BN=s,s.wordSize=26;var y;try{y=ei.Buffer}catch{}s.isBN=function(e){return e instanceof s?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,o){return e.cmp(o)>0?e:o},s.min=function(e,o){return e.cmp(o)<0?e:o},s.prototype._init=function(e,o,f){if(typeof e=="number")return this._initNumber(e,o,f);if(typeof e=="object")return this._initArray(e,o,f);o==="hex"&&(o=16),a(o===(o|0)&&o>=2&&o<=36),e=e.toString().replace(/\s+/g,"");var h=0;e[0]==="-"&&h++,o===16?this._parseHex(e,h):this._parseBase(e,o,h),e[0]==="-"&&(this.negative=1),this.strip(),f==="le"&&this._initArray(this.toArray(),o,f)},s.prototype._initNumber=function(e,o,f){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(a(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),o,f)},s.prototype._initArray=function(e,o,f){if(a(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var d,v,w=0;if(f==="be")for(h=e.length-1,d=0;h>=0;h-=3)v=e[h]|e[h-1]<<8|e[h-2]<<16,this.words[d]|=v<<w&67108863,this.words[d+1]=v>>>26-w&67108863,w+=24,w>=26&&(w-=26,d++);else if(f==="le")for(h=0,d=0;h<e.length;h+=3)v=e[h]|e[h+1]<<8|e[h+2]<<16,this.words[d]|=v<<w&67108863,this.words[d+1]=v>>>26-w&67108863,w+=24,w>=26&&(w-=26,d++);return this.strip()};function _(g,e,o){for(var f=0,h=Math.min(g.length,o),d=e;d<h;d++){var v=g.charCodeAt(d)-48;f<<=4,v>=49&&v<=54?f|=v-49+10:v>=17&&v<=22?f|=v-17+10:f|=v&15}return f}s.prototype._parseHex=function(e,o){this.length=Math.ceil((e.length-o)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var h,d,v=0;for(f=e.length-6,h=0;f>=o;f-=6)d=_(e,f,f+6),this.words[h]|=d<<v&67108863,this.words[h+1]|=d>>>26-v&4194303,v+=24,v>=26&&(v-=26,h++);f+6!==o&&(d=_(e,o,f+6),this.words[h]|=d<<v&67108863,this.words[h+1]|=d>>>26-v&4194303),this.strip()};function S(g,e,o,f){for(var h=0,d=Math.min(g.length,o),v=e;v<d;v++){var w=g.charCodeAt(v)-48;h*=f,w>=49?h+=w-49+10:w>=17?h+=w-17+10:h+=w}return h}s.prototype._parseBase=function(e,o,f){this.words=[0],this.length=1;for(var h=0,d=1;d<=67108863;d*=o)h++;h--,d=d/o|0;for(var v=e.length-f,w=v%h,u=Math.min(v,v-w)+f,n=0,c=f;c<u;c+=h)n=S(e,c,c+h,o),this.imuln(d),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(w!==0){var B=1;for(n=S(e,c,e.length,o),c=0;c<w;c++)B*=o;this.imuln(B),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}},s.prototype.copy=function(e){e.words=new Array(this.length);for(var o=0;o<this.length;o++)e.words[o]=this.words[o];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(e,o){e=e||10,o=o|0||1;var f;if(e===16||e==="hex"){f="";for(var h=0,d=0,v=0;v<this.length;v++){var w=this.words[v],u=((w<<h|d)&16777215).toString(16);d=w>>>24-h&16777215,d!==0||v!==this.length-1?f=T[6-u.length]+u+f:f=u+f,h+=2,h>=26&&(h-=26,v--)}for(d!==0&&(f=d.toString(16)+f);f.length%o!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(e===(e|0)&&e>=2&&e<=36){var n=A[e],c=F[e];f="";var B=this.clone();for(B.negative=0;!B.isZero();){var O=B.modn(c).toString(e);B=B.idivn(c),B.isZero()?f=O+f:f=T[n-O.length]+O+f}for(this.isZero()&&(f="0"+f);f.length%o!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}a(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,o){return a(typeof y<"u"),this.toArrayLike(y,e,o)},s.prototype.toArray=function(e,o){return this.toArrayLike(Array,e,o)},s.prototype.toArrayLike=function(e,o,f){var h=this.byteLength(),d=f||Math.max(1,h);a(h<=d,"byte array longer than desired length"),a(d>0,"Requested array length <= 0"),this.strip();var v=o==="le",w=new e(d),u,n,c=this.clone();if(v){for(n=0;!c.isZero();n++)u=c.andln(255),c.iushrn(8),w[n]=u;for(;n<d;n++)w[n]=0}else{for(n=0;n<d-h;n++)w[n]=0;for(n=0;!c.isZero();n++)u=c.andln(255),c.iushrn(8),w[d-n-1]=u}return w},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var o=e,f=0;return o>=4096&&(f+=13,o>>>=13),o>=64&&(f+=7,o>>>=7),o>=8&&(f+=4,o>>>=4),o>=2&&(f+=2,o>>>=2),f+o},s.prototype._zeroBits=function(e){if(e===0)return 26;var o=e,f=0;return o&8191||(f+=13,o>>>=13),o&127||(f+=7,o>>>=7),o&15||(f+=4,o>>>=4),o&3||(f+=2,o>>>=2),o&1||f++,f},s.prototype.bitLength=function(){var e=this.words[this.length-1],o=this._countBits(e);return(this.length-1)*26+o};function W(g){for(var e=new Array(g.bitLength()),o=0;o<e.length;o++){var f=o/26|0,h=o%26;e[o]=(g.words[f]&1<<h)>>>h}return e}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,o=0;o<this.length;o++){var f=this._zeroBits(this.words[o]);if(e+=f,f!==26)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var o=0;o<e.length;o++)this.words[o]=this.words[o]|e.words[o];return this.strip()},s.prototype.ior=function(e){return a((this.negative|e.negative)===0),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var o;this.length>e.length?o=e:o=this;for(var f=0;f<o.length;f++)this.words[f]=this.words[f]&e.words[f];return this.length=o.length,this.strip()},s.prototype.iand=function(e){return a((this.negative|e.negative)===0),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var o,f;this.length>e.length?(o=this,f=e):(o=e,f=this);for(var h=0;h<f.length;h++)this.words[h]=o.words[h]^f.words[h];if(this!==o)for(;h<o.length;h++)this.words[h]=o.words[h];return this.length=o.length,this.strip()},s.prototype.ixor=function(e){return a((this.negative|e.negative)===0),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){a(typeof e=="number"&&e>=0);var o=Math.ceil(e/26)|0,f=e%26;this._expand(o),f>0&&o--;for(var h=0;h<o;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,o){a(typeof e=="number"&&e>=0);var f=e/26|0,h=e%26;return this._expand(f+1),o?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},s.prototype.iadd=function(e){var o;if(this.negative!==0&&e.negative===0)return this.negative=0,o=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,o=this.isub(e),e.negative=1,o._normSign();var f,h;this.length>e.length?(f=this,h=e):(f=e,h=this);for(var d=0,v=0;v<h.length;v++)o=(f.words[v]|0)+(h.words[v]|0)+d,this.words[v]=o&67108863,d=o>>>26;for(;d!==0&&v<f.length;v++)o=(f.words[v]|0)+d,this.words[v]=o&67108863,d=o>>>26;if(this.length=f.length,d!==0)this.words[this.length]=d,this.length++;else if(f!==this)for(;v<f.length;v++)this.words[v]=f.words[v];return this},s.prototype.add=function(e){var o;return e.negative!==0&&this.negative===0?(e.negative=0,o=this.sub(e),e.negative^=1,o):e.negative===0&&this.negative!==0?(this.negative=0,o=e.sub(this),this.negative=1,o):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var o=this.iadd(e);return e.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var f=this.cmp(e);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,d;f>0?(h=this,d=e):(h=e,d=this);for(var v=0,w=0;w<d.length;w++)o=(h.words[w]|0)-(d.words[w]|0)+v,v=o>>26,this.words[w]=o&67108863;for(;v!==0&&w<h.length;w++)o=(h.words[w]|0)+v,v=o>>26,this.words[w]=o&67108863;if(v===0&&w<h.length&&h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=Math.max(this.length,w),h!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};function z(g,e,o){o.negative=e.negative^g.negative;var f=g.length+e.length|0;o.length=f,f=f-1|0;var h=g.words[0]|0,d=e.words[0]|0,v=h*d,w=v&67108863,u=v/67108864|0;o.words[0]=w;for(var n=1;n<f;n++){for(var c=u>>>26,B=u&67108863,O=Math.min(n,e.length-1),L=Math.max(0,n-g.length+1);L<=O;L++){var D=n-L|0;h=g.words[D]|0,d=e.words[L]|0,v=h*d+B,c+=v/67108864|0,B=v&67108863}o.words[n]=B|0,u=c|0}return u!==0?o.words[n]=u|0:o.length--,o.strip()}var $=function(e,o,f){var h=e.words,d=o.words,v=f.words,w=0,u,n,c,B=h[0]|0,O=B&8191,L=B>>>13,D=h[1]|0,Y=D&8191,tt=D>>>13,Ot=h[2]|0,X=Ot&8191,et=Ot>>>13,jt=h[3]|0,ot=jt&8191,nt=jt>>>13,Lt=h[4]|0,it=Lt&8191,ft=Lt>>>13,M=h[5]|0,l=M&8191,p=M>>>13,x=h[6]|0,k=x&8191,N=x>>>13,P=h[7]|0,H=P&8191,J=P>>>13,Rt=h[8]|0,G=Rt&8191,Q=Rt>>>13,Dt=h[9]|0,at=Dt&8191,st=Dt>>>13,Le=d[0]|0,ht=Le&8191,ut=Le>>>13,Ue=d[1]|0,lt=Ue&8191,ct=Ue>>>13,Fe=d[2]|0,dt=Fe&8191,pt=Fe>>>13,Pe=d[3]|0,mt=Pe&8191,gt=Pe>>>13,qe=d[4]|0,vt=qe&8191,_t=qe>>>13,De=d[5]|0,wt=De&8191,yt=De>>>13,$e=d[6]|0,Mt=$e&8191,bt=$e>>>13,We=d[7]|0,xt=We&8191,Et=We>>>13,ze=d[8]|0,St=ze&8191,Ct=ze>>>13,He=d[9]|0,kt=He&8191,It=He>>>13;f.negative=e.negative^o.negative,f.length=19,u=Math.imul(O,ht),n=Math.imul(O,ut),n=n+Math.imul(L,ht)|0,c=Math.imul(L,ut);var Gt=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,u=Math.imul(Y,ht),n=Math.imul(Y,ut),n=n+Math.imul(tt,ht)|0,c=Math.imul(tt,ut),u=u+Math.imul(O,lt)|0,n=n+Math.imul(O,ct)|0,n=n+Math.imul(L,lt)|0,c=c+Math.imul(L,ct)|0;var Xt=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,u=Math.imul(X,ht),n=Math.imul(X,ut),n=n+Math.imul(et,ht)|0,c=Math.imul(et,ut),u=u+Math.imul(Y,lt)|0,n=n+Math.imul(Y,ct)|0,n=n+Math.imul(tt,lt)|0,c=c+Math.imul(tt,ct)|0,u=u+Math.imul(O,dt)|0,n=n+Math.imul(O,pt)|0,n=n+Math.imul(L,dt)|0,c=c+Math.imul(L,pt)|0;var te=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(te>>>26)|0,te&=67108863,u=Math.imul(ot,ht),n=Math.imul(ot,ut),n=n+Math.imul(nt,ht)|0,c=Math.imul(nt,ut),u=u+Math.imul(X,lt)|0,n=n+Math.imul(X,ct)|0,n=n+Math.imul(et,lt)|0,c=c+Math.imul(et,ct)|0,u=u+Math.imul(Y,dt)|0,n=n+Math.imul(Y,pt)|0,n=n+Math.imul(tt,dt)|0,c=c+Math.imul(tt,pt)|0,u=u+Math.imul(O,mt)|0,n=n+Math.imul(O,gt)|0,n=n+Math.imul(L,mt)|0,c=c+Math.imul(L,gt)|0;var ee=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ee>>>26)|0,ee&=67108863,u=Math.imul(it,ht),n=Math.imul(it,ut),n=n+Math.imul(ft,ht)|0,c=Math.imul(ft,ut),u=u+Math.imul(ot,lt)|0,n=n+Math.imul(ot,ct)|0,n=n+Math.imul(nt,lt)|0,c=c+Math.imul(nt,ct)|0,u=u+Math.imul(X,dt)|0,n=n+Math.imul(X,pt)|0,n=n+Math.imul(et,dt)|0,c=c+Math.imul(et,pt)|0,u=u+Math.imul(Y,mt)|0,n=n+Math.imul(Y,gt)|0,n=n+Math.imul(tt,mt)|0,c=c+Math.imul(tt,gt)|0,u=u+Math.imul(O,vt)|0,n=n+Math.imul(O,_t)|0,n=n+Math.imul(L,vt)|0,c=c+Math.imul(L,_t)|0;var re=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(re>>>26)|0,re&=67108863,u=Math.imul(l,ht),n=Math.imul(l,ut),n=n+Math.imul(p,ht)|0,c=Math.imul(p,ut),u=u+Math.imul(it,lt)|0,n=n+Math.imul(it,ct)|0,n=n+Math.imul(ft,lt)|0,c=c+Math.imul(ft,ct)|0,u=u+Math.imul(ot,dt)|0,n=n+Math.imul(ot,pt)|0,n=n+Math.imul(nt,dt)|0,c=c+Math.imul(nt,pt)|0,u=u+Math.imul(X,mt)|0,n=n+Math.imul(X,gt)|0,n=n+Math.imul(et,mt)|0,c=c+Math.imul(et,gt)|0,u=u+Math.imul(Y,vt)|0,n=n+Math.imul(Y,_t)|0,n=n+Math.imul(tt,vt)|0,c=c+Math.imul(tt,_t)|0,u=u+Math.imul(O,wt)|0,n=n+Math.imul(O,yt)|0,n=n+Math.imul(L,wt)|0,c=c+Math.imul(L,yt)|0;var ne=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ne>>>26)|0,ne&=67108863,u=Math.imul(k,ht),n=Math.imul(k,ut),n=n+Math.imul(N,ht)|0,c=Math.imul(N,ut),u=u+Math.imul(l,lt)|0,n=n+Math.imul(l,ct)|0,n=n+Math.imul(p,lt)|0,c=c+Math.imul(p,ct)|0,u=u+Math.imul(it,dt)|0,n=n+Math.imul(it,pt)|0,n=n+Math.imul(ft,dt)|0,c=c+Math.imul(ft,pt)|0,u=u+Math.imul(ot,mt)|0,n=n+Math.imul(ot,gt)|0,n=n+Math.imul(nt,mt)|0,c=c+Math.imul(nt,gt)|0,u=u+Math.imul(X,vt)|0,n=n+Math.imul(X,_t)|0,n=n+Math.imul(et,vt)|0,c=c+Math.imul(et,_t)|0,u=u+Math.imul(Y,wt)|0,n=n+Math.imul(Y,yt)|0,n=n+Math.imul(tt,wt)|0,c=c+Math.imul(tt,yt)|0,u=u+Math.imul(O,Mt)|0,n=n+Math.imul(O,bt)|0,n=n+Math.imul(L,Mt)|0,c=c+Math.imul(L,bt)|0;var ie=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ie>>>26)|0,ie&=67108863,u=Math.imul(H,ht),n=Math.imul(H,ut),n=n+Math.imul(J,ht)|0,c=Math.imul(J,ut),u=u+Math.imul(k,lt)|0,n=n+Math.imul(k,ct)|0,n=n+Math.imul(N,lt)|0,c=c+Math.imul(N,ct)|0,u=u+Math.imul(l,dt)|0,n=n+Math.imul(l,pt)|0,n=n+Math.imul(p,dt)|0,c=c+Math.imul(p,pt)|0,u=u+Math.imul(it,mt)|0,n=n+Math.imul(it,gt)|0,n=n+Math.imul(ft,mt)|0,c=c+Math.imul(ft,gt)|0,u=u+Math.imul(ot,vt)|0,n=n+Math.imul(ot,_t)|0,n=n+Math.imul(nt,vt)|0,c=c+Math.imul(nt,_t)|0,u=u+Math.imul(X,wt)|0,n=n+Math.imul(X,yt)|0,n=n+Math.imul(et,wt)|0,c=c+Math.imul(et,yt)|0,u=u+Math.imul(Y,Mt)|0,n=n+Math.imul(Y,bt)|0,n=n+Math.imul(tt,Mt)|0,c=c+Math.imul(tt,bt)|0,u=u+Math.imul(O,xt)|0,n=n+Math.imul(O,Et)|0,n=n+Math.imul(L,xt)|0,c=c+Math.imul(L,Et)|0;var oe=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(oe>>>26)|0,oe&=67108863,u=Math.imul(G,ht),n=Math.imul(G,ut),n=n+Math.imul(Q,ht)|0,c=Math.imul(Q,ut),u=u+Math.imul(H,lt)|0,n=n+Math.imul(H,ct)|0,n=n+Math.imul(J,lt)|0,c=c+Math.imul(J,ct)|0,u=u+Math.imul(k,dt)|0,n=n+Math.imul(k,pt)|0,n=n+Math.imul(N,dt)|0,c=c+Math.imul(N,pt)|0,u=u+Math.imul(l,mt)|0,n=n+Math.imul(l,gt)|0,n=n+Math.imul(p,mt)|0,c=c+Math.imul(p,gt)|0,u=u+Math.imul(it,vt)|0,n=n+Math.imul(it,_t)|0,n=n+Math.imul(ft,vt)|0,c=c+Math.imul(ft,_t)|0,u=u+Math.imul(ot,wt)|0,n=n+Math.imul(ot,yt)|0,n=n+Math.imul(nt,wt)|0,c=c+Math.imul(nt,yt)|0,u=u+Math.imul(X,Mt)|0,n=n+Math.imul(X,bt)|0,n=n+Math.imul(et,Mt)|0,c=c+Math.imul(et,bt)|0,u=u+Math.imul(Y,xt)|0,n=n+Math.imul(Y,Et)|0,n=n+Math.imul(tt,xt)|0,c=c+Math.imul(tt,Et)|0,u=u+Math.imul(O,St)|0,n=n+Math.imul(O,Ct)|0,n=n+Math.imul(L,St)|0,c=c+Math.imul(L,Ct)|0;var ae=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ae>>>26)|0,ae&=67108863,u=Math.imul(at,ht),n=Math.imul(at,ut),n=n+Math.imul(st,ht)|0,c=Math.imul(st,ut),u=u+Math.imul(G,lt)|0,n=n+Math.imul(G,ct)|0,n=n+Math.imul(Q,lt)|0,c=c+Math.imul(Q,ct)|0,u=u+Math.imul(H,dt)|0,n=n+Math.imul(H,pt)|0,n=n+Math.imul(J,dt)|0,c=c+Math.imul(J,pt)|0,u=u+Math.imul(k,mt)|0,n=n+Math.imul(k,gt)|0,n=n+Math.imul(N,mt)|0,c=c+Math.imul(N,gt)|0,u=u+Math.imul(l,vt)|0,n=n+Math.imul(l,_t)|0,n=n+Math.imul(p,vt)|0,c=c+Math.imul(p,_t)|0,u=u+Math.imul(it,wt)|0,n=n+Math.imul(it,yt)|0,n=n+Math.imul(ft,wt)|0,c=c+Math.imul(ft,yt)|0,u=u+Math.imul(ot,Mt)|0,n=n+Math.imul(ot,bt)|0,n=n+Math.imul(nt,Mt)|0,c=c+Math.imul(nt,bt)|0,u=u+Math.imul(X,xt)|0,n=n+Math.imul(X,Et)|0,n=n+Math.imul(et,xt)|0,c=c+Math.imul(et,Et)|0,u=u+Math.imul(Y,St)|0,n=n+Math.imul(Y,Ct)|0,n=n+Math.imul(tt,St)|0,c=c+Math.imul(tt,Ct)|0,u=u+Math.imul(O,kt)|0,n=n+Math.imul(O,It)|0,n=n+Math.imul(L,kt)|0,c=c+Math.imul(L,It)|0;var se=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(se>>>26)|0,se&=67108863,u=Math.imul(at,lt),n=Math.imul(at,ct),n=n+Math.imul(st,lt)|0,c=Math.imul(st,ct),u=u+Math.imul(G,dt)|0,n=n+Math.imul(G,pt)|0,n=n+Math.imul(Q,dt)|0,c=c+Math.imul(Q,pt)|0,u=u+Math.imul(H,mt)|0,n=n+Math.imul(H,gt)|0,n=n+Math.imul(J,mt)|0,c=c+Math.imul(J,gt)|0,u=u+Math.imul(k,vt)|0,n=n+Math.imul(k,_t)|0,n=n+Math.imul(N,vt)|0,c=c+Math.imul(N,_t)|0,u=u+Math.imul(l,wt)|0,n=n+Math.imul(l,yt)|0,n=n+Math.imul(p,wt)|0,c=c+Math.imul(p,yt)|0,u=u+Math.imul(it,Mt)|0,n=n+Math.imul(it,bt)|0,n=n+Math.imul(ft,Mt)|0,c=c+Math.imul(ft,bt)|0,u=u+Math.imul(ot,xt)|0,n=n+Math.imul(ot,Et)|0,n=n+Math.imul(nt,xt)|0,c=c+Math.imul(nt,Et)|0,u=u+Math.imul(X,St)|0,n=n+Math.imul(X,Ct)|0,n=n+Math.imul(et,St)|0,c=c+Math.imul(et,Ct)|0,u=u+Math.imul(Y,kt)|0,n=n+Math.imul(Y,It)|0,n=n+Math.imul(tt,kt)|0,c=c+Math.imul(tt,It)|0;var fe=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(fe>>>26)|0,fe&=67108863,u=Math.imul(at,dt),n=Math.imul(at,pt),n=n+Math.imul(st,dt)|0,c=Math.imul(st,pt),u=u+Math.imul(G,mt)|0,n=n+Math.imul(G,gt)|0,n=n+Math.imul(Q,mt)|0,c=c+Math.imul(Q,gt)|0,u=u+Math.imul(H,vt)|0,n=n+Math.imul(H,_t)|0,n=n+Math.imul(J,vt)|0,c=c+Math.imul(J,_t)|0,u=u+Math.imul(k,wt)|0,n=n+Math.imul(k,yt)|0,n=n+Math.imul(N,wt)|0,c=c+Math.imul(N,yt)|0,u=u+Math.imul(l,Mt)|0,n=n+Math.imul(l,bt)|0,n=n+Math.imul(p,Mt)|0,c=c+Math.imul(p,bt)|0,u=u+Math.imul(it,xt)|0,n=n+Math.imul(it,Et)|0,n=n+Math.imul(ft,xt)|0,c=c+Math.imul(ft,Et)|0,u=u+Math.imul(ot,St)|0,n=n+Math.imul(ot,Ct)|0,n=n+Math.imul(nt,St)|0,c=c+Math.imul(nt,Ct)|0,u=u+Math.imul(X,kt)|0,n=n+Math.imul(X,It)|0,n=n+Math.imul(et,kt)|0,c=c+Math.imul(et,It)|0;var he=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(he>>>26)|0,he&=67108863,u=Math.imul(at,mt),n=Math.imul(at,gt),n=n+Math.imul(st,mt)|0,c=Math.imul(st,gt),u=u+Math.imul(G,vt)|0,n=n+Math.imul(G,_t)|0,n=n+Math.imul(Q,vt)|0,c=c+Math.imul(Q,_t)|0,u=u+Math.imul(H,wt)|0,n=n+Math.imul(H,yt)|0,n=n+Math.imul(J,wt)|0,c=c+Math.imul(J,yt)|0,u=u+Math.imul(k,Mt)|0,n=n+Math.imul(k,bt)|0,n=n+Math.imul(N,Mt)|0,c=c+Math.imul(N,bt)|0,u=u+Math.imul(l,xt)|0,n=n+Math.imul(l,Et)|0,n=n+Math.imul(p,xt)|0,c=c+Math.imul(p,Et)|0,u=u+Math.imul(it,St)|0,n=n+Math.imul(it,Ct)|0,n=n+Math.imul(ft,St)|0,c=c+Math.imul(ft,Ct)|0,u=u+Math.imul(ot,kt)|0,n=n+Math.imul(ot,It)|0,n=n+Math.imul(nt,kt)|0,c=c+Math.imul(nt,It)|0;var ue=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ue>>>26)|0,ue&=67108863,u=Math.imul(at,vt),n=Math.imul(at,_t),n=n+Math.imul(st,vt)|0,c=Math.imul(st,_t),u=u+Math.imul(G,wt)|0,n=n+Math.imul(G,yt)|0,n=n+Math.imul(Q,wt)|0,c=c+Math.imul(Q,yt)|0,u=u+Math.imul(H,Mt)|0,n=n+Math.imul(H,bt)|0,n=n+Math.imul(J,Mt)|0,c=c+Math.imul(J,bt)|0,u=u+Math.imul(k,xt)|0,n=n+Math.imul(k,Et)|0,n=n+Math.imul(N,xt)|0,c=c+Math.imul(N,Et)|0,u=u+Math.imul(l,St)|0,n=n+Math.imul(l,Ct)|0,n=n+Math.imul(p,St)|0,c=c+Math.imul(p,Ct)|0,u=u+Math.imul(it,kt)|0,n=n+Math.imul(it,It)|0,n=n+Math.imul(ft,kt)|0,c=c+Math.imul(ft,It)|0;var le=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(le>>>26)|0,le&=67108863,u=Math.imul(at,wt),n=Math.imul(at,yt),n=n+Math.imul(st,wt)|0,c=Math.imul(st,yt),u=u+Math.imul(G,Mt)|0,n=n+Math.imul(G,bt)|0,n=n+Math.imul(Q,Mt)|0,c=c+Math.imul(Q,bt)|0,u=u+Math.imul(H,xt)|0,n=n+Math.imul(H,Et)|0,n=n+Math.imul(J,xt)|0,c=c+Math.imul(J,Et)|0,u=u+Math.imul(k,St)|0,n=n+Math.imul(k,Ct)|0,n=n+Math.imul(N,St)|0,c=c+Math.imul(N,Ct)|0,u=u+Math.imul(l,kt)|0,n=n+Math.imul(l,It)|0,n=n+Math.imul(p,kt)|0,c=c+Math.imul(p,It)|0;var ce=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ce>>>26)|0,ce&=67108863,u=Math.imul(at,Mt),n=Math.imul(at,bt),n=n+Math.imul(st,Mt)|0,c=Math.imul(st,bt),u=u+Math.imul(G,xt)|0,n=n+Math.imul(G,Et)|0,n=n+Math.imul(Q,xt)|0,c=c+Math.imul(Q,Et)|0,u=u+Math.imul(H,St)|0,n=n+Math.imul(H,Ct)|0,n=n+Math.imul(J,St)|0,c=c+Math.imul(J,Ct)|0,u=u+Math.imul(k,kt)|0,n=n+Math.imul(k,It)|0,n=n+Math.imul(N,kt)|0,c=c+Math.imul(N,It)|0;var de=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(de>>>26)|0,de&=67108863,u=Math.imul(at,xt),n=Math.imul(at,Et),n=n+Math.imul(st,xt)|0,c=Math.imul(st,Et),u=u+Math.imul(G,St)|0,n=n+Math.imul(G,Ct)|0,n=n+Math.imul(Q,St)|0,c=c+Math.imul(Q,Ct)|0,u=u+Math.imul(H,kt)|0,n=n+Math.imul(H,It)|0,n=n+Math.imul(J,kt)|0,c=c+Math.imul(J,It)|0;var pe=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(pe>>>26)|0,pe&=67108863,u=Math.imul(at,St),n=Math.imul(at,Ct),n=n+Math.imul(st,St)|0,c=Math.imul(st,Ct),u=u+Math.imul(G,kt)|0,n=n+Math.imul(G,It)|0,n=n+Math.imul(Q,kt)|0,c=c+Math.imul(Q,It)|0;var me=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(me>>>26)|0,me&=67108863,u=Math.imul(at,kt),n=Math.imul(at,It),n=n+Math.imul(st,kt)|0,c=Math.imul(st,It);var ge=(w+u|0)+((n&8191)<<13)|0;return w=(c+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,v[0]=Gt,v[1]=Xt,v[2]=te,v[3]=ee,v[4]=re,v[5]=ne,v[6]=ie,v[7]=oe,v[8]=ae,v[9]=se,v[10]=fe,v[11]=he,v[12]=ue,v[13]=le,v[14]=ce,v[15]=de,v[16]=pe,v[17]=me,v[18]=ge,w!==0&&(v[19]=w,f.length++),f};Math.imul||($=z);function Z(g,e,o){o.negative=e.negative^g.negative,o.length=g.length+e.length;for(var f=0,h=0,d=0;d<o.length-1;d++){var v=h;h=0;for(var w=f&67108863,u=Math.min(d,e.length-1),n=Math.max(0,d-g.length+1);n<=u;n++){var c=d-n,B=g.words[c]|0,O=e.words[n]|0,L=B*O,D=L&67108863;v=v+(L/67108864|0)|0,D=D+w|0,w=D&67108863,v=v+(D>>>26)|0,h+=v>>>26,v&=67108863}o.words[d]=w,f=v,v=h}return f!==0?o.words[d]=f:o.length--,o.strip()}function b(g,e,o){var f=new E;return f.mulp(g,e,o)}s.prototype.mulTo=function(e,o){var f,h=this.length+e.length;return this.length===10&&e.length===10?f=$(this,e,o):h<63?f=z(this,e,o):h<1024?f=Z(this,e,o):f=b(this,e,o),f};function E(g,e){this.x=g,this.y=e}E.prototype.makeRBT=function(e){for(var o=new Array(e),f=s.prototype._countBits(e)-1,h=0;h<e;h++)o[h]=this.revBin(h,f,e);return o},E.prototype.revBin=function(e,o,f){if(e===0||e===f-1)return e;for(var h=0,d=0;d<o;d++)h|=(e&1)<<o-d-1,e>>=1;return h},E.prototype.permute=function(e,o,f,h,d,v){for(var w=0;w<v;w++)h[w]=o[e[w]],d[w]=f[e[w]]},E.prototype.transform=function(e,o,f,h,d,v){this.permute(v,e,o,f,h,d);for(var w=1;w<d;w<<=1)for(var u=w<<1,n=Math.cos(2*Math.PI/u),c=Math.sin(2*Math.PI/u),B=0;B<d;B+=u)for(var O=n,L=c,D=0;D<w;D++){var Y=f[B+D],tt=h[B+D],Ot=f[B+D+w],X=h[B+D+w],et=O*Ot-L*X;X=O*X+L*Ot,Ot=et,f[B+D]=Y+Ot,h[B+D]=tt+X,f[B+D+w]=Y-Ot,h[B+D+w]=tt-X,D!==u&&(et=n*O-c*L,L=n*L+c*O,O=et)}},E.prototype.guessLen13b=function(e,o){var f=Math.max(o,e)|1,h=f&1,d=0;for(f=f/2|0;f;f=f>>>1)d++;return 1<<d+1+h},E.prototype.conjugate=function(e,o,f){if(!(f<=1))for(var h=0;h<f/2;h++){var d=e[h];e[h]=e[f-h-1],e[f-h-1]=d,d=o[h],o[h]=-o[f-h-1],o[f-h-1]=-d}},E.prototype.normalize13b=function(e,o){for(var f=0,h=0;h<o/2;h++){var d=Math.round(e[2*h+1]/o)*8192+Math.round(e[2*h]/o)+f;e[h]=d&67108863,d<67108864?f=0:f=d/67108864|0}return e},E.prototype.convert13b=function(e,o,f,h){for(var d=0,v=0;v<o;v++)d=d+(e[v]|0),f[2*v]=d&8191,d=d>>>13,f[2*v+1]=d&8191,d=d>>>13;for(v=2*o;v<h;++v)f[v]=0;a(d===0),a((d&-8192)===0)},E.prototype.stub=function(e){for(var o=new Array(e),f=0;f<e;f++)o[f]=0;return o},E.prototype.mulp=function(e,o,f){var h=2*this.guessLen13b(e.length,o.length),d=this.makeRBT(h),v=this.stub(h),w=new Array(h),u=new Array(h),n=new Array(h),c=new Array(h),B=new Array(h),O=new Array(h),L=f.words;L.length=h,this.convert13b(e.words,e.length,w,h),this.convert13b(o.words,o.length,c,h),this.transform(w,v,u,n,h,d),this.transform(c,v,B,O,h,d);for(var D=0;D<h;D++){var Y=u[D]*B[D]-n[D]*O[D];n[D]=u[D]*O[D]+n[D]*B[D],u[D]=Y}return this.conjugate(u,n,h),this.transform(u,n,L,v,h,d),this.conjugate(L,v,h),this.normalize13b(L,h),f.negative=e.negative^o.negative,f.length=e.length+o.length,f.strip()},s.prototype.mul=function(e){var o=new s(null);return o.words=new Array(this.length+e.length),this.mulTo(e,o)},s.prototype.mulf=function(e){var o=new s(null);return o.words=new Array(this.length+e.length),b(this,e,o)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){a(typeof e=="number"),a(e<67108864);for(var o=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*e,d=(h&67108863)+(o&67108863);o>>=26,o+=h/67108864|0,o+=d>>>26,this.words[f]=d&67108863}return o!==0&&(this.words[f]=o,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var o=W(e);if(o.length===0)return new s(1);for(var f=this,h=0;h<o.length&&o[h]===0;h++,f=f.sqr());if(++h<o.length)for(var d=f.sqr();h<o.length;h++,d=d.sqr())o[h]!==0&&(f=f.mul(d));return f},s.prototype.iushln=function(e){a(typeof e=="number"&&e>=0);var o=e%26,f=(e-o)/26,h=67108863>>>26-o<<26-o,d;if(o!==0){var v=0;for(d=0;d<this.length;d++){var w=this.words[d]&h,u=(this.words[d]|0)-w<<o;this.words[d]=u|v,v=w>>>26-o}v&&(this.words[d]=v,this.length++)}if(f!==0){for(d=this.length-1;d>=0;d--)this.words[d+f]=this.words[d];for(d=0;d<f;d++)this.words[d]=0;this.length+=f}return this.strip()},s.prototype.ishln=function(e){return a(this.negative===0),this.iushln(e)},s.prototype.iushrn=function(e,o,f){a(typeof e=="number"&&e>=0);var h;o?h=(o-o%26)/26:h=0;var d=e%26,v=Math.min((e-d)/26,this.length),w=67108863^67108863>>>d<<d,u=f;if(h-=v,h=Math.max(0,h),u){for(var n=0;n<v;n++)u.words[n]=this.words[n];u.length=v}if(v!==0)if(this.length>v)for(this.length-=v,n=0;n<this.length;n++)this.words[n]=this.words[n+v];else this.words[0]=0,this.length=1;var c=0;for(n=this.length-1;n>=0&&(c!==0||n>=h);n--){var B=this.words[n]|0;this.words[n]=c<<26-d|B>>>d,c=B&w}return u&&c!==0&&(u.words[u.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,o,f){return a(this.negative===0),this.iushrn(e,o,f)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){a(typeof e=="number"&&e>=0);var o=e%26,f=(e-o)/26,h=1<<o;if(this.length<=f)return!1;var d=this.words[f];return!!(d&h)},s.prototype.imaskn=function(e){a(typeof e=="number"&&e>=0);var o=e%26,f=(e-o)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(o!==0&&f++,this.length=Math.min(f,this.length),o!==0){var h=67108863^67108863>>>o<<o;this.words[this.length-1]&=h}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return a(typeof e=="number"),a(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},s.prototype.isubn=function(e){if(a(typeof e=="number"),a(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,o,f){var h=e.length+f,d;this._expand(h);var v,w=0;for(d=0;d<e.length;d++){v=(this.words[d+f]|0)+w;var u=(e.words[d]|0)*o;v-=u&67108863,w=(v>>26)-(u/67108864|0),this.words[d+f]=v&67108863}for(;d<this.length-f;d++)v=(this.words[d+f]|0)+w,w=v>>26,this.words[d+f]=v&67108863;if(w===0)return this.strip();for(a(w===-1),w=0,d=0;d<this.length;d++)v=-(this.words[d]|0)+w,w=v>>26,this.words[d]=v&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,o){var f=this.length-e.length,h=this.clone(),d=e,v=d.words[d.length-1]|0,w=this._countBits(v);f=26-w,f!==0&&(d=d.ushln(f),h.iushln(f),v=d.words[d.length-1]|0);var u=h.length-d.length,n;if(o!=="mod"){n=new s(null),n.length=u+1,n.words=new Array(n.length);for(var c=0;c<n.length;c++)n.words[c]=0}var B=h.clone()._ishlnsubmul(d,1,u);B.negative===0&&(h=B,n&&(n.words[u]=1));for(var O=u-1;O>=0;O--){var L=(h.words[d.length+O]|0)*67108864+(h.words[d.length+O-1]|0);for(L=Math.min(L/v|0,67108863),h._ishlnsubmul(d,L,O);h.negative!==0;)L--,h.negative=0,h._ishlnsubmul(d,1,O),h.isZero()||(h.negative^=1);n&&(n.words[O]=L)}return n&&n.strip(),h.strip(),o!=="div"&&f!==0&&h.iushrn(f),{div:n||null,mod:h}},s.prototype.divmod=function(e,o,f){if(a(!e.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var h,d,v;return this.negative!==0&&e.negative===0?(v=this.neg().divmod(e,o),o!=="mod"&&(h=v.div.neg()),o!=="div"&&(d=v.mod.neg(),f&&d.negative!==0&&d.iadd(e)),{div:h,mod:d}):this.negative===0&&e.negative!==0?(v=this.divmod(e.neg(),o),o!=="mod"&&(h=v.div.neg()),{div:h,mod:v.mod}):this.negative&e.negative?(v=this.neg().divmod(e.neg(),o),o!=="div"&&(d=v.mod.neg(),f&&d.negative!==0&&d.isub(e)),{div:v.div,mod:d}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:e.length===1?o==="div"?{div:this.divn(e.words[0]),mod:null}:o==="mod"?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,o)},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var o=this.divmod(e);if(o.mod.isZero())return o.div;var f=o.div.negative!==0?o.mod.isub(e):o.mod,h=e.ushrn(1),d=e.andln(1),v=f.cmp(h);return v<0||d===1&&v===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},s.prototype.modn=function(e){a(e<=67108863);for(var o=(1<<26)%e,f=0,h=this.length-1;h>=0;h--)f=(o*f+(this.words[h]|0))%e;return f},s.prototype.idivn=function(e){a(e<=67108863);for(var o=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+o*67108864;this.words[f]=h/e|0,o=h%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){a(e.negative===0),a(!e.isZero());var o=this,f=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var h=new s(1),d=new s(0),v=new s(0),w=new s(1),u=0;o.isEven()&&f.isEven();)o.iushrn(1),f.iushrn(1),++u;for(var n=f.clone(),c=o.clone();!o.isZero();){for(var B=0,O=1;!(o.words[0]&O)&&B<26;++B,O<<=1);if(B>0)for(o.iushrn(B);B-- >0;)(h.isOdd()||d.isOdd())&&(h.iadd(n),d.isub(c)),h.iushrn(1),d.iushrn(1);for(var L=0,D=1;!(f.words[0]&D)&&L<26;++L,D<<=1);if(L>0)for(f.iushrn(L);L-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(n),w.isub(c)),v.iushrn(1),w.iushrn(1);o.cmp(f)>=0?(o.isub(f),h.isub(v),d.isub(w)):(f.isub(o),v.isub(h),w.isub(d))}return{a:v,b:w,gcd:f.iushln(u)}},s.prototype._invmp=function(e){a(e.negative===0),a(!e.isZero());var o=this,f=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var h=new s(1),d=new s(0),v=f.clone();o.cmpn(1)>0&&f.cmpn(1)>0;){for(var w=0,u=1;!(o.words[0]&u)&&w<26;++w,u<<=1);if(w>0)for(o.iushrn(w);w-- >0;)h.isOdd()&&h.iadd(v),h.iushrn(1);for(var n=0,c=1;!(f.words[0]&c)&&n<26;++n,c<<=1);if(n>0)for(f.iushrn(n);n-- >0;)d.isOdd()&&d.iadd(v),d.iushrn(1);o.cmp(f)>=0?(o.isub(f),h.isub(d)):(f.isub(o),d.isub(h))}var B;return o.cmpn(1)===0?B=h:B=d,B.cmpn(0)<0&&B.iadd(e),B},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var o=this.clone(),f=e.clone();o.negative=0,f.negative=0;for(var h=0;o.isEven()&&f.isEven();h++)o.iushrn(1),f.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;f.isEven();)f.iushrn(1);var d=o.cmp(f);if(d<0){var v=o;o=f,f=v}else if(d===0||f.cmpn(1)===0)break;o.isub(f)}while(!0);return f.iushln(h)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){a(typeof e=="number");var o=e%26,f=(e-o)/26,h=1<<o;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var d=h,v=f;d!==0&&v<this.length;v++){var w=this.words[v]|0;w+=d,d=w>>>26,w&=67108863,this.words[v]=w}return d!==0&&(this.words[v]=d,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(e){var o=e<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var f;if(this.length>1)f=1;else{o&&(e=-e),a(e<=67108863,"Number is too big");var h=this.words[0]|0;f=h===e?0:h<e?-1:1}return this.negative!==0?-f|0:f},s.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var o=this.ucmp(e);return this.negative!==0?-o|0:o},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var o=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,d=e.words[f]|0;if(h!==d){h<d?o=-1:h>d&&(o=1);break}}return o},s.prototype.gtn=function(e){return this.cmpn(e)===1},s.prototype.gt=function(e){return this.cmp(e)===1},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return this.cmpn(e)===-1},s.prototype.lt=function(e){return this.cmp(e)===-1},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return this.cmpn(e)===0},s.prototype.eq=function(e){return this.cmp(e)===0},s.red=function(e){return new V(e)},s.prototype.toRed=function(e){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return a(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return a(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var I={k256:null,p224:null,p192:null,p25519:null};function C(g,e){this.name=g,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},C.prototype.ireduce=function(e){var o=e,f;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),f=o.bitLength();while(f>this.n);var h=f<this.n?-1:o.ucmp(this.p);return h===0?(o.words[0]=0,o.length=1):h>0?o.isub(this.p):o.strip(),o},C.prototype.split=function(e,o){e.iushrn(this.n,0,o)},C.prototype.imulK=function(e){return e.imul(this.k)};function R(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}m(R,C),R.prototype.split=function(e,o){for(var f=4194303,h=Math.min(e.length,9),d=0;d<h;d++)o.words[d]=e.words[d];if(o.length=h,e.length<=9){e.words[0]=0,e.length=1;return}var v=e.words[9];for(o.words[o.length++]=v&f,d=10;d<e.length;d++){var w=e.words[d]|0;e.words[d-10]=(w&f)<<4|v>>>22,v=w}v>>>=22,e.words[d-10]=v,v===0&&e.length>10?e.length-=10:e.length-=9},R.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var o=0,f=0;f<e.length;f++){var h=e.words[f]|0;o+=h*977,e.words[f]=o&67108863,o=h*64+(o/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function q(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}m(q,C);function U(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}m(U,C);function j(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}m(j,C),j.prototype.imulK=function(e){for(var o=0,f=0;f<e.length;f++){var h=(e.words[f]|0)*19+o,d=h&67108863;h>>>=26,e.words[f]=d,o=h}return o!==0&&(e.words[e.length++]=o),e},s._prime=function(e){if(I[e])return I[e];var o;if(e==="k256")o=new R;else if(e==="p224")o=new q;else if(e==="p192")o=new U;else if(e==="p25519")o=new j;else throw new Error("Unknown prime "+e);return I[e]=o,o};function V(g){if(typeof g=="string"){var e=s._prime(g);this.m=e.p,this.prime=e}else a(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}V.prototype._verify1=function(e){a(e.negative===0,"red works only with positives"),a(e.red,"red works only with red numbers")},V.prototype._verify2=function(e,o){a((e.negative|o.negative)===0,"red works only with positives"),a(e.red&&e.red===o.red,"red works only with red numbers")},V.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},V.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},V.prototype.add=function(e,o){this._verify2(e,o);var f=e.add(o);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},V.prototype.iadd=function(e,o){this._verify2(e,o);var f=e.iadd(o);return f.cmp(this.m)>=0&&f.isub(this.m),f},V.prototype.sub=function(e,o){this._verify2(e,o);var f=e.sub(o);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},V.prototype.isub=function(e,o){this._verify2(e,o);var f=e.isub(o);return f.cmpn(0)<0&&f.iadd(this.m),f},V.prototype.shl=function(e,o){return this._verify1(e),this.imod(e.ushln(o))},V.prototype.imul=function(e,o){return this._verify2(e,o),this.imod(e.imul(o))},V.prototype.mul=function(e,o){return this._verify2(e,o),this.imod(e.mul(o))},V.prototype.isqr=function(e){return this.imul(e,e.clone())},V.prototype.sqr=function(e){return this.mul(e,e)},V.prototype.sqrt=function(e){if(e.isZero())return e.clone();var o=this.m.andln(3);if(a(o%2===1),o===3){var f=this.m.add(new s(1)).iushrn(2);return this.pow(e,f)}for(var h=this.m.subn(1),d=0;!h.isZero()&&h.andln(1)===0;)d++,h.iushrn(1);a(!h.isZero());var v=new s(1).toRed(this),w=v.redNeg(),u=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new s(2*n*n).toRed(this);this.pow(n,u).cmp(w)!==0;)n.redIAdd(w);for(var c=this.pow(n,h),B=this.pow(e,h.addn(1).iushrn(1)),O=this.pow(e,h),L=d;O.cmp(v)!==0;){for(var D=O,Y=0;D.cmp(v)!==0;Y++)D=D.redSqr();a(Y<L);var tt=this.pow(c,new s(1).iushln(L-Y-1));B=B.redMul(tt),c=tt.redSqr(),O=O.redMul(c),L=Y}return B},V.prototype.invm=function(e){var o=e._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},V.prototype.pow=function(e,o){if(o.isZero())return new s(1).toRed(this);if(o.cmpn(1)===0)return e.clone();var f=4,h=new Array(1<<f);h[0]=new s(1).toRed(this),h[1]=e;for(var d=2;d<h.length;d++)h[d]=this.mul(h[d-1],e);var v=h[0],w=0,u=0,n=o.bitLength()%26;for(n===0&&(n=26),d=o.length-1;d>=0;d--){for(var c=o.words[d],B=n-1;B>=0;B--){var O=c>>B&1;if(v!==h[0]&&(v=this.sqr(v)),O===0&&w===0){u=0;continue}w<<=1,w|=O,u++,!(u!==f&&(d!==0||B!==0))&&(v=this.mul(v,h[w]),u=0,w=0)}n=26}return v},V.prototype.convertTo=function(e){var o=e.umod(this.m);return o===e?o.clone():o},V.prototype.convertFrom=function(e){var o=e.clone();return o.red=null,o},s.mont=function(e){return new Tt(e)};function Tt(g){V.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m(Tt,V),Tt.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Tt.prototype.convertFrom=function(e){var o=this.imod(e.mul(this.rinv));return o.red=null,o},Tt.prototype.imul=function(e,o){if(e.isZero()||o.isZero())return e.words[0]=0,e.length=1,e;var f=e.imul(o),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=f.isub(h).iushrn(this.shift),v=d;return d.cmp(this.m)>=0?v=d.isub(this.m):d.cmpn(0)<0&&(v=d.iadd(this.m)),v._forceRed(this)},Tt.prototype.mul=function(e,o){if(e.isZero()||o.isZero())return new s(0)._forceRed(this);var f=e.mul(o),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=f.isub(h).iushrn(this.shift),v=d;return d.cmp(this.m)>=0?v=d.isub(this.m):d.cmpn(0)<0&&(v=d.iadd(this.m)),v._forceRed(this)},Tt.prototype.invm=function(e){var o=this.imod(e._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,ri)})(hs);var us=Gr;Gr.strict=Ni;Gr.loose=Oi;var ls=Object.prototype.toString,cs={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Gr(r){return Ni(r)||Oi(r)}function Ni(r){return r instanceof Int8Array||r instanceof Int16Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Uint16Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array}function Oi(r){return cs[ls.call(r)]}var ds=us.strict,ps=function(t){if(ds(t)){var i=Buffer.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(i=i.slice(t.byteOffset,t.byteOffset+t.byteLength)),i}else return Buffer.from(t)};const Li="hex",Ui="utf8",gr="0";function Ee(r){return new Uint8Array(r)}function Fi(r,t=!1){const i=r.toString(Li);return t?Ne(i):i}function ms(r){return r.toString(Ui)}function vr(r){return ps(r)}function be(r,t=!1){return Fi(vr(r),t)}function gs(r){return ms(vr(r))}function vs(r){return Buffer.from(Jt(r),Li)}function xe(r){return Ee(vs(r))}function Xr(r){return Buffer.from(r,Ui)}function _s(r){return Ee(Xr(r))}function ws(r,t=!1){return Fi(Xr(r),t)}function ys(r,t){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||t&&r.length!==2+2*t)}function Pi(...r){let t=[];return r.forEach(i=>t=t.concat(Array.from(i))),new Uint8Array([...t])}function Ms(r,t=8){const i=r%t;return i?(r-i)/t*t+t:r}function bs(r,t=8,i=gr){return xs(r,Ms(r.length,t),i)}function xs(r,t,i=gr){return Ss(r,t,!0,i)}function Jt(r){return r.replace(/^0x/,"")}function Ne(r){return r.startsWith("0x")?r:`0x${r}`}function qi(r){return r=Jt(r),r=bs(r,2),r&&(r=Ne(r)),r}function Es(r){const t=r.startsWith("0x");return r=Jt(r),r=r.startsWith(gr)?r.substring(1):r,t?Ne(r):r}function Ss(r,t,i,a=gr){const m=t-r.length;let s=r;if(m>0){const y=a.repeat(m);s=i?y+r:r+y}return s}function Cs(r,t){let i;const a=fs[r];return a&&(i=`https://${a}.infura.io/v3/${t}`),i}function ks(r,t){let i;const a=Cs(r,t.infuraId);return t.custom&&t.custom[r]?i=t.custom[r]:a&&(i=a),i}var Is={};(function(r){const t=ai,i=si,a=oi,m=b=>b==null;function s(b){switch(b.arrayFormat){case"index":return E=>(I,C)=>{const R=I.length;return C===void 0||b.skipNull&&C===null||b.skipEmptyString&&C===""?I:C===null?[...I,[S(E,b),"[",R,"]"].join("")]:[...I,[S(E,b),"[",S(R,b),"]=",S(C,b)].join("")]};case"bracket":return E=>(I,C)=>C===void 0||b.skipNull&&C===null||b.skipEmptyString&&C===""?I:C===null?[...I,[S(E,b),"[]"].join("")]:[...I,[S(E,b),"[]=",S(C,b)].join("")];case"comma":case"separator":return E=>(I,C)=>C==null||C.length===0?I:I.length===0?[[S(E,b),"=",S(C,b)].join("")]:[[I,S(C,b)].join(b.arrayFormatSeparator)];default:return E=>(I,C)=>C===void 0||b.skipNull&&C===null||b.skipEmptyString&&C===""?I:C===null?[...I,S(E,b)]:[...I,[S(E,b),"=",S(C,b)].join("")]}}function y(b){let E;switch(b.arrayFormat){case"index":return(I,C,R)=>{if(E=/\[(\d*)\]$/.exec(I),I=I.replace(/\[\d*\]$/,""),!E){R[I]=C;return}R[I]===void 0&&(R[I]={}),R[I][E[1]]=C};case"bracket":return(I,C,R)=>{if(E=/(\[\])$/.exec(I),I=I.replace(/\[\]$/,""),!E){R[I]=C;return}if(R[I]===void 0){R[I]=[C];return}R[I]=[].concat(R[I],C)};case"comma":case"separator":return(I,C,R)=>{const U=typeof C=="string"&&C.split("").indexOf(b.arrayFormatSeparator)>-1?C.split(b.arrayFormatSeparator).map(j=>T(j,b)):C===null?C:T(C,b);R[I]=U};default:return(I,C,R)=>{if(R[I]===void 0){R[I]=C;return}R[I]=[].concat(R[I],C)}}}function _(b){if(typeof b!="string"||b.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function S(b,E){return E.encode?E.strict?t(b):encodeURIComponent(b):b}function T(b,E){return E.decode?i(b):b}function A(b){return Array.isArray(b)?b.sort():typeof b=="object"?A(Object.keys(b)).sort((E,I)=>Number(E)-Number(I)).map(E=>b[E]):b}function F(b){const E=b.indexOf("#");return E!==-1&&(b=b.slice(0,E)),b}function W(b){let E="";const I=b.indexOf("#");return I!==-1&&(E=b.slice(I)),E}function z(b){b=F(b);const E=b.indexOf("?");return E===-1?"":b.slice(E+1)}function $(b,E){return E.parseNumbers&&!Number.isNaN(Number(b))&&typeof b=="string"&&b.trim()!==""?b=Number(b):E.parseBooleans&&b!==null&&(b.toLowerCase()==="true"||b.toLowerCase()==="false")&&(b=b.toLowerCase()==="true"),b}function Z(b,E){E=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},E),_(E.arrayFormatSeparator);const I=y(E),C=Object.create(null);if(typeof b!="string"||(b=b.trim().replace(/^[?#&]/,""),!b))return C;for(const R of b.split("&")){let[q,U]=a(E.decode?R.replace(/\+/g," "):R,"=");U=U===void 0?null:["comma","separator"].includes(E.arrayFormat)?U:T(U,E),I(T(q,E),U,C)}for(const R of Object.keys(C)){const q=C[R];if(typeof q=="object"&&q!==null)for(const U of Object.keys(q))q[U]=$(q[U],E);else C[R]=$(q,E)}return E.sort===!1?C:(E.sort===!0?Object.keys(C).sort():Object.keys(C).sort(E.sort)).reduce((R,q)=>{const U=C[q];return U&&typeof U=="object"&&!Array.isArray(U)?R[q]=A(U):R[q]=U,R},Object.create(null))}r.extract=z,r.parse=Z,r.stringify=(b,E)=>{if(!b)return"";E=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},E),_(E.arrayFormatSeparator);const I=U=>E.skipNull&&m(b[U])||E.skipEmptyString&&b[U]==="",C=s(E),R={};for(const U of Object.keys(b))I(U)||(R[U]=b[U]);const q=Object.keys(R);return E.sort!==!1&&q.sort(E.sort),q.map(U=>{const j=b[U];return j===void 0?"":j===null?S(U,E):Array.isArray(j)?j.reduce(C(U),[]).join("&"):S(U,E)+"="+S(j,E)}).filter(U=>U.length>0).join("&")},r.parseUrl=(b,E)=>{E=Object.assign({decode:!0},E);const[I,C]=a(b,"#");return Object.assign({url:I.split("?")[0]||"",query:Z(z(b),E)},E&&E.parseFragmentIdentifier&&C?{fragmentIdentifier:T(C,E)}:{})},r.stringifyUrl=(b,E)=>{E=Object.assign({encode:!0,strict:!0},E);const I=F(b.url).split("?")[0]||"",C=r.extract(b.url),R=r.parse(C,{sort:!1}),q=Object.assign(R,b.query);let U=r.stringify(q,E);U&&(U=`?${U}`);let j=W(b.url);return b.fragmentIdentifier&&(j=`#${S(b.fragmentIdentifier,E)}`),`${I}${U}${j}`}})(Is);const As=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Di=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var Lr={},Ts={get exports(){return Lr},set exports(r){Lr=r}};(function(r){(function(t,i){function a(g,e){if(!g)throw new Error(e||"Assertion failed")}function m(g,e){g.super_=e;var o=function(){};o.prototype=e.prototype,g.prototype=new o,g.prototype.constructor=g}function s(g,e,o){if(s.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((e==="le"||e==="be")&&(o=e,e=10),this._init(g||0,e||10,o||"be"))}typeof t=="object"?t.exports=s:i.BN=s,s.BN=s,s.wordSize=26;var y;try{y=ei.Buffer}catch{}s.isBN=function(e){return e instanceof s?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,o){return e.cmp(o)>0?e:o},s.min=function(e,o){return e.cmp(o)<0?e:o},s.prototype._init=function(e,o,f){if(typeof e=="number")return this._initNumber(e,o,f);if(typeof e=="object")return this._initArray(e,o,f);o==="hex"&&(o=16),a(o===(o|0)&&o>=2&&o<=36),e=e.toString().replace(/\s+/g,"");var h=0;e[0]==="-"&&h++,o===16?this._parseHex(e,h):this._parseBase(e,o,h),e[0]==="-"&&(this.negative=1),this.strip(),f==="le"&&this._initArray(this.toArray(),o,f)},s.prototype._initNumber=function(e,o,f){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(a(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),o,f)},s.prototype._initArray=function(e,o,f){if(a(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var d,v,w=0;if(f==="be")for(h=e.length-1,d=0;h>=0;h-=3)v=e[h]|e[h-1]<<8|e[h-2]<<16,this.words[d]|=v<<w&67108863,this.words[d+1]=v>>>26-w&67108863,w+=24,w>=26&&(w-=26,d++);else if(f==="le")for(h=0,d=0;h<e.length;h+=3)v=e[h]|e[h+1]<<8|e[h+2]<<16,this.words[d]|=v<<w&67108863,this.words[d+1]=v>>>26-w&67108863,w+=24,w>=26&&(w-=26,d++);return this.strip()};function _(g,e,o){for(var f=0,h=Math.min(g.length,o),d=e;d<h;d++){var v=g.charCodeAt(d)-48;f<<=4,v>=49&&v<=54?f|=v-49+10:v>=17&&v<=22?f|=v-17+10:f|=v&15}return f}s.prototype._parseHex=function(e,o){this.length=Math.ceil((e.length-o)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var h,d,v=0;for(f=e.length-6,h=0;f>=o;f-=6)d=_(e,f,f+6),this.words[h]|=d<<v&67108863,this.words[h+1]|=d>>>26-v&4194303,v+=24,v>=26&&(v-=26,h++);f+6!==o&&(d=_(e,o,f+6),this.words[h]|=d<<v&67108863,this.words[h+1]|=d>>>26-v&4194303),this.strip()};function S(g,e,o,f){for(var h=0,d=Math.min(g.length,o),v=e;v<d;v++){var w=g.charCodeAt(v)-48;h*=f,w>=49?h+=w-49+10:w>=17?h+=w-17+10:h+=w}return h}s.prototype._parseBase=function(e,o,f){this.words=[0],this.length=1;for(var h=0,d=1;d<=67108863;d*=o)h++;h--,d=d/o|0;for(var v=e.length-f,w=v%h,u=Math.min(v,v-w)+f,n=0,c=f;c<u;c+=h)n=S(e,c,c+h,o),this.imuln(d),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(w!==0){var B=1;for(n=S(e,c,e.length,o),c=0;c<w;c++)B*=o;this.imuln(B),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}},s.prototype.copy=function(e){e.words=new Array(this.length);for(var o=0;o<this.length;o++)e.words[o]=this.words[o];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(e,o){e=e||10,o=o|0||1;var f;if(e===16||e==="hex"){f="";for(var h=0,d=0,v=0;v<this.length;v++){var w=this.words[v],u=((w<<h|d)&16777215).toString(16);d=w>>>24-h&16777215,d!==0||v!==this.length-1?f=T[6-u.length]+u+f:f=u+f,h+=2,h>=26&&(h-=26,v--)}for(d!==0&&(f=d.toString(16)+f);f.length%o!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(e===(e|0)&&e>=2&&e<=36){var n=A[e],c=F[e];f="";var B=this.clone();for(B.negative=0;!B.isZero();){var O=B.modn(c).toString(e);B=B.idivn(c),B.isZero()?f=O+f:f=T[n-O.length]+O+f}for(this.isZero()&&(f="0"+f);f.length%o!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}a(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,o){return a(typeof y<"u"),this.toArrayLike(y,e,o)},s.prototype.toArray=function(e,o){return this.toArrayLike(Array,e,o)},s.prototype.toArrayLike=function(e,o,f){var h=this.byteLength(),d=f||Math.max(1,h);a(h<=d,"byte array longer than desired length"),a(d>0,"Requested array length <= 0"),this.strip();var v=o==="le",w=new e(d),u,n,c=this.clone();if(v){for(n=0;!c.isZero();n++)u=c.andln(255),c.iushrn(8),w[n]=u;for(;n<d;n++)w[n]=0}else{for(n=0;n<d-h;n++)w[n]=0;for(n=0;!c.isZero();n++)u=c.andln(255),c.iushrn(8),w[d-n-1]=u}return w},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var o=e,f=0;return o>=4096&&(f+=13,o>>>=13),o>=64&&(f+=7,o>>>=7),o>=8&&(f+=4,o>>>=4),o>=2&&(f+=2,o>>>=2),f+o},s.prototype._zeroBits=function(e){if(e===0)return 26;var o=e,f=0;return o&8191||(f+=13,o>>>=13),o&127||(f+=7,o>>>=7),o&15||(f+=4,o>>>=4),o&3||(f+=2,o>>>=2),o&1||f++,f},s.prototype.bitLength=function(){var e=this.words[this.length-1],o=this._countBits(e);return(this.length-1)*26+o};function W(g){for(var e=new Array(g.bitLength()),o=0;o<e.length;o++){var f=o/26|0,h=o%26;e[o]=(g.words[f]&1<<h)>>>h}return e}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,o=0;o<this.length;o++){var f=this._zeroBits(this.words[o]);if(e+=f,f!==26)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var o=0;o<e.length;o++)this.words[o]=this.words[o]|e.words[o];return this.strip()},s.prototype.ior=function(e){return a((this.negative|e.negative)===0),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var o;this.length>e.length?o=e:o=this;for(var f=0;f<o.length;f++)this.words[f]=this.words[f]&e.words[f];return this.length=o.length,this.strip()},s.prototype.iand=function(e){return a((this.negative|e.negative)===0),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var o,f;this.length>e.length?(o=this,f=e):(o=e,f=this);for(var h=0;h<f.length;h++)this.words[h]=o.words[h]^f.words[h];if(this!==o)for(;h<o.length;h++)this.words[h]=o.words[h];return this.length=o.length,this.strip()},s.prototype.ixor=function(e){return a((this.negative|e.negative)===0),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){a(typeof e=="number"&&e>=0);var o=Math.ceil(e/26)|0,f=e%26;this._expand(o),f>0&&o--;for(var h=0;h<o;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,o){a(typeof e=="number"&&e>=0);var f=e/26|0,h=e%26;return this._expand(f+1),o?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},s.prototype.iadd=function(e){var o;if(this.negative!==0&&e.negative===0)return this.negative=0,o=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,o=this.isub(e),e.negative=1,o._normSign();var f,h;this.length>e.length?(f=this,h=e):(f=e,h=this);for(var d=0,v=0;v<h.length;v++)o=(f.words[v]|0)+(h.words[v]|0)+d,this.words[v]=o&67108863,d=o>>>26;for(;d!==0&&v<f.length;v++)o=(f.words[v]|0)+d,this.words[v]=o&67108863,d=o>>>26;if(this.length=f.length,d!==0)this.words[this.length]=d,this.length++;else if(f!==this)for(;v<f.length;v++)this.words[v]=f.words[v];return this},s.prototype.add=function(e){var o;return e.negative!==0&&this.negative===0?(e.negative=0,o=this.sub(e),e.negative^=1,o):e.negative===0&&this.negative!==0?(this.negative=0,o=e.sub(this),this.negative=1,o):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var o=this.iadd(e);return e.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var f=this.cmp(e);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,d;f>0?(h=this,d=e):(h=e,d=this);for(var v=0,w=0;w<d.length;w++)o=(h.words[w]|0)-(d.words[w]|0)+v,v=o>>26,this.words[w]=o&67108863;for(;v!==0&&w<h.length;w++)o=(h.words[w]|0)+v,v=o>>26,this.words[w]=o&67108863;if(v===0&&w<h.length&&h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=Math.max(this.length,w),h!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};function z(g,e,o){o.negative=e.negative^g.negative;var f=g.length+e.length|0;o.length=f,f=f-1|0;var h=g.words[0]|0,d=e.words[0]|0,v=h*d,w=v&67108863,u=v/67108864|0;o.words[0]=w;for(var n=1;n<f;n++){for(var c=u>>>26,B=u&67108863,O=Math.min(n,e.length-1),L=Math.max(0,n-g.length+1);L<=O;L++){var D=n-L|0;h=g.words[D]|0,d=e.words[L]|0,v=h*d+B,c+=v/67108864|0,B=v&67108863}o.words[n]=B|0,u=c|0}return u!==0?o.words[n]=u|0:o.length--,o.strip()}var $=function(e,o,f){var h=e.words,d=o.words,v=f.words,w=0,u,n,c,B=h[0]|0,O=B&8191,L=B>>>13,D=h[1]|0,Y=D&8191,tt=D>>>13,Ot=h[2]|0,X=Ot&8191,et=Ot>>>13,jt=h[3]|0,ot=jt&8191,nt=jt>>>13,Lt=h[4]|0,it=Lt&8191,ft=Lt>>>13,M=h[5]|0,l=M&8191,p=M>>>13,x=h[6]|0,k=x&8191,N=x>>>13,P=h[7]|0,H=P&8191,J=P>>>13,Rt=h[8]|0,G=Rt&8191,Q=Rt>>>13,Dt=h[9]|0,at=Dt&8191,st=Dt>>>13,Le=d[0]|0,ht=Le&8191,ut=Le>>>13,Ue=d[1]|0,lt=Ue&8191,ct=Ue>>>13,Fe=d[2]|0,dt=Fe&8191,pt=Fe>>>13,Pe=d[3]|0,mt=Pe&8191,gt=Pe>>>13,qe=d[4]|0,vt=qe&8191,_t=qe>>>13,De=d[5]|0,wt=De&8191,yt=De>>>13,$e=d[6]|0,Mt=$e&8191,bt=$e>>>13,We=d[7]|0,xt=We&8191,Et=We>>>13,ze=d[8]|0,St=ze&8191,Ct=ze>>>13,He=d[9]|0,kt=He&8191,It=He>>>13;f.negative=e.negative^o.negative,f.length=19,u=Math.imul(O,ht),n=Math.imul(O,ut),n=n+Math.imul(L,ht)|0,c=Math.imul(L,ut);var Gt=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,u=Math.imul(Y,ht),n=Math.imul(Y,ut),n=n+Math.imul(tt,ht)|0,c=Math.imul(tt,ut),u=u+Math.imul(O,lt)|0,n=n+Math.imul(O,ct)|0,n=n+Math.imul(L,lt)|0,c=c+Math.imul(L,ct)|0;var Xt=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,u=Math.imul(X,ht),n=Math.imul(X,ut),n=n+Math.imul(et,ht)|0,c=Math.imul(et,ut),u=u+Math.imul(Y,lt)|0,n=n+Math.imul(Y,ct)|0,n=n+Math.imul(tt,lt)|0,c=c+Math.imul(tt,ct)|0,u=u+Math.imul(O,dt)|0,n=n+Math.imul(O,pt)|0,n=n+Math.imul(L,dt)|0,c=c+Math.imul(L,pt)|0;var te=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(te>>>26)|0,te&=67108863,u=Math.imul(ot,ht),n=Math.imul(ot,ut),n=n+Math.imul(nt,ht)|0,c=Math.imul(nt,ut),u=u+Math.imul(X,lt)|0,n=n+Math.imul(X,ct)|0,n=n+Math.imul(et,lt)|0,c=c+Math.imul(et,ct)|0,u=u+Math.imul(Y,dt)|0,n=n+Math.imul(Y,pt)|0,n=n+Math.imul(tt,dt)|0,c=c+Math.imul(tt,pt)|0,u=u+Math.imul(O,mt)|0,n=n+Math.imul(O,gt)|0,n=n+Math.imul(L,mt)|0,c=c+Math.imul(L,gt)|0;var ee=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ee>>>26)|0,ee&=67108863,u=Math.imul(it,ht),n=Math.imul(it,ut),n=n+Math.imul(ft,ht)|0,c=Math.imul(ft,ut),u=u+Math.imul(ot,lt)|0,n=n+Math.imul(ot,ct)|0,n=n+Math.imul(nt,lt)|0,c=c+Math.imul(nt,ct)|0,u=u+Math.imul(X,dt)|0,n=n+Math.imul(X,pt)|0,n=n+Math.imul(et,dt)|0,c=c+Math.imul(et,pt)|0,u=u+Math.imul(Y,mt)|0,n=n+Math.imul(Y,gt)|0,n=n+Math.imul(tt,mt)|0,c=c+Math.imul(tt,gt)|0,u=u+Math.imul(O,vt)|0,n=n+Math.imul(O,_t)|0,n=n+Math.imul(L,vt)|0,c=c+Math.imul(L,_t)|0;var re=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(re>>>26)|0,re&=67108863,u=Math.imul(l,ht),n=Math.imul(l,ut),n=n+Math.imul(p,ht)|0,c=Math.imul(p,ut),u=u+Math.imul(it,lt)|0,n=n+Math.imul(it,ct)|0,n=n+Math.imul(ft,lt)|0,c=c+Math.imul(ft,ct)|0,u=u+Math.imul(ot,dt)|0,n=n+Math.imul(ot,pt)|0,n=n+Math.imul(nt,dt)|0,c=c+Math.imul(nt,pt)|0,u=u+Math.imul(X,mt)|0,n=n+Math.imul(X,gt)|0,n=n+Math.imul(et,mt)|0,c=c+Math.imul(et,gt)|0,u=u+Math.imul(Y,vt)|0,n=n+Math.imul(Y,_t)|0,n=n+Math.imul(tt,vt)|0,c=c+Math.imul(tt,_t)|0,u=u+Math.imul(O,wt)|0,n=n+Math.imul(O,yt)|0,n=n+Math.imul(L,wt)|0,c=c+Math.imul(L,yt)|0;var ne=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ne>>>26)|0,ne&=67108863,u=Math.imul(k,ht),n=Math.imul(k,ut),n=n+Math.imul(N,ht)|0,c=Math.imul(N,ut),u=u+Math.imul(l,lt)|0,n=n+Math.imul(l,ct)|0,n=n+Math.imul(p,lt)|0,c=c+Math.imul(p,ct)|0,u=u+Math.imul(it,dt)|0,n=n+Math.imul(it,pt)|0,n=n+Math.imul(ft,dt)|0,c=c+Math.imul(ft,pt)|0,u=u+Math.imul(ot,mt)|0,n=n+Math.imul(ot,gt)|0,n=n+Math.imul(nt,mt)|0,c=c+Math.imul(nt,gt)|0,u=u+Math.imul(X,vt)|0,n=n+Math.imul(X,_t)|0,n=n+Math.imul(et,vt)|0,c=c+Math.imul(et,_t)|0,u=u+Math.imul(Y,wt)|0,n=n+Math.imul(Y,yt)|0,n=n+Math.imul(tt,wt)|0,c=c+Math.imul(tt,yt)|0,u=u+Math.imul(O,Mt)|0,n=n+Math.imul(O,bt)|0,n=n+Math.imul(L,Mt)|0,c=c+Math.imul(L,bt)|0;var ie=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ie>>>26)|0,ie&=67108863,u=Math.imul(H,ht),n=Math.imul(H,ut),n=n+Math.imul(J,ht)|0,c=Math.imul(J,ut),u=u+Math.imul(k,lt)|0,n=n+Math.imul(k,ct)|0,n=n+Math.imul(N,lt)|0,c=c+Math.imul(N,ct)|0,u=u+Math.imul(l,dt)|0,n=n+Math.imul(l,pt)|0,n=n+Math.imul(p,dt)|0,c=c+Math.imul(p,pt)|0,u=u+Math.imul(it,mt)|0,n=n+Math.imul(it,gt)|0,n=n+Math.imul(ft,mt)|0,c=c+Math.imul(ft,gt)|0,u=u+Math.imul(ot,vt)|0,n=n+Math.imul(ot,_t)|0,n=n+Math.imul(nt,vt)|0,c=c+Math.imul(nt,_t)|0,u=u+Math.imul(X,wt)|0,n=n+Math.imul(X,yt)|0,n=n+Math.imul(et,wt)|0,c=c+Math.imul(et,yt)|0,u=u+Math.imul(Y,Mt)|0,n=n+Math.imul(Y,bt)|0,n=n+Math.imul(tt,Mt)|0,c=c+Math.imul(tt,bt)|0,u=u+Math.imul(O,xt)|0,n=n+Math.imul(O,Et)|0,n=n+Math.imul(L,xt)|0,c=c+Math.imul(L,Et)|0;var oe=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(oe>>>26)|0,oe&=67108863,u=Math.imul(G,ht),n=Math.imul(G,ut),n=n+Math.imul(Q,ht)|0,c=Math.imul(Q,ut),u=u+Math.imul(H,lt)|0,n=n+Math.imul(H,ct)|0,n=n+Math.imul(J,lt)|0,c=c+Math.imul(J,ct)|0,u=u+Math.imul(k,dt)|0,n=n+Math.imul(k,pt)|0,n=n+Math.imul(N,dt)|0,c=c+Math.imul(N,pt)|0,u=u+Math.imul(l,mt)|0,n=n+Math.imul(l,gt)|0,n=n+Math.imul(p,mt)|0,c=c+Math.imul(p,gt)|0,u=u+Math.imul(it,vt)|0,n=n+Math.imul(it,_t)|0,n=n+Math.imul(ft,vt)|0,c=c+Math.imul(ft,_t)|0,u=u+Math.imul(ot,wt)|0,n=n+Math.imul(ot,yt)|0,n=n+Math.imul(nt,wt)|0,c=c+Math.imul(nt,yt)|0,u=u+Math.imul(X,Mt)|0,n=n+Math.imul(X,bt)|0,n=n+Math.imul(et,Mt)|0,c=c+Math.imul(et,bt)|0,u=u+Math.imul(Y,xt)|0,n=n+Math.imul(Y,Et)|0,n=n+Math.imul(tt,xt)|0,c=c+Math.imul(tt,Et)|0,u=u+Math.imul(O,St)|0,n=n+Math.imul(O,Ct)|0,n=n+Math.imul(L,St)|0,c=c+Math.imul(L,Ct)|0;var ae=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ae>>>26)|0,ae&=67108863,u=Math.imul(at,ht),n=Math.imul(at,ut),n=n+Math.imul(st,ht)|0,c=Math.imul(st,ut),u=u+Math.imul(G,lt)|0,n=n+Math.imul(G,ct)|0,n=n+Math.imul(Q,lt)|0,c=c+Math.imul(Q,ct)|0,u=u+Math.imul(H,dt)|0,n=n+Math.imul(H,pt)|0,n=n+Math.imul(J,dt)|0,c=c+Math.imul(J,pt)|0,u=u+Math.imul(k,mt)|0,n=n+Math.imul(k,gt)|0,n=n+Math.imul(N,mt)|0,c=c+Math.imul(N,gt)|0,u=u+Math.imul(l,vt)|0,n=n+Math.imul(l,_t)|0,n=n+Math.imul(p,vt)|0,c=c+Math.imul(p,_t)|0,u=u+Math.imul(it,wt)|0,n=n+Math.imul(it,yt)|0,n=n+Math.imul(ft,wt)|0,c=c+Math.imul(ft,yt)|0,u=u+Math.imul(ot,Mt)|0,n=n+Math.imul(ot,bt)|0,n=n+Math.imul(nt,Mt)|0,c=c+Math.imul(nt,bt)|0,u=u+Math.imul(X,xt)|0,n=n+Math.imul(X,Et)|0,n=n+Math.imul(et,xt)|0,c=c+Math.imul(et,Et)|0,u=u+Math.imul(Y,St)|0,n=n+Math.imul(Y,Ct)|0,n=n+Math.imul(tt,St)|0,c=c+Math.imul(tt,Ct)|0,u=u+Math.imul(O,kt)|0,n=n+Math.imul(O,It)|0,n=n+Math.imul(L,kt)|0,c=c+Math.imul(L,It)|0;var se=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(se>>>26)|0,se&=67108863,u=Math.imul(at,lt),n=Math.imul(at,ct),n=n+Math.imul(st,lt)|0,c=Math.imul(st,ct),u=u+Math.imul(G,dt)|0,n=n+Math.imul(G,pt)|0,n=n+Math.imul(Q,dt)|0,c=c+Math.imul(Q,pt)|0,u=u+Math.imul(H,mt)|0,n=n+Math.imul(H,gt)|0,n=n+Math.imul(J,mt)|0,c=c+Math.imul(J,gt)|0,u=u+Math.imul(k,vt)|0,n=n+Math.imul(k,_t)|0,n=n+Math.imul(N,vt)|0,c=c+Math.imul(N,_t)|0,u=u+Math.imul(l,wt)|0,n=n+Math.imul(l,yt)|0,n=n+Math.imul(p,wt)|0,c=c+Math.imul(p,yt)|0,u=u+Math.imul(it,Mt)|0,n=n+Math.imul(it,bt)|0,n=n+Math.imul(ft,Mt)|0,c=c+Math.imul(ft,bt)|0,u=u+Math.imul(ot,xt)|0,n=n+Math.imul(ot,Et)|0,n=n+Math.imul(nt,xt)|0,c=c+Math.imul(nt,Et)|0,u=u+Math.imul(X,St)|0,n=n+Math.imul(X,Ct)|0,n=n+Math.imul(et,St)|0,c=c+Math.imul(et,Ct)|0,u=u+Math.imul(Y,kt)|0,n=n+Math.imul(Y,It)|0,n=n+Math.imul(tt,kt)|0,c=c+Math.imul(tt,It)|0;var fe=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(fe>>>26)|0,fe&=67108863,u=Math.imul(at,dt),n=Math.imul(at,pt),n=n+Math.imul(st,dt)|0,c=Math.imul(st,pt),u=u+Math.imul(G,mt)|0,n=n+Math.imul(G,gt)|0,n=n+Math.imul(Q,mt)|0,c=c+Math.imul(Q,gt)|0,u=u+Math.imul(H,vt)|0,n=n+Math.imul(H,_t)|0,n=n+Math.imul(J,vt)|0,c=c+Math.imul(J,_t)|0,u=u+Math.imul(k,wt)|0,n=n+Math.imul(k,yt)|0,n=n+Math.imul(N,wt)|0,c=c+Math.imul(N,yt)|0,u=u+Math.imul(l,Mt)|0,n=n+Math.imul(l,bt)|0,n=n+Math.imul(p,Mt)|0,c=c+Math.imul(p,bt)|0,u=u+Math.imul(it,xt)|0,n=n+Math.imul(it,Et)|0,n=n+Math.imul(ft,xt)|0,c=c+Math.imul(ft,Et)|0,u=u+Math.imul(ot,St)|0,n=n+Math.imul(ot,Ct)|0,n=n+Math.imul(nt,St)|0,c=c+Math.imul(nt,Ct)|0,u=u+Math.imul(X,kt)|0,n=n+Math.imul(X,It)|0,n=n+Math.imul(et,kt)|0,c=c+Math.imul(et,It)|0;var he=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(he>>>26)|0,he&=67108863,u=Math.imul(at,mt),n=Math.imul(at,gt),n=n+Math.imul(st,mt)|0,c=Math.imul(st,gt),u=u+Math.imul(G,vt)|0,n=n+Math.imul(G,_t)|0,n=n+Math.imul(Q,vt)|0,c=c+Math.imul(Q,_t)|0,u=u+Math.imul(H,wt)|0,n=n+Math.imul(H,yt)|0,n=n+Math.imul(J,wt)|0,c=c+Math.imul(J,yt)|0,u=u+Math.imul(k,Mt)|0,n=n+Math.imul(k,bt)|0,n=n+Math.imul(N,Mt)|0,c=c+Math.imul(N,bt)|0,u=u+Math.imul(l,xt)|0,n=n+Math.imul(l,Et)|0,n=n+Math.imul(p,xt)|0,c=c+Math.imul(p,Et)|0,u=u+Math.imul(it,St)|0,n=n+Math.imul(it,Ct)|0,n=n+Math.imul(ft,St)|0,c=c+Math.imul(ft,Ct)|0,u=u+Math.imul(ot,kt)|0,n=n+Math.imul(ot,It)|0,n=n+Math.imul(nt,kt)|0,c=c+Math.imul(nt,It)|0;var ue=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ue>>>26)|0,ue&=67108863,u=Math.imul(at,vt),n=Math.imul(at,_t),n=n+Math.imul(st,vt)|0,c=Math.imul(st,_t),u=u+Math.imul(G,wt)|0,n=n+Math.imul(G,yt)|0,n=n+Math.imul(Q,wt)|0,c=c+Math.imul(Q,yt)|0,u=u+Math.imul(H,Mt)|0,n=n+Math.imul(H,bt)|0,n=n+Math.imul(J,Mt)|0,c=c+Math.imul(J,bt)|0,u=u+Math.imul(k,xt)|0,n=n+Math.imul(k,Et)|0,n=n+Math.imul(N,xt)|0,c=c+Math.imul(N,Et)|0,u=u+Math.imul(l,St)|0,n=n+Math.imul(l,Ct)|0,n=n+Math.imul(p,St)|0,c=c+Math.imul(p,Ct)|0,u=u+Math.imul(it,kt)|0,n=n+Math.imul(it,It)|0,n=n+Math.imul(ft,kt)|0,c=c+Math.imul(ft,It)|0;var le=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(le>>>26)|0,le&=67108863,u=Math.imul(at,wt),n=Math.imul(at,yt),n=n+Math.imul(st,wt)|0,c=Math.imul(st,yt),u=u+Math.imul(G,Mt)|0,n=n+Math.imul(G,bt)|0,n=n+Math.imul(Q,Mt)|0,c=c+Math.imul(Q,bt)|0,u=u+Math.imul(H,xt)|0,n=n+Math.imul(H,Et)|0,n=n+Math.imul(J,xt)|0,c=c+Math.imul(J,Et)|0,u=u+Math.imul(k,St)|0,n=n+Math.imul(k,Ct)|0,n=n+Math.imul(N,St)|0,c=c+Math.imul(N,Ct)|0,u=u+Math.imul(l,kt)|0,n=n+Math.imul(l,It)|0,n=n+Math.imul(p,kt)|0,c=c+Math.imul(p,It)|0;var ce=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(ce>>>26)|0,ce&=67108863,u=Math.imul(at,Mt),n=Math.imul(at,bt),n=n+Math.imul(st,Mt)|0,c=Math.imul(st,bt),u=u+Math.imul(G,xt)|0,n=n+Math.imul(G,Et)|0,n=n+Math.imul(Q,xt)|0,c=c+Math.imul(Q,Et)|0,u=u+Math.imul(H,St)|0,n=n+Math.imul(H,Ct)|0,n=n+Math.imul(J,St)|0,c=c+Math.imul(J,Ct)|0,u=u+Math.imul(k,kt)|0,n=n+Math.imul(k,It)|0,n=n+Math.imul(N,kt)|0,c=c+Math.imul(N,It)|0;var de=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(de>>>26)|0,de&=67108863,u=Math.imul(at,xt),n=Math.imul(at,Et),n=n+Math.imul(st,xt)|0,c=Math.imul(st,Et),u=u+Math.imul(G,St)|0,n=n+Math.imul(G,Ct)|0,n=n+Math.imul(Q,St)|0,c=c+Math.imul(Q,Ct)|0,u=u+Math.imul(H,kt)|0,n=n+Math.imul(H,It)|0,n=n+Math.imul(J,kt)|0,c=c+Math.imul(J,It)|0;var pe=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(pe>>>26)|0,pe&=67108863,u=Math.imul(at,St),n=Math.imul(at,Ct),n=n+Math.imul(st,St)|0,c=Math.imul(st,Ct),u=u+Math.imul(G,kt)|0,n=n+Math.imul(G,It)|0,n=n+Math.imul(Q,kt)|0,c=c+Math.imul(Q,It)|0;var me=(w+u|0)+((n&8191)<<13)|0;w=(c+(n>>>13)|0)+(me>>>26)|0,me&=67108863,u=Math.imul(at,kt),n=Math.imul(at,It),n=n+Math.imul(st,kt)|0,c=Math.imul(st,It);var ge=(w+u|0)+((n&8191)<<13)|0;return w=(c+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,v[0]=Gt,v[1]=Xt,v[2]=te,v[3]=ee,v[4]=re,v[5]=ne,v[6]=ie,v[7]=oe,v[8]=ae,v[9]=se,v[10]=fe,v[11]=he,v[12]=ue,v[13]=le,v[14]=ce,v[15]=de,v[16]=pe,v[17]=me,v[18]=ge,w!==0&&(v[19]=w,f.length++),f};Math.imul||($=z);function Z(g,e,o){o.negative=e.negative^g.negative,o.length=g.length+e.length;for(var f=0,h=0,d=0;d<o.length-1;d++){var v=h;h=0;for(var w=f&67108863,u=Math.min(d,e.length-1),n=Math.max(0,d-g.length+1);n<=u;n++){var c=d-n,B=g.words[c]|0,O=e.words[n]|0,L=B*O,D=L&67108863;v=v+(L/67108864|0)|0,D=D+w|0,w=D&67108863,v=v+(D>>>26)|0,h+=v>>>26,v&=67108863}o.words[d]=w,f=v,v=h}return f!==0?o.words[d]=f:o.length--,o.strip()}function b(g,e,o){var f=new E;return f.mulp(g,e,o)}s.prototype.mulTo=function(e,o){var f,h=this.length+e.length;return this.length===10&&e.length===10?f=$(this,e,o):h<63?f=z(this,e,o):h<1024?f=Z(this,e,o):f=b(this,e,o),f};function E(g,e){this.x=g,this.y=e}E.prototype.makeRBT=function(e){for(var o=new Array(e),f=s.prototype._countBits(e)-1,h=0;h<e;h++)o[h]=this.revBin(h,f,e);return o},E.prototype.revBin=function(e,o,f){if(e===0||e===f-1)return e;for(var h=0,d=0;d<o;d++)h|=(e&1)<<o-d-1,e>>=1;return h},E.prototype.permute=function(e,o,f,h,d,v){for(var w=0;w<v;w++)h[w]=o[e[w]],d[w]=f[e[w]]},E.prototype.transform=function(e,o,f,h,d,v){this.permute(v,e,o,f,h,d);for(var w=1;w<d;w<<=1)for(var u=w<<1,n=Math.cos(2*Math.PI/u),c=Math.sin(2*Math.PI/u),B=0;B<d;B+=u)for(var O=n,L=c,D=0;D<w;D++){var Y=f[B+D],tt=h[B+D],Ot=f[B+D+w],X=h[B+D+w],et=O*Ot-L*X;X=O*X+L*Ot,Ot=et,f[B+D]=Y+Ot,h[B+D]=tt+X,f[B+D+w]=Y-Ot,h[B+D+w]=tt-X,D!==u&&(et=n*O-c*L,L=n*L+c*O,O=et)}},E.prototype.guessLen13b=function(e,o){var f=Math.max(o,e)|1,h=f&1,d=0;for(f=f/2|0;f;f=f>>>1)d++;return 1<<d+1+h},E.prototype.conjugate=function(e,o,f){if(!(f<=1))for(var h=0;h<f/2;h++){var d=e[h];e[h]=e[f-h-1],e[f-h-1]=d,d=o[h],o[h]=-o[f-h-1],o[f-h-1]=-d}},E.prototype.normalize13b=function(e,o){for(var f=0,h=0;h<o/2;h++){var d=Math.round(e[2*h+1]/o)*8192+Math.round(e[2*h]/o)+f;e[h]=d&67108863,d<67108864?f=0:f=d/67108864|0}return e},E.prototype.convert13b=function(e,o,f,h){for(var d=0,v=0;v<o;v++)d=d+(e[v]|0),f[2*v]=d&8191,d=d>>>13,f[2*v+1]=d&8191,d=d>>>13;for(v=2*o;v<h;++v)f[v]=0;a(d===0),a((d&-8192)===0)},E.prototype.stub=function(e){for(var o=new Array(e),f=0;f<e;f++)o[f]=0;return o},E.prototype.mulp=function(e,o,f){var h=2*this.guessLen13b(e.length,o.length),d=this.makeRBT(h),v=this.stub(h),w=new Array(h),u=new Array(h),n=new Array(h),c=new Array(h),B=new Array(h),O=new Array(h),L=f.words;L.length=h,this.convert13b(e.words,e.length,w,h),this.convert13b(o.words,o.length,c,h),this.transform(w,v,u,n,h,d),this.transform(c,v,B,O,h,d);for(var D=0;D<h;D++){var Y=u[D]*B[D]-n[D]*O[D];n[D]=u[D]*O[D]+n[D]*B[D],u[D]=Y}return this.conjugate(u,n,h),this.transform(u,n,L,v,h,d),this.conjugate(L,v,h),this.normalize13b(L,h),f.negative=e.negative^o.negative,f.length=e.length+o.length,f.strip()},s.prototype.mul=function(e){var o=new s(null);return o.words=new Array(this.length+e.length),this.mulTo(e,o)},s.prototype.mulf=function(e){var o=new s(null);return o.words=new Array(this.length+e.length),b(this,e,o)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){a(typeof e=="number"),a(e<67108864);for(var o=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*e,d=(h&67108863)+(o&67108863);o>>=26,o+=h/67108864|0,o+=d>>>26,this.words[f]=d&67108863}return o!==0&&(this.words[f]=o,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var o=W(e);if(o.length===0)return new s(1);for(var f=this,h=0;h<o.length&&o[h]===0;h++,f=f.sqr());if(++h<o.length)for(var d=f.sqr();h<o.length;h++,d=d.sqr())o[h]!==0&&(f=f.mul(d));return f},s.prototype.iushln=function(e){a(typeof e=="number"&&e>=0);var o=e%26,f=(e-o)/26,h=67108863>>>26-o<<26-o,d;if(o!==0){var v=0;for(d=0;d<this.length;d++){var w=this.words[d]&h,u=(this.words[d]|0)-w<<o;this.words[d]=u|v,v=w>>>26-o}v&&(this.words[d]=v,this.length++)}if(f!==0){for(d=this.length-1;d>=0;d--)this.words[d+f]=this.words[d];for(d=0;d<f;d++)this.words[d]=0;this.length+=f}return this.strip()},s.prototype.ishln=function(e){return a(this.negative===0),this.iushln(e)},s.prototype.iushrn=function(e,o,f){a(typeof e=="number"&&e>=0);var h;o?h=(o-o%26)/26:h=0;var d=e%26,v=Math.min((e-d)/26,this.length),w=67108863^67108863>>>d<<d,u=f;if(h-=v,h=Math.max(0,h),u){for(var n=0;n<v;n++)u.words[n]=this.words[n];u.length=v}if(v!==0)if(this.length>v)for(this.length-=v,n=0;n<this.length;n++)this.words[n]=this.words[n+v];else this.words[0]=0,this.length=1;var c=0;for(n=this.length-1;n>=0&&(c!==0||n>=h);n--){var B=this.words[n]|0;this.words[n]=c<<26-d|B>>>d,c=B&w}return u&&c!==0&&(u.words[u.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,o,f){return a(this.negative===0),this.iushrn(e,o,f)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){a(typeof e=="number"&&e>=0);var o=e%26,f=(e-o)/26,h=1<<o;if(this.length<=f)return!1;var d=this.words[f];return!!(d&h)},s.prototype.imaskn=function(e){a(typeof e=="number"&&e>=0);var o=e%26,f=(e-o)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(o!==0&&f++,this.length=Math.min(f,this.length),o!==0){var h=67108863^67108863>>>o<<o;this.words[this.length-1]&=h}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return a(typeof e=="number"),a(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},s.prototype.isubn=function(e){if(a(typeof e=="number"),a(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,o,f){var h=e.length+f,d;this._expand(h);var v,w=0;for(d=0;d<e.length;d++){v=(this.words[d+f]|0)+w;var u=(e.words[d]|0)*o;v-=u&67108863,w=(v>>26)-(u/67108864|0),this.words[d+f]=v&67108863}for(;d<this.length-f;d++)v=(this.words[d+f]|0)+w,w=v>>26,this.words[d+f]=v&67108863;if(w===0)return this.strip();for(a(w===-1),w=0,d=0;d<this.length;d++)v=-(this.words[d]|0)+w,w=v>>26,this.words[d]=v&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,o){var f=this.length-e.length,h=this.clone(),d=e,v=d.words[d.length-1]|0,w=this._countBits(v);f=26-w,f!==0&&(d=d.ushln(f),h.iushln(f),v=d.words[d.length-1]|0);var u=h.length-d.length,n;if(o!=="mod"){n=new s(null),n.length=u+1,n.words=new Array(n.length);for(var c=0;c<n.length;c++)n.words[c]=0}var B=h.clone()._ishlnsubmul(d,1,u);B.negative===0&&(h=B,n&&(n.words[u]=1));for(var O=u-1;O>=0;O--){var L=(h.words[d.length+O]|0)*67108864+(h.words[d.length+O-1]|0);for(L=Math.min(L/v|0,67108863),h._ishlnsubmul(d,L,O);h.negative!==0;)L--,h.negative=0,h._ishlnsubmul(d,1,O),h.isZero()||(h.negative^=1);n&&(n.words[O]=L)}return n&&n.strip(),h.strip(),o!=="div"&&f!==0&&h.iushrn(f),{div:n||null,mod:h}},s.prototype.divmod=function(e,o,f){if(a(!e.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var h,d,v;return this.negative!==0&&e.negative===0?(v=this.neg().divmod(e,o),o!=="mod"&&(h=v.div.neg()),o!=="div"&&(d=v.mod.neg(),f&&d.negative!==0&&d.iadd(e)),{div:h,mod:d}):this.negative===0&&e.negative!==0?(v=this.divmod(e.neg(),o),o!=="mod"&&(h=v.div.neg()),{div:h,mod:v.mod}):this.negative&e.negative?(v=this.neg().divmod(e.neg(),o),o!=="div"&&(d=v.mod.neg(),f&&d.negative!==0&&d.isub(e)),{div:v.div,mod:d}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:e.length===1?o==="div"?{div:this.divn(e.words[0]),mod:null}:o==="mod"?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,o)},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var o=this.divmod(e);if(o.mod.isZero())return o.div;var f=o.div.negative!==0?o.mod.isub(e):o.mod,h=e.ushrn(1),d=e.andln(1),v=f.cmp(h);return v<0||d===1&&v===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},s.prototype.modn=function(e){a(e<=67108863);for(var o=(1<<26)%e,f=0,h=this.length-1;h>=0;h--)f=(o*f+(this.words[h]|0))%e;return f},s.prototype.idivn=function(e){a(e<=67108863);for(var o=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+o*67108864;this.words[f]=h/e|0,o=h%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){a(e.negative===0),a(!e.isZero());var o=this,f=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var h=new s(1),d=new s(0),v=new s(0),w=new s(1),u=0;o.isEven()&&f.isEven();)o.iushrn(1),f.iushrn(1),++u;for(var n=f.clone(),c=o.clone();!o.isZero();){for(var B=0,O=1;!(o.words[0]&O)&&B<26;++B,O<<=1);if(B>0)for(o.iushrn(B);B-- >0;)(h.isOdd()||d.isOdd())&&(h.iadd(n),d.isub(c)),h.iushrn(1),d.iushrn(1);for(var L=0,D=1;!(f.words[0]&D)&&L<26;++L,D<<=1);if(L>0)for(f.iushrn(L);L-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(n),w.isub(c)),v.iushrn(1),w.iushrn(1);o.cmp(f)>=0?(o.isub(f),h.isub(v),d.isub(w)):(f.isub(o),v.isub(h),w.isub(d))}return{a:v,b:w,gcd:f.iushln(u)}},s.prototype._invmp=function(e){a(e.negative===0),a(!e.isZero());var o=this,f=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var h=new s(1),d=new s(0),v=f.clone();o.cmpn(1)>0&&f.cmpn(1)>0;){for(var w=0,u=1;!(o.words[0]&u)&&w<26;++w,u<<=1);if(w>0)for(o.iushrn(w);w-- >0;)h.isOdd()&&h.iadd(v),h.iushrn(1);for(var n=0,c=1;!(f.words[0]&c)&&n<26;++n,c<<=1);if(n>0)for(f.iushrn(n);n-- >0;)d.isOdd()&&d.iadd(v),d.iushrn(1);o.cmp(f)>=0?(o.isub(f),h.isub(d)):(f.isub(o),d.isub(h))}var B;return o.cmpn(1)===0?B=h:B=d,B.cmpn(0)<0&&B.iadd(e),B},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var o=this.clone(),f=e.clone();o.negative=0,f.negative=0;for(var h=0;o.isEven()&&f.isEven();h++)o.iushrn(1),f.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;f.isEven();)f.iushrn(1);var d=o.cmp(f);if(d<0){var v=o;o=f,f=v}else if(d===0||f.cmpn(1)===0)break;o.isub(f)}while(!0);return f.iushln(h)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){a(typeof e=="number");var o=e%26,f=(e-o)/26,h=1<<o;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var d=h,v=f;d!==0&&v<this.length;v++){var w=this.words[v]|0;w+=d,d=w>>>26,w&=67108863,this.words[v]=w}return d!==0&&(this.words[v]=d,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(e){var o=e<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var f;if(this.length>1)f=1;else{o&&(e=-e),a(e<=67108863,"Number is too big");var h=this.words[0]|0;f=h===e?0:h<e?-1:1}return this.negative!==0?-f|0:f},s.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var o=this.ucmp(e);return this.negative!==0?-o|0:o},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var o=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,d=e.words[f]|0;if(h!==d){h<d?o=-1:h>d&&(o=1);break}}return o},s.prototype.gtn=function(e){return this.cmpn(e)===1},s.prototype.gt=function(e){return this.cmp(e)===1},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return this.cmpn(e)===-1},s.prototype.lt=function(e){return this.cmp(e)===-1},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return this.cmpn(e)===0},s.prototype.eq=function(e){return this.cmp(e)===0},s.red=function(e){return new V(e)},s.prototype.toRed=function(e){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return a(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return a(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var I={k256:null,p224:null,p192:null,p25519:null};function C(g,e){this.name=g,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},C.prototype.ireduce=function(e){var o=e,f;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),f=o.bitLength();while(f>this.n);var h=f<this.n?-1:o.ucmp(this.p);return h===0?(o.words[0]=0,o.length=1):h>0?o.isub(this.p):o.strip(),o},C.prototype.split=function(e,o){e.iushrn(this.n,0,o)},C.prototype.imulK=function(e){return e.imul(this.k)};function R(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}m(R,C),R.prototype.split=function(e,o){for(var f=4194303,h=Math.min(e.length,9),d=0;d<h;d++)o.words[d]=e.words[d];if(o.length=h,e.length<=9){e.words[0]=0,e.length=1;return}var v=e.words[9];for(o.words[o.length++]=v&f,d=10;d<e.length;d++){var w=e.words[d]|0;e.words[d-10]=(w&f)<<4|v>>>22,v=w}v>>>=22,e.words[d-10]=v,v===0&&e.length>10?e.length-=10:e.length-=9},R.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var o=0,f=0;f<e.length;f++){var h=e.words[f]|0;o+=h*977,e.words[f]=o&67108863,o=h*64+(o/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function q(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}m(q,C);function U(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}m(U,C);function j(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}m(j,C),j.prototype.imulK=function(e){for(var o=0,f=0;f<e.length;f++){var h=(e.words[f]|0)*19+o,d=h&67108863;h>>>=26,e.words[f]=d,o=h}return o!==0&&(e.words[e.length++]=o),e},s._prime=function(e){if(I[e])return I[e];var o;if(e==="k256")o=new R;else if(e==="p224")o=new q;else if(e==="p192")o=new U;else if(e==="p25519")o=new j;else throw new Error("Unknown prime "+e);return I[e]=o,o};function V(g){if(typeof g=="string"){var e=s._prime(g);this.m=e.p,this.prime=e}else a(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}V.prototype._verify1=function(e){a(e.negative===0,"red works only with positives"),a(e.red,"red works only with red numbers")},V.prototype._verify2=function(e,o){a((e.negative|o.negative)===0,"red works only with positives"),a(e.red&&e.red===o.red,"red works only with red numbers")},V.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},V.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},V.prototype.add=function(e,o){this._verify2(e,o);var f=e.add(o);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},V.prototype.iadd=function(e,o){this._verify2(e,o);var f=e.iadd(o);return f.cmp(this.m)>=0&&f.isub(this.m),f},V.prototype.sub=function(e,o){this._verify2(e,o);var f=e.sub(o);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},V.prototype.isub=function(e,o){this._verify2(e,o);var f=e.isub(o);return f.cmpn(0)<0&&f.iadd(this.m),f},V.prototype.shl=function(e,o){return this._verify1(e),this.imod(e.ushln(o))},V.prototype.imul=function(e,o){return this._verify2(e,o),this.imod(e.imul(o))},V.prototype.mul=function(e,o){return this._verify2(e,o),this.imod(e.mul(o))},V.prototype.isqr=function(e){return this.imul(e,e.clone())},V.prototype.sqr=function(e){return this.mul(e,e)},V.prototype.sqrt=function(e){if(e.isZero())return e.clone();var o=this.m.andln(3);if(a(o%2===1),o===3){var f=this.m.add(new s(1)).iushrn(2);return this.pow(e,f)}for(var h=this.m.subn(1),d=0;!h.isZero()&&h.andln(1)===0;)d++,h.iushrn(1);a(!h.isZero());var v=new s(1).toRed(this),w=v.redNeg(),u=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new s(2*n*n).toRed(this);this.pow(n,u).cmp(w)!==0;)n.redIAdd(w);for(var c=this.pow(n,h),B=this.pow(e,h.addn(1).iushrn(1)),O=this.pow(e,h),L=d;O.cmp(v)!==0;){for(var D=O,Y=0;D.cmp(v)!==0;Y++)D=D.redSqr();a(Y<L);var tt=this.pow(c,new s(1).iushln(L-Y-1));B=B.redMul(tt),c=tt.redSqr(),O=O.redMul(c),L=Y}return B},V.prototype.invm=function(e){var o=e._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},V.prototype.pow=function(e,o){if(o.isZero())return new s(1).toRed(this);if(o.cmpn(1)===0)return e.clone();var f=4,h=new Array(1<<f);h[0]=new s(1).toRed(this),h[1]=e;for(var d=2;d<h.length;d++)h[d]=this.mul(h[d-1],e);var v=h[0],w=0,u=0,n=o.bitLength()%26;for(n===0&&(n=26),d=o.length-1;d>=0;d--){for(var c=o.words[d],B=n-1;B>=0;B--){var O=c>>B&1;if(v!==h[0]&&(v=this.sqr(v)),O===0&&w===0){u=0;continue}w<<=1,w|=O,u++,!(u!==f&&(d!==0||B!==0))&&(v=this.mul(v,h[w]),u=0,w=0)}n=26}return v},V.prototype.convertTo=function(e){var o=e.umod(this.m);return o===e?o.clone():o},V.prototype.convertFrom=function(e){var o=e.clone();return o.red=null,o},s.mont=function(e){return new Tt(e)};function Tt(g){V.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m(Tt,V),Tt.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Tt.prototype.convertFrom=function(e){var o=this.imod(e.mul(this.rinv));return o.red=null,o},Tt.prototype.imul=function(e,o){if(e.isZero()||o.isZero())return e.words[0]=0,e.length=1,e;var f=e.imul(o),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=f.isub(h).iushrn(this.shift),v=d;return d.cmp(this.m)>=0?v=d.isub(this.m):d.cmpn(0)<0&&(v=d.iadd(this.m)),v._forceRed(this)},Tt.prototype.mul=function(e,o){if(e.isZero()||o.isZero())return new s(0)._forceRed(this);var f=e.mul(o),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=f.isub(h).iushrn(this.shift),v=d;return d.cmp(this.m)>=0?v=d.isub(this.m):d.cmpn(0)<0&&(v=d.iadd(this.m)),v._forceRed(this)},Tt.prototype.invm=function(e){var o=this.imod(e._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,ri)})(Ts);const Rs=Lr;function Ur(r){return vr(new Uint8Array(r))}function Bs(r,t){return be(new Uint8Array(r),!t)}function Ns(r){return Ee(r).buffer}function Os(r){return Xr(r)}function Ls(r,t){return ws(r,!t)}function Us(r){return xe(r).buffer}function $i(r,t){const i=Jt(qi(new Rs(r).toString(16)));return t?i:Ne(i)}function rr(r){return qi(r)}function Fs(r){return Es(Ne(r))}const Ps=ra;function Er(){return((t,i)=>{for(i=t="";t++<36;i+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return i})()}function qs(r){return r===""||typeof r=="string"&&r.trim()===""}function Ds(r){return!(r&&r.length)}function Wi(r,t){return ys(r,t)}function $s(r){return typeof r.method<"u"}function Ze(r){return typeof r.result<"u"}function sr(r){return typeof r.error<"u"}function Cn(r){return typeof r.event<"u"}function Ws(r){return As.includes(r)||r.startsWith("wc_")}function zs(r){return r.method.startsWith("wc_")?!0:!Di.includes(r.method)}function Hs(r){r=Jt(r.toLowerCase());const t=Jt(ea.keccak_256(Os(r)));let i="";for(let a=0;a<r.length;a++)parseInt(t[a],16)>7?i+=r[a].toUpperCase():i+=r[a];return Ne(i)}const Zs=r=>r?r.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(r)?/^(0x)?[0-9a-f]{40}$/.test(r)||/^(0x)?[0-9A-F]{40}$/.test(r)?!0:r===Hs(r):!1:!1;function kn(r){return!Ds(r)&&!Wi(r[0])&&(r[0]=Ls(r[0])),r}function Sr(r){if(typeof r.type<"u"&&r.type!=="0")return r;if(typeof r.from>"u"||!Zs(r.from))throw new Error("Transaction object must include a valid 'from' value.");function t(m){let s=m;return(typeof m=="number"||typeof m=="string"&&!qs(m))&&(Wi(m)?typeof m=="string"&&(s=rr(m)):s=$i(m)),typeof s=="string"&&(s=Fs(s)),s}const i={from:rr(r.from),to:typeof r.to>"u"?void 0:rr(r.to),gasPrice:typeof r.gasPrice>"u"?"":t(r.gasPrice),gas:typeof r.gas>"u"?typeof r.gasLimit>"u"?"":t(r.gasLimit):t(r.gas),value:typeof r.value>"u"?"":t(r.value),nonce:typeof r.nonce>"u"?"":t(r.nonce),data:typeof r.data>"u"?"":rr(r.data)||"0x"},a=["gasPrice","gas","value","nonce"];return Object.keys(i).forEach(m=>{(typeof i[m]>"u"||typeof i[m]=="string"&&!i[m].trim().length)&&a.includes(m)&&delete i[m]}),i}function Ks(r){const t=r.message||"Failed or Rejected Request";let i=-32e3;if(r&&!r.code)switch(t){case"Parse error":i=-32700;break;case"Invalid request":i=-32600;break;case"Method not found":i=-32601;break;case"Invalid params":i=-32602;break;case"Internal error":i=-32603;break;default:i=-32e3;break}const a={code:i,message:t};return r.data&&(a.data=r.data),a}var tn={};(function(r){const t=ai,i=si,a=oi,m=b=>b==null;function s(b){switch(b.arrayFormat){case"index":return E=>(I,C)=>{const R=I.length;return C===void 0||b.skipNull&&C===null||b.skipEmptyString&&C===""?I:C===null?[...I,[S(E,b),"[",R,"]"].join("")]:[...I,[S(E,b),"[",S(R,b),"]=",S(C,b)].join("")]};case"bracket":return E=>(I,C)=>C===void 0||b.skipNull&&C===null||b.skipEmptyString&&C===""?I:C===null?[...I,[S(E,b),"[]"].join("")]:[...I,[S(E,b),"[]=",S(C,b)].join("")];case"comma":case"separator":return E=>(I,C)=>C==null||C.length===0?I:I.length===0?[[S(E,b),"=",S(C,b)].join("")]:[[I,S(C,b)].join(b.arrayFormatSeparator)];default:return E=>(I,C)=>C===void 0||b.skipNull&&C===null||b.skipEmptyString&&C===""?I:C===null?[...I,S(E,b)]:[...I,[S(E,b),"=",S(C,b)].join("")]}}function y(b){let E;switch(b.arrayFormat){case"index":return(I,C,R)=>{if(E=/\[(\d*)\]$/.exec(I),I=I.replace(/\[\d*\]$/,""),!E){R[I]=C;return}R[I]===void 0&&(R[I]={}),R[I][E[1]]=C};case"bracket":return(I,C,R)=>{if(E=/(\[\])$/.exec(I),I=I.replace(/\[\]$/,""),!E){R[I]=C;return}if(R[I]===void 0){R[I]=[C];return}R[I]=[].concat(R[I],C)};case"comma":case"separator":return(I,C,R)=>{const U=typeof C=="string"&&C.split("").indexOf(b.arrayFormatSeparator)>-1?C.split(b.arrayFormatSeparator).map(j=>T(j,b)):C===null?C:T(C,b);R[I]=U};default:return(I,C,R)=>{if(R[I]===void 0){R[I]=C;return}R[I]=[].concat(R[I],C)}}}function _(b){if(typeof b!="string"||b.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function S(b,E){return E.encode?E.strict?t(b):encodeURIComponent(b):b}function T(b,E){return E.decode?i(b):b}function A(b){return Array.isArray(b)?b.sort():typeof b=="object"?A(Object.keys(b)).sort((E,I)=>Number(E)-Number(I)).map(E=>b[E]):b}function F(b){const E=b.indexOf("#");return E!==-1&&(b=b.slice(0,E)),b}function W(b){let E="";const I=b.indexOf("#");return I!==-1&&(E=b.slice(I)),E}function z(b){b=F(b);const E=b.indexOf("?");return E===-1?"":b.slice(E+1)}function $(b,E){return E.parseNumbers&&!Number.isNaN(Number(b))&&typeof b=="string"&&b.trim()!==""?b=Number(b):E.parseBooleans&&b!==null&&(b.toLowerCase()==="true"||b.toLowerCase()==="false")&&(b=b.toLowerCase()==="true"),b}function Z(b,E){E=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},E),_(E.arrayFormatSeparator);const I=y(E),C=Object.create(null);if(typeof b!="string"||(b=b.trim().replace(/^[?#&]/,""),!b))return C;for(const R of b.split("&")){let[q,U]=a(E.decode?R.replace(/\+/g," "):R,"=");U=U===void 0?null:["comma","separator"].includes(E.arrayFormat)?U:T(U,E),I(T(q,E),U,C)}for(const R of Object.keys(C)){const q=C[R];if(typeof q=="object"&&q!==null)for(const U of Object.keys(q))q[U]=$(q[U],E);else C[R]=$(q,E)}return E.sort===!1?C:(E.sort===!0?Object.keys(C).sort():Object.keys(C).sort(E.sort)).reduce((R,q)=>{const U=C[q];return U&&typeof U=="object"&&!Array.isArray(U)?R[q]=A(U):R[q]=U,R},Object.create(null))}r.extract=z,r.parse=Z,r.stringify=(b,E)=>{if(!b)return"";E=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},E),_(E.arrayFormatSeparator);const I=U=>E.skipNull&&m(b[U])||E.skipEmptyString&&b[U]==="",C=s(E),R={};for(const U of Object.keys(b))I(U)||(R[U]=b[U]);const q=Object.keys(R);return E.sort!==!1&&q.sort(E.sort),q.map(U=>{const j=b[U];return j===void 0?"":j===null?S(U,E):Array.isArray(j)?j.reduce(C(U),[]).join("&"):S(U,E)+"="+S(j,E)}).filter(U=>U.length>0).join("&")},r.parseUrl=(b,E)=>{E=Object.assign({decode:!0},E);const[I,C]=a(b,"#");return Object.assign({url:I.split("?")[0]||"",query:Z(z(b),E)},E&&E.parseFragmentIdentifier&&C?{fragmentIdentifier:T(C,E)}:{})},r.stringifyUrl=(b,E)=>{E=Object.assign({encode:!0,strict:!0},E);const I=F(b.url).split("?")[0]||"",C=r.extract(b.url),R=r.parse(C,{sort:!1}),q=Object.assign(R,b.query);let U=r.stringify(q,E);U&&(U=`?${U}`);let j=W(b.url);return b.fragmentIdentifier&&(j=`#${S(b.fragmentIdentifier,E)}`),`${I}${U}${j}`}})(tn);function Js(r){const t=r.indexOf("?")!==-1?r.indexOf("?"):void 0;return typeof t<"u"?r.substr(t):""}function Vs(r,t){let i=zi(r);return i=Object.assign(Object.assign({},i),t),r=Ys(i),r}function zi(r){return tn.parse(r)}function Ys(r){return tn.stringify(r)}function Qs(r){return typeof r.bridge<"u"}function js(r){const t=r.indexOf(":"),i=r.indexOf("?")!==-1?r.indexOf("?"):void 0,a=r.substring(0,t),m=r.substring(t+1,i);function s(F){const W="@",z=F.split(W);return{handshakeTopic:z[0],version:parseInt(z[1],10)}}const y=s(m),_=typeof i<"u"?r.substr(i):"";function S(F){const W=zi(F);return{key:W.key||"",bridge:W.bridge||""}}const T=S(_);return Object.assign(Object.assign({protocol:a},y),T)}class Gs{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(t,i){this._eventEmitters.push({event:t,callback:i})}trigger(t){let i=[];t&&(i=this._eventEmitters.filter(a=>a.event===t)),i.forEach(a=>{a.callback()})}}const Xs=typeof{}.WebSocket<"u"?{}.WebSocket:require("ws");class tf{constructor(t){if(this.opts=t,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=t.protocol,this._version=t.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=t.subscriptions||[],this._netMonitor=t.netMonitor||new Gs,!t.url||typeof t.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=t.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(t){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(t){}get connecting(){return this.readyState===0}set connected(t){}get connected(){return this.readyState===1}set closing(t){}get closing(){return this.readyState===2}set closed(t){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(t,i,a){if(!i||typeof i!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:i,type:"pub",payload:t,silent:!!a})}subscribe(t){this._socketSend({topic:t,type:"sub",payload:"",silent:!0})}on(t,i){this._events.push({event:t,callback:i})}_socketCreate(){if(this._nextSocket)return;const t=ef(this._url,this._protocol,this._version);if(this._nextSocket=new Xs(t),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=i=>this._socketReceive(i),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=i=>this._socketError(i),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(t){const i=JSON.stringify(t);this._socket&&this._socket.readyState===1?this._socket.send(i):(this._setToQueue(t),this._socketCreate())}async _socketReceive(t){let i;try{i=JSON.parse(t.data)}catch{return}if(this._socketSend({topic:i.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const a=this._events.filter(m=>m.event==="message");a&&a.length&&a.forEach(m=>m.callback(i))}}_socketError(t){const i=this._events.filter(a=>a.event==="error");i&&i.length&&i.forEach(a=>a.callback(t))}_queueSubscriptions(){this._subscriptions.forEach(i=>this._queue.push({topic:i,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(t){this._queue.push(t)}_pushQueue(){this._queue.forEach(i=>this._socketSend(i)),this._queue=[]}}function ef(r,t,i){var a,m;const y=(r.startsWith("https")?r.replace("https","wss"):r.startsWith("http")?r.replace("http","ws"):r).split("?"),_=Si()?{protocol:t,version:i,env:"browser",host:((a=ki())===null||a===void 0?void 0:a.host)||""}:{protocol:t,version:i,env:((m=dr())===null||m===void 0?void 0:m.name)||""},S=Vs(Js(y[1]||""),_);return y[0]+"?"+S}const Cr="Session currently connected",ve="Session currently disconnected",rf="Session Rejected",nf="Missing JSON RPC response",of='JSON-RPC success response must include "result" field',af='JSON-RPC error response must include "error" field',sf='JSON RPC request must have valid "method" value',ff='JSON RPC request must have valid "id" value',hf="Missing one of the required parameters: bridge / uri / session",In="JSON RPC response format is invalid",uf="URI format is invalid",lf="QRCode Modal not provided",An="User close QRCode Modal";class cf{constructor(){this._eventEmitters=[]}subscribe(t){this._eventEmitters.push(t)}unsubscribe(t){this._eventEmitters=this._eventEmitters.filter(i=>i.event!==t)}trigger(t){let i=[],a;$s(t)?a=t.method:Ze(t)||sr(t)?a=`response:${t.id}`:Cn(t)?a=t.event:a="",a&&(i=this._eventEmitters.filter(m=>m.event===a)),(!i||!i.length)&&!Ws(a)&&!Cn(a)&&(i=this._eventEmitters.filter(m=>m.event==="call_request")),i.forEach(m=>{if(sr(t)){const s=new Error(t.error.message);m.callback(s,null)}else m.callback(null,t)})}}class df{constructor(t="walletconnect"){this.storageId=t}getSession(){let t=null;const i=Qr(this.storageId);return i&&Qs(i)&&(t=i),t}setSession(t){return Yr(this.storageId,t),t}removeSession(){jr(this.storageId)}}const pf="walletconnect.org",mf="abcdefghijklmnopqrstuvwxyz0123456789",Hi=mf.split("").map(r=>`https://${r}.bridge.walletconnect.org`);function gf(r){let t=r.indexOf("//")>-1?r.split("/")[2]:r.split("/")[0];return t=t.split(":")[0],t=t.split("?")[0],t}function vf(r){return gf(r).split(".").slice(-2).join(".")}function _f(){return Math.floor(Math.random()*Hi.length)}function wf(){return Hi[_f()]}function yf(r){return vf(r)===pf}function Mf(r){return yf(r)?wf():r}class bf{constructor(t){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new cf,this._clientMeta=Or()||t.connectorOpts.clientMeta||null,this._cryptoLib=t.cryptoLib,this._sessionStorage=t.sessionStorage||new df(t.connectorOpts.storageId),this._qrcodeModal=t.connectorOpts.qrcodeModal,this._qrcodeModalOptions=t.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Di,...t.connectorOpts.signingMethods||[]],!t.connectorOpts.bridge&&!t.connectorOpts.uri&&!t.connectorOpts.session)throw new Error(hf);t.connectorOpts.bridge&&(this.bridge=Mf(t.connectorOpts.bridge)),t.connectorOpts.uri&&(this.uri=t.connectorOpts.uri);const i=t.connectorOpts.session||this._getStorageSession();i&&(this.session=i),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=t.transport||new tf({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),t.connectorOpts.uri&&this._subscribeToSessionRequest(),t.pushServerOpts&&this._registerPushServer(t.pushServerOpts)}set bridge(t){t&&(this._bridge=t)}get bridge(){return this._bridge}set key(t){if(!t)return;const i=Us(t);this._key=i}get key(){return this._key?Bs(this._key,!0):""}set clientId(t){t&&(this._clientId=t)}get clientId(){let t=this._clientId;return t||(t=this._clientId=Er()),this._clientId}set peerId(t){t&&(this._peerId=t)}get peerId(){return this._peerId}set clientMeta(t){}get clientMeta(){let t=this._clientMeta;return t||(t=this._clientMeta=Or()),t}set peerMeta(t){this._peerMeta=t}get peerMeta(){return this._peerMeta}set handshakeTopic(t){t&&(this._handshakeTopic=t)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(t){t&&(this._handshakeId=t)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(t){if(!t)return;const{handshakeTopic:i,bridge:a,key:m}=this._parseUri(t);this.handshakeTopic=i,this.bridge=a,this.key=m}set chainId(t){this._chainId=t}get chainId(){return this._chainId}set networkId(t){this._networkId=t}get networkId(){return this._networkId}set accounts(t){this._accounts=t}get accounts(){return this._accounts}set rpcUrl(t){this._rpcUrl=t}get rpcUrl(){return this._rpcUrl}set connected(t){}get connected(){return this._connected}set pending(t){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(t){t&&(this._connected=t.connected,this.accounts=t.accounts,this.chainId=t.chainId,this.bridge=t.bridge,this.key=t.key,this.clientId=t.clientId,this.clientMeta=t.clientMeta,this.peerId=t.peerId,this.peerMeta=t.peerMeta,this.handshakeId=t.handshakeId,this.handshakeTopic=t.handshakeTopic)}on(t,i){const a={event:t,callback:i};this._eventManager.subscribe(a)}off(t){this._eventManager.unsubscribe(t)}async createInstantRequest(t){this._key=await this._generateKey();const i=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(t)}]});this.handshakeId=i.id,this.handshakeTopic=Er(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(An)});const a=()=>{this.killSession()};try{const m=await this._sendCallRequest(i);return m&&a(),m}catch(m){throw a(),m}}async connect(t){if(!this._qrcodeModal)throw new Error(lf);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(t),new Promise(async(i,a)=>{this.on("modal_closed",()=>a(new Error(An))),this.on("connect",(m,s)=>{if(m)return a(m);i(s.params[0])})}))}async createSession(t){if(this._connected)throw new Error(Cr);if(this.pending)return;this._key=await this._generateKey();const i=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:t&&t.chainId?t.chainId:null}]});this.handshakeId=i.id,this.handshakeTopic=Er(),this._sendSessionRequest(i,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(t){if(this._connected)throw new Error(Cr);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const i={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},a={id:this.handshakeId,jsonrpc:"2.0",result:i};this._sendResponse(a),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(t){if(this._connected)throw new Error(Cr);const i=t&&t.message?t.message:rf,a=this._formatResponse({id:this.handshakeId,error:{message:i}});this._sendResponse(a),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:i}]}),this._removeStorageSession()}updateSession(t){if(!this._connected)throw new Error(ve);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const i={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},a=this._formatRequest({method:"wc_sessionUpdate",params:[i]});this._sendSessionRequest(a,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(t){const i=t?t.message:"Session Disconnected",a={approved:!1,chainId:null,networkId:null,accounts:null},m=this._formatRequest({method:"wc_sessionUpdate",params:[a]});await this._sendRequest(m),this._handleSessionDisconnect(i)}async sendTransaction(t){if(!this._connected)throw new Error(ve);const i=Sr(t),a=this._formatRequest({method:"eth_sendTransaction",params:[i]});return await this._sendCallRequest(a)}async signTransaction(t){if(!this._connected)throw new Error(ve);const i=Sr(t),a=this._formatRequest({method:"eth_signTransaction",params:[i]});return await this._sendCallRequest(a)}async signMessage(t){if(!this._connected)throw new Error(ve);const i=this._formatRequest({method:"eth_sign",params:t});return await this._sendCallRequest(i)}async signPersonalMessage(t){if(!this._connected)throw new Error(ve);t=kn(t);const i=this._formatRequest({method:"personal_sign",params:t});return await this._sendCallRequest(i)}async signTypedData(t){if(!this._connected)throw new Error(ve);const i=this._formatRequest({method:"eth_signTypedData",params:t});return await this._sendCallRequest(i)}async updateChain(t){if(!this._connected)throw new Error("Session currently disconnected");const i=this._formatRequest({method:"wallet_updateChain",params:[t]});return await this._sendCallRequest(i)}unsafeSend(t,i){return this._sendRequest(t,i),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:i}]}),new Promise((a,m)=>{this._subscribeToResponse(t.id,(s,y)=>{if(s){m(s);return}if(!y)throw new Error(nf);a(y)})})}async sendCustomRequest(t,i){if(!this._connected)throw new Error(ve);switch(t.method){case"eth_accounts":return this.accounts;case"eth_chainId":return $i(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":t.params&&(t.params[0]=Sr(t.params[0]));break;case"personal_sign":t.params&&(t.params=kn(t.params));break}const a=this._formatRequest(t);return await this._sendCallRequest(a,i)}approveRequest(t){if(Ze(t)){const i=this._formatResponse(t);this._sendResponse(i)}else throw new Error(of)}rejectRequest(t){if(sr(t)){const i=this._formatResponse(t);this._sendResponse(i)}else throw new Error(af)}transportClose(){this._transport.close()}async _sendRequest(t,i){const a=this._formatRequest(t),m=await this._encrypt(a),s=typeof(i==null?void 0:i.topic)<"u"?i.topic:this.peerId,y=JSON.stringify(m),_=typeof(i==null?void 0:i.forcePushNotification)<"u"?!i.forcePushNotification:zs(a);this._transport.send(y,s,_)}async _sendResponse(t){const i=await this._encrypt(t),a=this.peerId,m=JSON.stringify(i),s=!0;this._transport.send(m,a,s)}async _sendSessionRequest(t,i,a){this._sendRequest(t,a),this._subscribeToSessionResponse(t.id,i)}_sendCallRequest(t,i){return this._sendRequest(t,i),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:i}]}),this._subscribeToCallResponse(t.id)}_formatRequest(t){if(typeof t.method>"u")throw new Error(sf);return{id:typeof t.id>"u"?Ps():t.id,jsonrpc:"2.0",method:t.method,params:typeof t.params>"u"?[]:t.params}}_formatResponse(t){if(typeof t.id>"u")throw new Error(ff);const i={id:t.id,jsonrpc:"2.0"};if(sr(t)){const a=Ks(t.error);return Object.assign(Object.assign(Object.assign({},i),t),{error:a})}else if(Ze(t))return Object.assign(Object.assign({},i),t);throw new Error(In)}_handleSessionDisconnect(t){const i=t||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),jr(ar)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:i}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(t,i){i?i.approved?(this._connected?(i.chainId&&(this.chainId=i.chainId),i.accounts&&(this.accounts=i.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,i.chainId&&(this.chainId=i.chainId),i.accounts&&(this.accounts=i.accounts),i.peerId&&!this.peerId&&(this.peerId=i.peerId),i.peerMeta&&!this.peerMeta&&(this.peerMeta=i.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(t):this._handleSessionDisconnect(t)}async _handleIncomingMessages(t){if(![this.clientId,this.handshakeTopic].includes(t.topic))return;let a;try{a=JSON.parse(t.payload)}catch{return}const m=await this._decrypt(a);m&&this._eventManager.trigger(m)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(t,i){this.on(`response:${t}`,i)}_subscribeToSessionResponse(t,i){this._subscribeToResponse(t,(a,m)=>{if(a){this._handleSessionResponse(a.message);return}Ze(m)?this._handleSessionResponse(i,m.result):m.error&&m.error.message?this._handleSessionResponse(m.error.message):this._handleSessionResponse(i)})}_subscribeToCallResponse(t){return new Promise((i,a)=>{this._subscribeToResponse(t,(m,s)=>{if(m){a(m);return}Ze(s)?i(s.result):s.error&&s.error.message?a(s.error):a(new Error(In))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(t,i)=>{const{request:a}=i.params[0];if(xi()&&this._signingMethods.includes(a.method)){const m=Qr(ar);m&&(window.location.href=m.href)}}),this.on("wc_sessionRequest",(t,i)=>{t&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:t.toString()}]}),this.handshakeId=i.id,this.peerId=i.params[0].peerId,this.peerMeta=i.params[0].peerMeta;const a=Object.assign(Object.assign({},i),{method:"session_request"});this._eventManager.trigger(a)}),this.on("wc_sessionUpdate",(t,i)=>{t&&this._handleSessionResponse(t.message),this._handleSessionResponse("Session disconnected",i.params[0])})}_initTransport(){this._transport.on("message",t=>this._handleIncomingMessages(t)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const t=this.protocol,i=this.handshakeTopic,a=this.version,m=encodeURIComponent(this.bridge),s=this.key;return`${t}:${i}@${a}?bridge=${m}&key=${s}`}_parseUri(t){const i=js(t);if(i.protocol===this.protocol){if(!i.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const a=i.handshakeTopic;if(!i.bridge)throw Error("Invalid or missing bridge url parameter value");const m=decodeURIComponent(i.bridge);if(!i.key)throw Error("Invalid or missing key parameter value");const s=i.key;return{handshakeTopic:a,bridge:m,key:s}}else throw new Error(uf)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(t){const i=this._key;return this._cryptoLib&&i?await this._cryptoLib.encrypt(t,i):null}async _decrypt(t){const i=this._key;return this._cryptoLib&&i?await this._cryptoLib.decrypt(t,i):null}_getStorageSession(){let t=null;return this._sessionStorage&&(t=this._sessionStorage.getSession()),t}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(t){if(!t.url||typeof t.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!t.type||typeof t.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!t.token||typeof t.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const i={bridge:this.bridge,topic:this.clientId,type:t.type,token:t.token,peerName:"",language:t.language||""};this.on("connect",async(a,m)=>{if(a)throw a;if(t.peerMeta){const s=m.params[0].peerMeta.name;i.peerName=s}try{if(!(await(await fetch(`${t.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function xf(r){return Ge.getBrowerCrypto().getRandomValues(new Uint8Array(r))}const Zi=256,Ki=Zi,Ef=Zi,Vt="AES-CBC",Sf=`SHA-${Ki}`,Fr="HMAC",Cf="encrypt",kf="decrypt",If="sign",Af="verify";function Tf(r){return r===Vt?{length:Ki,name:Vt}:{hash:{name:Sf},name:Fr}}function Rf(r){return r===Vt?[Cf,kf]:[If,Af]}async function en(r,t=Vt){return Ge.getSubtleCrypto().importKey("raw",r,Tf(t),!0,Rf(t))}async function Bf(r,t,i){const a=Ge.getSubtleCrypto(),m=await en(t,Vt),s=await a.encrypt({iv:r,name:Vt},m,i);return new Uint8Array(s)}async function Nf(r,t,i){const a=Ge.getSubtleCrypto(),m=await en(t,Vt),s=await a.decrypt({iv:r,name:Vt},m,i);return new Uint8Array(s)}async function Of(r,t){const i=Ge.getSubtleCrypto(),a=await en(r,Fr),m=await i.sign({length:Ef,name:Fr},a,t);return new Uint8Array(m)}function Lf(r,t,i){return Bf(r,t,i)}function Uf(r,t,i){return Nf(r,t,i)}async function Ji(r,t){return await Of(r,t)}async function Vi(r){const t=(r||256)/8,i=xf(t);return Ns(vr(i))}async function Yi(r,t){const i=xe(r.data),a=xe(r.iv),m=xe(r.hmac),s=be(m,!1),y=Pi(i,a),_=await Ji(t,y),S=be(_,!1);return Jt(s)===Jt(S)}async function Ff(r,t,i){const a=Ee(Ur(t)),m=i||await Vi(128),s=Ee(Ur(m)),y=be(s,!1),_=JSON.stringify(r),S=_s(_),T=await Lf(s,a,S),A=be(T,!1),F=Pi(T,s),W=await Ji(a,F),z=be(W,!1);return{data:A,hmac:z,iv:y}}async function Pf(r,t){const i=Ee(Ur(t));if(!i)throw new Error("Missing key: required for decryption");if(!await Yi(r,i))return null;const m=xe(r.data),s=xe(r.iv),y=await Uf(s,i,m),_=gs(y);let S;try{S=JSON.parse(_)}catch{return null}return S}const qf=Object.freeze(Object.defineProperty({__proto__:null,decrypt:Pf,encrypt:Ff,generateKey:Vi,verifyHmac:Yi},Symbol.toStringTag,{value:"Module"}));class Df extends bf{constructor(t,i){super({cryptoLib:qf,connectorOpts:t,pushServerOpts:i})}}const $f=ni(as);var Xe={},Wf=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Qi={},Yt={},zf={}.toString,rn=Array.isArray||function(r){return zf.call(r)=="[object Array]"},Hf=rn;function Zf(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},r.foo()===42}catch{return!1}}At.TYPED_ARRAY_SUPPORT=Zf();var Tn=At.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function At(r,t,i){return!At.TYPED_ARRAY_SUPPORT&&!(this instanceof At)?new At(r,t,i):typeof r=="number"?ji(this,r):Gf(this,r,t,i)}At.TYPED_ARRAY_SUPPORT&&(At.prototype.__proto__=Uint8Array.prototype,At.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&At[Symbol.species]===At&&Object.defineProperty(At,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function nn(r){if(r>=Tn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Tn.toString(16)+" bytes");return r|0}function Kf(r){return r!==r}function Se(r,t){var i;return At.TYPED_ARRAY_SUPPORT?(i=new Uint8Array(t),i.__proto__=At.prototype):(i=r,i===null&&(i=new At(t)),i.length=t),i}function ji(r,t){var i=Se(r,t<0?0:nn(t)|0);if(!At.TYPED_ARRAY_SUPPORT)for(var a=0;a<t;++a)i[a]=0;return i}function Jf(r,t){var i=Xi(t)|0,a=Se(r,i),m=a.write(t);return m!==i&&(a=a.slice(0,m)),a}function Pr(r,t){for(var i=t.length<0?0:nn(t.length)|0,a=Se(r,i),m=0;m<i;m+=1)a[m]=t[m]&255;return a}function Vf(r,t,i,a){if(i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(a||0))throw new RangeError("'length' is out of bounds");var m;return i===void 0&&a===void 0?m=new Uint8Array(t):a===void 0?m=new Uint8Array(t,i):m=new Uint8Array(t,i,a),At.TYPED_ARRAY_SUPPORT?m.__proto__=At.prototype:m=Pr(r,m),m}function Yf(r,t){if(At.isBuffer(t)){var i=nn(t.length)|0,a=Se(r,i);return a.length===0||t.copy(a,0,0,i),a}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||Kf(t.length)?Se(r,0):Pr(r,t);if(t.type==="Buffer"&&Array.isArray(t.data))return Pr(r,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Gi(r,t){t=t||1/0;for(var i,a=r.length,m=null,s=[],y=0;y<a;++y){if(i=r.charCodeAt(y),i>55295&&i<57344){if(!m){if(i>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(y+1===a){(t-=3)>-1&&s.push(239,191,189);continue}m=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),m=i;continue}i=(m-55296<<10|i-56320)+65536}else m&&(t-=3)>-1&&s.push(239,191,189);if(m=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return s}function Xi(r){if(At.isBuffer(r))return r.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var t=r.length;return t===0?0:Gi(r).length}function Qf(r,t,i,a){for(var m=0;m<a&&!(m+i>=t.length||m>=r.length);++m)t[m+i]=r[m];return m}function jf(r,t,i,a){return Qf(Gi(t,r.length-i),r,i,a)}function Gf(r,t,i,a){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?Vf(r,t,i,a):typeof t=="string"?Jf(r,t):Yf(r,t)}At.prototype.write=function(t,i,a){i===void 0?(a=this.length,i=0):a===void 0&&typeof i=="string"?(a=this.length,i=0):isFinite(i)&&(i=i|0,isFinite(a)?a=a|0:a=void 0);var m=this.length-i;if((a===void 0||a>m)&&(a=m),t.length>0&&(a<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");return jf(this,t,i,a)};At.prototype.slice=function(t,i){var a=this.length;t=~~t,i=i===void 0?a:~~i,t<0?(t+=a,t<0&&(t=0)):t>a&&(t=a),i<0?(i+=a,i<0&&(i=0)):i>a&&(i=a),i<t&&(i=t);var m;if(At.TYPED_ARRAY_SUPPORT)m=this.subarray(t,i),m.__proto__=At.prototype;else{var s=i-t;m=new At(s,void 0);for(var y=0;y<s;++y)m[y]=this[y+t]}return m};At.prototype.copy=function(t,i,a,m){if(a||(a=0),!m&&m!==0&&(m=this.length),i>=t.length&&(i=t.length),i||(i=0),m>0&&m<a&&(m=a),m===a||t.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("sourceStart out of bounds");if(m<0)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length),t.length-i<m-a&&(m=t.length-i+a);var s=m-a,y;if(this===t&&a<i&&i<m)for(y=s-1;y>=0;--y)t[y+i]=this[y+a];else if(s<1e3||!At.TYPED_ARRAY_SUPPORT)for(y=0;y<s;++y)t[y+i]=this[y+a];else Uint8Array.prototype.set.call(t,this.subarray(a,a+s),i);return s};At.prototype.fill=function(t,i,a){if(typeof t=="string"){if(typeof i=="string"?(i=0,a=this.length):typeof a=="string"&&(a=this.length),t.length===1){var m=t.charCodeAt(0);m<256&&(t=m)}}else typeof t=="number"&&(t=t&255);if(i<0||this.length<i||this.length<a)throw new RangeError("Out of range index");if(a<=i)return this;i=i>>>0,a=a===void 0?this.length:a>>>0,t||(t=0);var s;if(typeof t=="number")for(s=i;s<a;++s)this[s]=t;else{var y=At.isBuffer(t)?t:new At(t),_=y.length;for(s=0;s<a-i;++s)this[s+i]=y[s%_]}return this};At.concat=function(t,i){if(!Hf(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Se(null,0);var a;if(i===void 0)for(i=0,a=0;a<t.length;++a)i+=t[a].length;var m=ji(null,i),s=0;for(a=0;a<t.length;++a){var y=t[a];if(!At.isBuffer(y))throw new TypeError('"list" argument must be an Array of Buffers');y.copy(m,s),s+=y.length}return m};At.byteLength=Xi;At.prototype._isBuffer=!0;At.isBuffer=function(t){return!!(t!=null&&t._isBuffer)};Yt.alloc=function(r){var t=new At(r);return t.fill(0),t};Yt.from=function(r){return new At(r)};var Pt={},on,Xf=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Pt.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Pt.getSymbolTotalCodewords=function(t){return Xf[t]};Pt.getBCHDigit=function(r){for(var t=0;r!==0;)t++,r>>>=1;return t};Pt.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');on=t};Pt.isKanjiModeEnabled=function(){return typeof on<"u"};Pt.toSJIS=function(t){return on(t)};var _r={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(i){if(typeof i!="string")throw new Error("Param is not a string");var a=i.toLowerCase();switch(a){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+i)}}r.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},r.from=function(a,m){if(r.isValid(a))return a;try{return t(a)}catch{return m}}})(_r);function to(){this.buffer=[],this.length=0}to.prototype={get:function(r){var t=Math.floor(r/8);return(this.buffer[t]>>>7-r%8&1)===1},put:function(r,t){for(var i=0;i<t;i++)this.putBit((r>>>t-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var th=to,Rn=Yt;function tr(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=Rn.alloc(r*r),this.reservedBit=Rn.alloc(r*r)}tr.prototype.set=function(r,t,i,a){var m=r*this.size+t;this.data[m]=i,a&&(this.reservedBit[m]=!0)};tr.prototype.get=function(r,t){return this.data[r*this.size+t]};tr.prototype.xor=function(r,t,i){this.data[r*this.size+t]^=i};tr.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var eh=tr,eo={};(function(r){var t=Pt.getSymbolSize;r.getRowColCoords=function(a){if(a===1)return[];for(var m=Math.floor(a/7)+2,s=t(a),y=s===145?26:Math.ceil((s-13)/(2*m-2))*2,_=[s-7],S=1;S<m-1;S++)_[S]=_[S-1]-y;return _.push(6),_.reverse()},r.getPositions=function(a){for(var m=[],s=r.getRowColCoords(a),y=s.length,_=0;_<y;_++)for(var S=0;S<y;S++)_===0&&S===0||_===0&&S===y-1||_===y-1&&S===0||m.push([s[_],s[S]]);return m}})(eo);var ro={},rh=Pt.getSymbolSize,Bn=7;ro.getPositions=function(t){var i=rh(t);return[[0,0],[i-Bn,0],[0,i-Bn]]};var no={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(m){return m!=null&&m!==""&&!isNaN(m)&&m>=0&&m<=7},r.from=function(m){return r.isValid(m)?parseInt(m,10):void 0},r.getPenaltyN1=function(m){for(var s=m.size,y=0,_=0,S=0,T=null,A=null,F=0;F<s;F++){_=S=0,T=A=null;for(var W=0;W<s;W++){var z=m.get(F,W);z===T?_++:(_>=5&&(y+=t.N1+(_-5)),T=z,_=1),z=m.get(W,F),z===A?S++:(S>=5&&(y+=t.N1+(S-5)),A=z,S=1)}_>=5&&(y+=t.N1+(_-5)),S>=5&&(y+=t.N1+(S-5))}return y},r.getPenaltyN2=function(m){for(var s=m.size,y=0,_=0;_<s-1;_++)for(var S=0;S<s-1;S++){var T=m.get(_,S)+m.get(_,S+1)+m.get(_+1,S)+m.get(_+1,S+1);(T===4||T===0)&&y++}return y*t.N2},r.getPenaltyN3=function(m){for(var s=m.size,y=0,_=0,S=0,T=0;T<s;T++){_=S=0;for(var A=0;A<s;A++)_=_<<1&2047|m.get(T,A),A>=10&&(_===1488||_===93)&&y++,S=S<<1&2047|m.get(A,T),A>=10&&(S===1488||S===93)&&y++}return y*t.N3},r.getPenaltyN4=function(m){for(var s=0,y=m.data.length,_=0;_<y;_++)s+=m.data[_];var S=Math.abs(Math.ceil(s*100/y/5)-10);return S*t.N4};function i(a,m,s){switch(a){case r.Patterns.PATTERN000:return(m+s)%2===0;case r.Patterns.PATTERN001:return m%2===0;case r.Patterns.PATTERN010:return s%3===0;case r.Patterns.PATTERN011:return(m+s)%3===0;case r.Patterns.PATTERN100:return(Math.floor(m/2)+Math.floor(s/3))%2===0;case r.Patterns.PATTERN101:return m*s%2+m*s%3===0;case r.Patterns.PATTERN110:return(m*s%2+m*s%3)%2===0;case r.Patterns.PATTERN111:return(m*s%3+(m+s)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}r.applyMask=function(m,s){for(var y=s.size,_=0;_<y;_++)for(var S=0;S<y;S++)s.isReserved(S,_)||s.xor(S,_,i(m,S,_))},r.getBestMask=function(m,s){for(var y=Object.keys(r.Patterns).length,_=0,S=1/0,T=0;T<y;T++){s(T),r.applyMask(T,m);var A=r.getPenaltyN1(m)+r.getPenaltyN2(m)+r.getPenaltyN3(m)+r.getPenaltyN4(m);r.applyMask(T,m),A<S&&(S=A,_=T)}return _}})(no);var wr={},Zt=_r,nr=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ir=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];wr.getBlocksCount=function(t,i){switch(i){case Zt.L:return nr[(t-1)*4+0];case Zt.M:return nr[(t-1)*4+1];case Zt.Q:return nr[(t-1)*4+2];case Zt.H:return nr[(t-1)*4+3];default:return}};wr.getTotalCodewordsCount=function(t,i){switch(i){case Zt.L:return ir[(t-1)*4+0];case Zt.M:return ir[(t-1)*4+1];case Zt.Q:return ir[(t-1)*4+2];case Zt.H:return ir[(t-1)*4+3];default:return}};var io={},yr={},oo=Yt,Ke=oo.alloc(512),fr=oo.alloc(256);(function(){for(var t=1,i=0;i<255;i++)Ke[i]=t,fr[t]=i,t<<=1,t&256&&(t^=285);for(i=255;i<512;i++)Ke[i]=Ke[i-255]})();yr.log=function(t){if(t<1)throw new Error("log("+t+")");return fr[t]};yr.exp=function(t){return Ke[t]};yr.mul=function(t,i){return t===0||i===0?0:Ke[fr[t]+fr[i]]};(function(r){var t=Yt,i=yr;r.mul=function(m,s){for(var y=t.alloc(m.length+s.length-1),_=0;_<m.length;_++)for(var S=0;S<s.length;S++)y[_+S]^=i.mul(m[_],s[S]);return y},r.mod=function(m,s){for(var y=t.from(m);y.length-s.length>=0;){for(var _=y[0],S=0;S<s.length;S++)y[S]^=i.mul(s[S],_);for(var T=0;T<y.length&&y[T]===0;)T++;y=y.slice(T)}return y},r.generateECPolynomial=function(m){for(var s=t.from([1]),y=0;y<m;y++)s=r.mul(s,[1,i.exp(y)]);return s}})(io);var ao={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){var t=oa,i=aa,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=_,r.SlowBuffer=I,r.INSPECT_MAX_BYTES=50;var m=2147483647;r.kMaxLength=m,_.TYPED_ARRAY_SUPPORT=s(),!_.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var M=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(M,l),M.foo()===42}catch{return!1}}Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}});function y(M){if(M>m)throw new RangeError('The value "'+M+'" is invalid for option "size"');var l=new Uint8Array(M);return Object.setPrototypeOf(l,_.prototype),l}function _(M,l,p){if(typeof M=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return F(M)}return S(M,l,p)}_.poolSize=8192;function S(M,l,p){if(typeof M=="string")return W(M,l);if(ArrayBuffer.isView(M))return $(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(Lt(M,ArrayBuffer)||M&&Lt(M.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Lt(M,SharedArrayBuffer)||M&&Lt(M.buffer,SharedArrayBuffer)))return Z(M,l,p);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var x=M.valueOf&&M.valueOf();if(x!=null&&x!==M)return _.from(x,l,p);var k=b(M);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return _.from(M[Symbol.toPrimitive]("string"),l,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}_.from=function(M,l,p){return S(M,l,p)},Object.setPrototypeOf(_.prototype,Uint8Array.prototype),Object.setPrototypeOf(_,Uint8Array);function T(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function A(M,l,p){return T(M),M<=0?y(M):l!==void 0?typeof p=="string"?y(M).fill(l,p):y(M).fill(l):y(M)}_.alloc=function(M,l,p){return A(M,l,p)};function F(M){return T(M),y(M<0?0:E(M)|0)}_.allocUnsafe=function(M){return F(M)},_.allocUnsafeSlow=function(M){return F(M)};function W(M,l){if((typeof l!="string"||l==="")&&(l="utf8"),!_.isEncoding(l))throw new TypeError("Unknown encoding: "+l);var p=C(M,l)|0,x=y(p),k=x.write(M,l);return k!==p&&(x=x.slice(0,k)),x}function z(M){for(var l=M.length<0?0:E(M.length)|0,p=y(l),x=0;x<l;x+=1)p[x]=M[x]&255;return p}function $(M){if(Lt(M,Uint8Array)){var l=new Uint8Array(M);return Z(l.buffer,l.byteOffset,l.byteLength)}return z(M)}function Z(M,l,p){if(l<0||M.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<l+(p||0))throw new RangeError('"length" is outside of buffer bounds');var x;return l===void 0&&p===void 0?x=new Uint8Array(M):p===void 0?x=new Uint8Array(M,l):x=new Uint8Array(M,l,p),Object.setPrototypeOf(x,_.prototype),x}function b(M){if(_.isBuffer(M)){var l=E(M.length)|0,p=y(l);return p.length===0||M.copy(p,0,0,l),p}if(M.length!==void 0)return typeof M.length!="number"||it(M.length)?y(0):z(M);if(M.type==="Buffer"&&Array.isArray(M.data))return z(M.data)}function E(M){if(M>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return M|0}function I(M){return+M!=M&&(M=0),_.alloc(+M)}_.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==_.prototype},_.compare=function(l,p){if(Lt(l,Uint8Array)&&(l=_.from(l,l.offset,l.byteLength)),Lt(p,Uint8Array)&&(p=_.from(p,p.offset,p.byteLength)),!_.isBuffer(l)||!_.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===p)return 0;for(var x=l.length,k=p.length,N=0,P=Math.min(x,k);N<P;++N)if(l[N]!==p[N]){x=l[N],k=p[N];break}return x<k?-1:k<x?1:0},_.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(l,p){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return _.alloc(0);var x;if(p===void 0)for(p=0,x=0;x<l.length;++x)p+=l[x].length;var k=_.allocUnsafe(p),N=0;for(x=0;x<l.length;++x){var P=l[x];if(Lt(P,Uint8Array))N+P.length>k.length?_.from(P).copy(k,N):Uint8Array.prototype.set.call(k,P,N);else if(_.isBuffer(P))P.copy(k,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=P.length}return k};function C(M,l){if(_.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||Lt(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);var p=M.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&p===0)return 0;for(var k=!1;;)switch(l){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return X(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return ot(M).length;default:if(k)return x?-1:X(M).length;l=(""+l).toLowerCase(),k=!0}}_.byteLength=C;function R(M,l,p){var x=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,l>>>=0,p<=l))return"";for(M||(M="utf8");;)switch(M){case"hex":return n(this,l,p);case"utf8":case"utf-8":return h(this,l,p);case"ascii":return w(this,l,p);case"latin1":case"binary":return u(this,l,p);case"base64":return f(this,l,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,l,p);default:if(x)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),x=!0}}_.prototype._isBuffer=!0;function q(M,l,p){var x=M[l];M[l]=M[p],M[p]=x}_.prototype.swap16=function(){var l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var p=0;p<l;p+=2)q(this,p,p+1);return this},_.prototype.swap32=function(){var l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var p=0;p<l;p+=4)q(this,p,p+3),q(this,p+1,p+2);return this},_.prototype.swap64=function(){var l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var p=0;p<l;p+=8)q(this,p,p+7),q(this,p+1,p+6),q(this,p+2,p+5),q(this,p+3,p+4);return this},_.prototype.toString=function(){var l=this.length;return l===0?"":arguments.length===0?h(this,0,l):R.apply(this,arguments)},_.prototype.toLocaleString=_.prototype.toString,_.prototype.equals=function(l){if(!_.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:_.compare(this,l)===0},_.prototype.inspect=function(){var l="",p=r.INSPECT_MAX_BYTES;return l=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(l+=" ... "),"<Buffer "+l+">"},a&&(_.prototype[a]=_.prototype.inspect),_.prototype.compare=function(l,p,x,k,N){if(Lt(l,Uint8Array)&&(l=_.from(l,l.offset,l.byteLength)),!_.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(p===void 0&&(p=0),x===void 0&&(x=l?l.length:0),k===void 0&&(k=0),N===void 0&&(N=this.length),p<0||x>l.length||k<0||N>this.length)throw new RangeError("out of range index");if(k>=N&&p>=x)return 0;if(k>=N)return-1;if(p>=x)return 1;if(p>>>=0,x>>>=0,k>>>=0,N>>>=0,this===l)return 0;for(var P=N-k,H=x-p,J=Math.min(P,H),Rt=this.slice(k,N),G=l.slice(p,x),Q=0;Q<J;++Q)if(Rt[Q]!==G[Q]){P=Rt[Q],H=G[Q];break}return P<H?-1:H<P?1:0};function U(M,l,p,x,k){if(M.length===0)return-1;if(typeof p=="string"?(x=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,it(p)&&(p=k?0:M.length-1),p<0&&(p=M.length+p),p>=M.length){if(k)return-1;p=M.length-1}else if(p<0)if(k)p=0;else return-1;if(typeof l=="string"&&(l=_.from(l,x)),_.isBuffer(l))return l.length===0?-1:j(M,l,p,x,k);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(M,l,p):Uint8Array.prototype.lastIndexOf.call(M,l,p):j(M,[l],p,x,k);throw new TypeError("val must be string, number or Buffer")}function j(M,l,p,x,k){var N=1,P=M.length,H=l.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(M.length<2||l.length<2)return-1;N=2,P/=2,H/=2,p/=2}function J(at,st){return N===1?at[st]:at.readUInt16BE(st*N)}var Rt;if(k){var G=-1;for(Rt=p;Rt<P;Rt++)if(J(M,Rt)===J(l,G===-1?0:Rt-G)){if(G===-1&&(G=Rt),Rt-G+1===H)return G*N}else G!==-1&&(Rt-=Rt-G),G=-1}else for(p+H>P&&(p=P-H),Rt=p;Rt>=0;Rt--){for(var Q=!0,Dt=0;Dt<H;Dt++)if(J(M,Rt+Dt)!==J(l,Dt)){Q=!1;break}if(Q)return Rt}return-1}_.prototype.includes=function(l,p,x){return this.indexOf(l,p,x)!==-1},_.prototype.indexOf=function(l,p,x){return U(this,l,p,x,!0)},_.prototype.lastIndexOf=function(l,p,x){return U(this,l,p,x,!1)};function V(M,l,p,x){p=Number(p)||0;var k=M.length-p;x?(x=Number(x),x>k&&(x=k)):x=k;var N=l.length;x>N/2&&(x=N/2);for(var P=0;P<x;++P){var H=parseInt(l.substr(P*2,2),16);if(it(H))return P;M[p+P]=H}return P}function Tt(M,l,p,x){return nt(X(l,M.length-p),M,p,x)}function g(M,l,p,x){return nt(et(l),M,p,x)}function e(M,l,p,x){return nt(ot(l),M,p,x)}function o(M,l,p,x){return nt(jt(l,M.length-p),M,p,x)}_.prototype.write=function(l,p,x,k){if(p===void 0)k="utf8",x=this.length,p=0;else if(x===void 0&&typeof p=="string")k=p,x=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(x)?(x=x>>>0,k===void 0&&(k="utf8")):(k=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var N=this.length-p;if((x===void 0||x>N)&&(x=N),l.length>0&&(x<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");for(var P=!1;;)switch(k){case"hex":return V(this,l,p,x);case"utf8":case"utf-8":return Tt(this,l,p,x);case"ascii":case"latin1":case"binary":return g(this,l,p,x);case"base64":return e(this,l,p,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,l,p,x);default:if(P)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),P=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function f(M,l,p){return l===0&&p===M.length?t.fromByteArray(M):t.fromByteArray(M.slice(l,p))}function h(M,l,p){p=Math.min(M.length,p);for(var x=[],k=l;k<p;){var N=M[k],P=null,H=N>239?4:N>223?3:N>191?2:1;if(k+H<=p){var J,Rt,G,Q;switch(H){case 1:N<128&&(P=N);break;case 2:J=M[k+1],(J&192)===128&&(Q=(N&31)<<6|J&63,Q>127&&(P=Q));break;case 3:J=M[k+1],Rt=M[k+2],(J&192)===128&&(Rt&192)===128&&(Q=(N&15)<<12|(J&63)<<6|Rt&63,Q>2047&&(Q<55296||Q>57343)&&(P=Q));break;case 4:J=M[k+1],Rt=M[k+2],G=M[k+3],(J&192)===128&&(Rt&192)===128&&(G&192)===128&&(Q=(N&15)<<18|(J&63)<<12|(Rt&63)<<6|G&63,Q>65535&&Q<1114112&&(P=Q))}}P===null?(P=65533,H=1):P>65535&&(P-=65536,x.push(P>>>10&1023|55296),P=56320|P&1023),x.push(P),k+=H}return v(x)}var d=4096;function v(M){var l=M.length;if(l<=d)return String.fromCharCode.apply(String,M);for(var p="",x=0;x<l;)p+=String.fromCharCode.apply(String,M.slice(x,x+=d));return p}function w(M,l,p){var x="";p=Math.min(M.length,p);for(var k=l;k<p;++k)x+=String.fromCharCode(M[k]&127);return x}function u(M,l,p){var x="";p=Math.min(M.length,p);for(var k=l;k<p;++k)x+=String.fromCharCode(M[k]);return x}function n(M,l,p){var x=M.length;(!l||l<0)&&(l=0),(!p||p<0||p>x)&&(p=x);for(var k="",N=l;N<p;++N)k+=ft[M[N]];return k}function c(M,l,p){for(var x=M.slice(l,p),k="",N=0;N<x.length-1;N+=2)k+=String.fromCharCode(x[N]+x[N+1]*256);return k}_.prototype.slice=function(l,p){var x=this.length;l=~~l,p=p===void 0?x:~~p,l<0?(l+=x,l<0&&(l=0)):l>x&&(l=x),p<0?(p+=x,p<0&&(p=0)):p>x&&(p=x),p<l&&(p=l);var k=this.subarray(l,p);return Object.setPrototypeOf(k,_.prototype),k};function B(M,l,p){if(M%1!==0||M<0)throw new RangeError("offset is not uint");if(M+l>p)throw new RangeError("Trying to access beyond buffer length")}_.prototype.readUintLE=_.prototype.readUIntLE=function(l,p,x){l=l>>>0,p=p>>>0,x||B(l,p,this.length);for(var k=this[l],N=1,P=0;++P<p&&(N*=256);)k+=this[l+P]*N;return k},_.prototype.readUintBE=_.prototype.readUIntBE=function(l,p,x){l=l>>>0,p=p>>>0,x||B(l,p,this.length);for(var k=this[l+--p],N=1;p>0&&(N*=256);)k+=this[l+--p]*N;return k},_.prototype.readUint8=_.prototype.readUInt8=function(l,p){return l=l>>>0,p||B(l,1,this.length),this[l]},_.prototype.readUint16LE=_.prototype.readUInt16LE=function(l,p){return l=l>>>0,p||B(l,2,this.length),this[l]|this[l+1]<<8},_.prototype.readUint16BE=_.prototype.readUInt16BE=function(l,p){return l=l>>>0,p||B(l,2,this.length),this[l]<<8|this[l+1]},_.prototype.readUint32LE=_.prototype.readUInt32LE=function(l,p){return l=l>>>0,p||B(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},_.prototype.readUint32BE=_.prototype.readUInt32BE=function(l,p){return l=l>>>0,p||B(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},_.prototype.readIntLE=function(l,p,x){l=l>>>0,p=p>>>0,x||B(l,p,this.length);for(var k=this[l],N=1,P=0;++P<p&&(N*=256);)k+=this[l+P]*N;return N*=128,k>=N&&(k-=Math.pow(2,8*p)),k},_.prototype.readIntBE=function(l,p,x){l=l>>>0,p=p>>>0,x||B(l,p,this.length);for(var k=p,N=1,P=this[l+--k];k>0&&(N*=256);)P+=this[l+--k]*N;return N*=128,P>=N&&(P-=Math.pow(2,8*p)),P},_.prototype.readInt8=function(l,p){return l=l>>>0,p||B(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},_.prototype.readInt16LE=function(l,p){l=l>>>0,p||B(l,2,this.length);var x=this[l]|this[l+1]<<8;return x&32768?x|4294901760:x},_.prototype.readInt16BE=function(l,p){l=l>>>0,p||B(l,2,this.length);var x=this[l+1]|this[l]<<8;return x&32768?x|4294901760:x},_.prototype.readInt32LE=function(l,p){return l=l>>>0,p||B(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},_.prototype.readInt32BE=function(l,p){return l=l>>>0,p||B(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},_.prototype.readFloatLE=function(l,p){return l=l>>>0,p||B(l,4,this.length),i.read(this,l,!0,23,4)},_.prototype.readFloatBE=function(l,p){return l=l>>>0,p||B(l,4,this.length),i.read(this,l,!1,23,4)},_.prototype.readDoubleLE=function(l,p){return l=l>>>0,p||B(l,8,this.length),i.read(this,l,!0,52,8)},_.prototype.readDoubleBE=function(l,p){return l=l>>>0,p||B(l,8,this.length),i.read(this,l,!1,52,8)};function O(M,l,p,x,k,N){if(!_.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>k||l<N)throw new RangeError('"value" argument is out of bounds');if(p+x>M.length)throw new RangeError("Index out of range")}_.prototype.writeUintLE=_.prototype.writeUIntLE=function(l,p,x,k){if(l=+l,p=p>>>0,x=x>>>0,!k){var N=Math.pow(2,8*x)-1;O(this,l,p,x,N,0)}var P=1,H=0;for(this[p]=l&255;++H<x&&(P*=256);)this[p+H]=l/P&255;return p+x},_.prototype.writeUintBE=_.prototype.writeUIntBE=function(l,p,x,k){if(l=+l,p=p>>>0,x=x>>>0,!k){var N=Math.pow(2,8*x)-1;O(this,l,p,x,N,0)}var P=x-1,H=1;for(this[p+P]=l&255;--P>=0&&(H*=256);)this[p+P]=l/H&255;return p+x},_.prototype.writeUint8=_.prototype.writeUInt8=function(l,p,x){return l=+l,p=p>>>0,x||O(this,l,p,1,255,0),this[p]=l&255,p+1},_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(l,p,x){return l=+l,p=p>>>0,x||O(this,l,p,2,65535,0),this[p]=l&255,this[p+1]=l>>>8,p+2},_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(l,p,x){return l=+l,p=p>>>0,x||O(this,l,p,2,65535,0),this[p]=l>>>8,this[p+1]=l&255,p+2},_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(l,p,x){return l=+l,p=p>>>0,x||O(this,l,p,4,4294967295,0),this[p+3]=l>>>24,this[p+2]=l>>>16,this[p+1]=l>>>8,this[p]=l&255,p+4},_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(l,p,x){return l=+l,p=p>>>0,x||O(this,l,p,4,4294967295,0),this[p]=l>>>24,this[p+1]=l>>>16,this[p+2]=l>>>8,this[p+3]=l&255,p+4},_.prototype.writeIntLE=function(l,p,x,k){if(l=+l,p=p>>>0,!k){var N=Math.pow(2,8*x-1);O(this,l,p,x,N-1,-N)}var P=0,H=1,J=0;for(this[p]=l&255;++P<x&&(H*=256);)l<0&&J===0&&this[p+P-1]!==0&&(J=1),this[p+P]=(l/H>>0)-J&255;return p+x},_.prototype.writeIntBE=function(l,p,x,k){if(l=+l,p=p>>>0,!k){var N=Math.pow(2,8*x-1);O(this,l,p,x,N-1,-N)}var P=x-1,H=1,J=0;for(this[p+P]=l&255;--P>=0&&(H*=256);)l<0&&J===0&&this[p+P+1]!==0&&(J=1),this[p+P]=(l/H>>0)-J&255;return p+x},_.prototype.writeInt8=function(l,p,x){return l=+l,p=p>>>0,x||O(this,l,p,1,127,-128),l<0&&(l=255+l+1),this[p]=l&255,p+1},_.prototype.writeInt16LE=function(l,p,x){return l=+l,p=p>>>0,x||O(this,l,p,2,32767,-32768),this[p]=l&255,this[p+1]=l>>>8,p+2},_.prototype.writeInt16BE=function(l,p,x){return l=+l,p=p>>>0,x||O(this,l,p,2,32767,-32768),this[p]=l>>>8,this[p+1]=l&255,p+2},_.prototype.writeInt32LE=function(l,p,x){return l=+l,p=p>>>0,x||O(this,l,p,4,2147483647,-2147483648),this[p]=l&255,this[p+1]=l>>>8,this[p+2]=l>>>16,this[p+3]=l>>>24,p+4},_.prototype.writeInt32BE=function(l,p,x){return l=+l,p=p>>>0,x||O(this,l,p,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[p]=l>>>24,this[p+1]=l>>>16,this[p+2]=l>>>8,this[p+3]=l&255,p+4};function L(M,l,p,x,k,N){if(p+x>M.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function D(M,l,p,x,k){return l=+l,p=p>>>0,k||L(M,l,p,4),i.write(M,l,p,x,23,4),p+4}_.prototype.writeFloatLE=function(l,p,x){return D(this,l,p,!0,x)},_.prototype.writeFloatBE=function(l,p,x){return D(this,l,p,!1,x)};function Y(M,l,p,x,k){return l=+l,p=p>>>0,k||L(M,l,p,8),i.write(M,l,p,x,52,8),p+8}_.prototype.writeDoubleLE=function(l,p,x){return Y(this,l,p,!0,x)},_.prototype.writeDoubleBE=function(l,p,x){return Y(this,l,p,!1,x)},_.prototype.copy=function(l,p,x,k){if(!_.isBuffer(l))throw new TypeError("argument should be a Buffer");if(x||(x=0),!k&&k!==0&&(k=this.length),p>=l.length&&(p=l.length),p||(p=0),k>0&&k<x&&(k=x),k===x||l.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),l.length-p<k-x&&(k=l.length-p+x);var N=k-x;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,x,k):Uint8Array.prototype.set.call(l,this.subarray(x,k),p),N},_.prototype.fill=function(l,p,x,k){if(typeof l=="string"){if(typeof p=="string"?(k=p,p=0,x=this.length):typeof x=="string"&&(k=x,x=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!_.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(l.length===1){var N=l.charCodeAt(0);(k==="utf8"&&N<128||k==="latin1")&&(l=N)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(p<0||this.length<p||this.length<x)throw new RangeError("Out of range index");if(x<=p)return this;p=p>>>0,x=x===void 0?this.length:x>>>0,l||(l=0);var P;if(typeof l=="number")for(P=p;P<x;++P)this[P]=l;else{var H=_.isBuffer(l)?l:_.from(l,k),J=H.length;if(J===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(P=0;P<x-p;++P)this[P+p]=H[P%J]}return this};var tt=/[^+/0-9A-Za-z-_]/g;function Ot(M){if(M=M.split("=")[0],M=M.trim().replace(tt,""),M.length<2)return"";for(;M.length%4!==0;)M=M+"=";return M}function X(M,l){l=l||1/0;for(var p,x=M.length,k=null,N=[],P=0;P<x;++P){if(p=M.charCodeAt(P),p>55295&&p<57344){if(!k){if(p>56319){(l-=3)>-1&&N.push(239,191,189);continue}else if(P+1===x){(l-=3)>-1&&N.push(239,191,189);continue}k=p;continue}if(p<56320){(l-=3)>-1&&N.push(239,191,189),k=p;continue}p=(k-55296<<10|p-56320)+65536}else k&&(l-=3)>-1&&N.push(239,191,189);if(k=null,p<128){if((l-=1)<0)break;N.push(p)}else if(p<2048){if((l-=2)<0)break;N.push(p>>6|192,p&63|128)}else if(p<65536){if((l-=3)<0)break;N.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((l-=4)<0)break;N.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return N}function et(M){for(var l=[],p=0;p<M.length;++p)l.push(M.charCodeAt(p)&255);return l}function jt(M,l){for(var p,x,k,N=[],P=0;P<M.length&&!((l-=2)<0);++P)p=M.charCodeAt(P),x=p>>8,k=p%256,N.push(k),N.push(x);return N}function ot(M){return t.toByteArray(Ot(M))}function nt(M,l,p,x){for(var k=0;k<x&&!(k+p>=l.length||k>=M.length);++k)l[k+p]=M[k];return k}function Lt(M,l){return M instanceof l||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===l.name}function it(M){return M!==M}var ft=function(){for(var M="0123456789abcdef",l=new Array(256),p=0;p<16;++p)for(var x=p*16,k=0;k<16;++k)l[x+k]=M[p]+M[k];return l}()})(ao);var Nn=Yt,so=io,nh=ao.Buffer;function an(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}an.prototype.initialize=function(t){this.degree=t,this.genPoly=so.generateECPolynomial(this.degree)};an.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var i=Nn.alloc(this.degree),a=nh.concat([t,i],t.length+this.degree),m=so.mod(a,this.genPoly),s=this.degree-m.length;if(s>0){var y=Nn.alloc(this.degree);return m.copy(y,s),y}return m};var ih=an,fo={},Qt={},sn={};sn.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var $t={},ho="[0-9]+",oh="[A-Z $%*+\\-./:]+",Ye="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ye=Ye.replace(/u/g,"\\u");var ah="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ye+`)(?:.|[\r
]))+`;$t.KANJI=new RegExp(Ye,"g");$t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");$t.BYTE=new RegExp(ah,"g");$t.NUMERIC=new RegExp(ho,"g");$t.ALPHANUMERIC=new RegExp(oh,"g");var sh=new RegExp("^"+Ye+"$"),fh=new RegExp("^"+ho+"$"),hh=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");$t.testKanji=function(t){return sh.test(t)};$t.testNumeric=function(t){return fh.test(t)};$t.testAlphanumeric=function(t){return hh.test(t)};(function(r){var t=sn,i=$t;r.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(s,y){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(y))throw new Error("Invalid version: "+y);return y>=1&&y<10?s.ccBits[0]:y<27?s.ccBits[1]:s.ccBits[2]},r.getBestModeForData=function(s){return i.testNumeric(s)?r.NUMERIC:i.testAlphanumeric(s)?r.ALPHANUMERIC:i.testKanji(s)?r.KANJI:r.BYTE},r.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},r.isValid=function(s){return s&&s.bit&&s.ccBits};function a(m){if(typeof m!="string")throw new Error("Param is not a string");var s=m.toLowerCase();switch(s){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+m)}}r.from=function(s,y){if(r.isValid(s))return s;try{return a(s)}catch{return y}}})(Qt);(function(r){var t=Pt,i=wr,a=_r,m=Qt,s=sn,y=rn,_=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,S=t.getBCHDigit(_);function T(z,$,Z){for(var b=1;b<=40;b++)if($<=r.getCapacity(b,Z,z))return b}function A(z,$){return m.getCharCountIndicator(z,$)+4}function F(z,$){var Z=0;return z.forEach(function(b){var E=A(b.mode,$);Z+=E+b.getBitsLength()}),Z}function W(z,$){for(var Z=1;Z<=40;Z++){var b=F(z,Z);if(b<=r.getCapacity(Z,$,m.MIXED))return Z}}r.from=function($,Z){return s.isValid($)?parseInt($,10):Z},r.getCapacity=function($,Z,b){if(!s.isValid($))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=m.BYTE);var E=t.getSymbolTotalCodewords($),I=i.getTotalCodewordsCount($,Z),C=(E-I)*8;if(b===m.MIXED)return C;var R=C-A(b,$);switch(b){case m.NUMERIC:return Math.floor(R/10*3);case m.ALPHANUMERIC:return Math.floor(R/11*2);case m.KANJI:return Math.floor(R/13);case m.BYTE:default:return Math.floor(R/8)}},r.getBestVersionForData=function($,Z){var b,E=a.from(Z,a.M);if(y($)){if($.length>1)return W($,E);if($.length===0)return 1;b=$[0]}else b=$;return T(b.mode,b.getLength(),E)},r.getEncodedBits=function($){if(!s.isValid($)||$<7)throw new Error("Invalid QR Code version");for(var Z=$<<12;t.getBCHDigit(Z)-S>=0;)Z^=_<<t.getBCHDigit(Z)-S;return $<<12|Z}})(fo);var uo={},qr=Pt,lo=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,uh=1<<14|1<<12|1<<10|1<<4|1<<1,On=qr.getBCHDigit(lo);uo.getEncodedBits=function(t,i){for(var a=t.bit<<3|i,m=a<<10;qr.getBCHDigit(m)-On>=0;)m^=lo<<qr.getBCHDigit(m)-On;return(a<<10|m)^uh};var co={},lh=Qt;function Ce(r){this.mode=lh.NUMERIC,this.data=r.toString()}Ce.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Ce.prototype.getLength=function(){return this.data.length};Ce.prototype.getBitsLength=function(){return Ce.getBitsLength(this.data.length)};Ce.prototype.write=function(t){var i,a,m;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),m=parseInt(a,10),t.put(m,10);var s=this.data.length-i;s>0&&(a=this.data.substr(i),m=parseInt(a,10),t.put(m,s*3+1))};var ch=Ce,dh=Qt,kr=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ke(r){this.mode=dh.ALPHANUMERIC,this.data=r}ke.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};ke.prototype.getLength=function(){return this.data.length};ke.prototype.getBitsLength=function(){return ke.getBitsLength(this.data.length)};ke.prototype.write=function(t){var i;for(i=0;i+2<=this.data.length;i+=2){var a=kr.indexOf(this.data[i])*45;a+=kr.indexOf(this.data[i+1]),t.put(a,11)}this.data.length%2&&t.put(kr.indexOf(this.data[i]),6)};var ph=ke,mh=Yt,gh=Qt;function Ie(r){this.mode=gh.BYTE,this.data=mh.from(r)}Ie.getBitsLength=function(t){return t*8};Ie.prototype.getLength=function(){return this.data.length};Ie.prototype.getBitsLength=function(){return Ie.getBitsLength(this.data.length)};Ie.prototype.write=function(r){for(var t=0,i=this.data.length;t<i;t++)r.put(this.data[t],8)};var vh=Ie,_h=Qt,wh=Pt;function Ae(r){this.mode=_h.KANJI,this.data=r}Ae.getBitsLength=function(t){return t*13};Ae.prototype.getLength=function(){return this.data.length};Ae.prototype.getBitsLength=function(){return Ae.getBitsLength(this.data.length)};Ae.prototype.write=function(r){var t;for(t=0;t<this.data.length;t++){var i=wh.toSJIS(this.data[t]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}};var yh=Ae;(function(r){var t=Qt,i=ch,a=ph,m=vh,s=yh,y=$t,_=Pt,S=sa;function T(E){return unescape(encodeURIComponent(E)).length}function A(E,I,C){for(var R=[],q;(q=E.exec(C))!==null;)R.push({data:q[0],index:q.index,mode:I,length:q[0].length});return R}function F(E){var I=A(y.NUMERIC,t.NUMERIC,E),C=A(y.ALPHANUMERIC,t.ALPHANUMERIC,E),R,q;_.isKanjiModeEnabled()?(R=A(y.BYTE,t.BYTE,E),q=A(y.KANJI,t.KANJI,E)):(R=A(y.BYTE_KANJI,t.BYTE,E),q=[]);var U=I.concat(C,R,q);return U.sort(function(j,V){return j.index-V.index}).map(function(j){return{data:j.data,mode:j.mode,length:j.length}})}function W(E,I){switch(I){case t.NUMERIC:return i.getBitsLength(E);case t.ALPHANUMERIC:return a.getBitsLength(E);case t.KANJI:return s.getBitsLength(E);case t.BYTE:return m.getBitsLength(E)}}function z(E){return E.reduce(function(I,C){var R=I.length-1>=0?I[I.length-1]:null;return R&&R.mode===C.mode?(I[I.length-1].data+=C.data,I):(I.push(C),I)},[])}function $(E){for(var I=[],C=0;C<E.length;C++){var R=E[C];switch(R.mode){case t.NUMERIC:I.push([R,{data:R.data,mode:t.ALPHANUMERIC,length:R.length},{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.ALPHANUMERIC:I.push([R,{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.KANJI:I.push([R,{data:R.data,mode:t.BYTE,length:T(R.data)}]);break;case t.BYTE:I.push([{data:R.data,mode:t.BYTE,length:T(R.data)}])}}return I}function Z(E,I){for(var C={},R={start:{}},q=["start"],U=0;U<E.length;U++){for(var j=E[U],V=[],Tt=0;Tt<j.length;Tt++){var g=j[Tt],e=""+U+Tt;V.push(e),C[e]={node:g,lastCount:0},R[e]={};for(var o=0;o<q.length;o++){var f=q[o];C[f]&&C[f].node.mode===g.mode?(R[f][e]=W(C[f].lastCount+g.length,g.mode)-W(C[f].lastCount,g.mode),C[f].lastCount+=g.length):(C[f]&&(C[f].lastCount=g.length),R[f][e]=W(g.length,g.mode)+4+t.getCharCountIndicator(g.mode,I))}}q=V}for(o=0;o<q.length;o++)R[q[o]].end=0;return{map:R,table:C}}function b(E,I){var C,R=t.getBestModeForData(E);if(C=t.from(I,R),C!==t.BYTE&&C.bit<R.bit)throw new Error('"'+E+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(R));switch(C===t.KANJI&&!_.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new i(E);case t.ALPHANUMERIC:return new a(E);case t.KANJI:return new s(E);case t.BYTE:return new m(E)}}r.fromArray=function(I){return I.reduce(function(C,R){return typeof R=="string"?C.push(b(R,null)):R.data&&C.push(b(R.data,R.mode)),C},[])},r.fromString=function(I,C){for(var R=F(I,_.isKanjiModeEnabled()),q=$(R),U=Z(q,C),j=S.find_path(U.map,"start","end"),V=[],Tt=1;Tt<j.length-1;Tt++)V.push(U.table[j[Tt]].node);return r.fromArray(z(V))},r.rawSplit=function(I){return r.fromArray(F(I,_.isKanjiModeEnabled()))}})(co);var Ln=Yt,Mr=Pt,Ir=_r,Mh=th,bh=eh,xh=eo,Eh=ro,Dr=no,$r=wr,Sh=ih,hr=fo,Ch=uo,kh=Qt,Ar=co,Ih=rn;function Ah(r,t){for(var i=r.size,a=Eh.getPositions(t),m=0;m<a.length;m++)for(var s=a[m][0],y=a[m][1],_=-1;_<=7;_++)if(!(s+_<=-1||i<=s+_))for(var S=-1;S<=7;S++)y+S<=-1||i<=y+S||(_>=0&&_<=6&&(S===0||S===6)||S>=0&&S<=6&&(_===0||_===6)||_>=2&&_<=4&&S>=2&&S<=4?r.set(s+_,y+S,!0,!0):r.set(s+_,y+S,!1,!0))}function Th(r){for(var t=r.size,i=8;i<t-8;i++){var a=i%2===0;r.set(i,6,a,!0),r.set(6,i,a,!0)}}function Rh(r,t){for(var i=xh.getPositions(t),a=0;a<i.length;a++)for(var m=i[a][0],s=i[a][1],y=-2;y<=2;y++)for(var _=-2;_<=2;_++)y===-2||y===2||_===-2||_===2||y===0&&_===0?r.set(m+y,s+_,!0,!0):r.set(m+y,s+_,!1,!0)}function Bh(r,t){for(var i=r.size,a=hr.getEncodedBits(t),m,s,y,_=0;_<18;_++)m=Math.floor(_/3),s=_%3+i-8-3,y=(a>>_&1)===1,r.set(m,s,y,!0),r.set(s,m,y,!0)}function Tr(r,t,i){var a=r.size,m=Ch.getEncodedBits(t,i),s,y;for(s=0;s<15;s++)y=(m>>s&1)===1,s<6?r.set(s,8,y,!0):s<8?r.set(s+1,8,y,!0):r.set(a-15+s,8,y,!0),s<8?r.set(8,a-s-1,y,!0):s<9?r.set(8,15-s-1+1,y,!0):r.set(8,15-s-1,y,!0);r.set(a-8,8,1,!0)}function Nh(r,t){for(var i=r.size,a=-1,m=i-1,s=7,y=0,_=i-1;_>0;_-=2)for(_===6&&_--;;){for(var S=0;S<2;S++)if(!r.isReserved(m,_-S)){var T=!1;y<t.length&&(T=(t[y]>>>s&1)===1),r.set(m,_-S,T),s--,s===-1&&(y++,s=7)}if(m+=a,m<0||i<=m){m-=a,a=-a;break}}}function Oh(r,t,i){var a=new Mh;i.forEach(function(T){a.put(T.mode.bit,4),a.put(T.getLength(),kh.getCharCountIndicator(T.mode,r)),T.write(a)});var m=Mr.getSymbolTotalCodewords(r),s=$r.getTotalCodewordsCount(r,t),y=(m-s)*8;for(a.getLengthInBits()+4<=y&&a.put(0,4);a.getLengthInBits()%8!==0;)a.putBit(0);for(var _=(y-a.getLengthInBits())/8,S=0;S<_;S++)a.put(S%2?17:236,8);return Lh(a,r,t)}function Lh(r,t,i){for(var a=Mr.getSymbolTotalCodewords(t),m=$r.getTotalCodewordsCount(t,i),s=a-m,y=$r.getBlocksCount(t,i),_=a%y,S=y-_,T=Math.floor(a/y),A=Math.floor(s/y),F=A+1,W=T-A,z=new Sh(W),$=0,Z=new Array(y),b=new Array(y),E=0,I=Ln.from(r.buffer),C=0;C<y;C++){var R=C<S?A:F;Z[C]=I.slice($,$+R),b[C]=z.encode(Z[C]),$+=R,E=Math.max(E,R)}var q=Ln.alloc(a),U=0,j,V;for(j=0;j<E;j++)for(V=0;V<y;V++)j<Z[V].length&&(q[U++]=Z[V][j]);for(j=0;j<W;j++)for(V=0;V<y;V++)q[U++]=b[V][j];return q}function Uh(r,t,i,a){var m;if(Ih(r))m=Ar.fromArray(r);else if(typeof r=="string"){var s=t;if(!s){var y=Ar.rawSplit(r);s=hr.getBestVersionForData(y,i)}m=Ar.fromString(r,s||40)}else throw new Error("Invalid data");var _=hr.getBestVersionForData(m,i);if(!_)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=_;else if(t<_)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+_+`.
`);var S=Oh(t,i,m),T=Mr.getSymbolSize(t),A=new bh(T);return Ah(A,t),Th(A),Rh(A,t),Tr(A,i,0),t>=7&&Bh(A,t),Nh(A,S),isNaN(a)&&(a=Dr.getBestMask(A,Tr.bind(null,A,i))),Dr.applyMask(a,A),Tr(A,i,a),{modules:A,version:t,errorCorrectionLevel:i,maskPattern:a,segments:m}}Qi.create=function(t,i){if(typeof t>"u"||t==="")throw new Error("No input text");var a=Ir.M,m,s;return typeof i<"u"&&(a=Ir.from(i.errorCorrectionLevel,Ir.M),m=hr.from(i.version),s=Dr.from(i.maskPattern),i.toSJISFunc&&Mr.setToSJISFunction(i.toSJISFunc)),Uh(t,m,a,s)};var po={},fn={};(function(r){function t(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");var a=i.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+i);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(s){return[s,s]}))),a.length===6&&a.push("F","F");var m=parseInt(a.join(""),16);return{r:m>>24&255,g:m>>16&255,b:m>>8&255,a:m&255,hex:"#"+a.slice(0,6).join("")}}r.getOptions=function(a){a||(a={}),a.color||(a.color={});var m=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,s=a.width&&a.width>=21?a.width:void 0,y=a.scale||4;return{width:s,scale:s?4:y,margin:m,color:{dark:t(a.color.dark||"#000000ff"),light:t(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},r.getScale=function(a,m){return m.width&&m.width>=a+m.margin*2?m.width/(a+m.margin*2):m.scale},r.getImageWidth=function(a,m){var s=r.getScale(a,m);return Math.floor((a+m.margin*2)*s)},r.qrToImageData=function(a,m,s){for(var y=m.modules.size,_=m.modules.data,S=r.getScale(y,s),T=Math.floor((y+s.margin*2)*S),A=s.margin*S,F=[s.color.light,s.color.dark],W=0;W<T;W++)for(var z=0;z<T;z++){var $=(W*T+z)*4,Z=s.color.light;if(W>=A&&z>=A&&W<T-A&&z<T-A){var b=Math.floor((W-A)/S),E=Math.floor((z-A)/S);Z=F[_[b*y+E]?1:0]}a[$++]=Z.r,a[$++]=Z.g,a[$++]=Z.b,a[$]=Z.a}}})(fn);(function(r){var t=fn;function i(m,s,y){m.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=y,s.width=y,s.style.height=y+"px",s.style.width=y+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(s,y,_){var S=_,T=y;typeof S>"u"&&(!y||!y.getContext)&&(S=y,y=void 0),y||(T=a()),S=t.getOptions(S);var A=t.getImageWidth(s.modules.size,S),F=T.getContext("2d"),W=F.createImageData(A,A);return t.qrToImageData(W.data,s,S),i(F,T,A),F.putImageData(W,0,0),T},r.renderToDataURL=function(s,y,_){var S=_;typeof S>"u"&&(!y||!y.getContext)&&(S=y,y=void 0),S||(S={});var T=r.render(s,y,S),A=S.type||"image/png",F=S.rendererOpts||{};return T.toDataURL(A,F.quality)}})(po);var mo={},Fh=fn;function Un(r,t){var i=r.a/255,a=t+'="'+r.hex+'"';return i<1?a+" "+t+'-opacity="'+i.toFixed(2).slice(1)+'"':a}function Rr(r,t,i){var a=r+t;return typeof i<"u"&&(a+=" "+i),a}function Ph(r,t,i){for(var a="",m=0,s=!1,y=0,_=0;_<r.length;_++){var S=Math.floor(_%t),T=Math.floor(_/t);!S&&!s&&(s=!0),r[_]?(y++,_>0&&S>0&&r[_-1]||(a+=s?Rr("M",S+i,.5+T+i):Rr("m",m,0),m=0,s=!1),S+1<t&&r[_+1]||(a+=Rr("h",y),y=0)):m++}return a}mo.render=function(t,i,a){var m=Fh.getOptions(i),s=t.modules.size,y=t.modules.data,_=s+m.margin*2,S=m.color.light.a?"<path "+Un(m.color.light,"fill")+' d="M0 0h'+_+"v"+_+'H0z"/>':"",T="<path "+Un(m.color.dark,"stroke")+' d="'+Ph(y,s,m.margin)+'"/>',A='viewBox="0 0 '+_+" "+_+'"',F=m.width?'width="'+m.width+'" height="'+m.width+'" ':"",W='<svg xmlns="http://www.w3.org/2000/svg" '+F+A+' shape-rendering="crispEdges">'+S+T+`</svg>
`;return typeof a=="function"&&a(null,W),W};var qh=Wf,Wr=Qi,go=po,Dh=mo;function hn(r,t,i,a,m){var s=[].slice.call(arguments,1),y=s.length,_=typeof s[y-1]=="function";if(!_&&!qh())throw new Error("Callback required as last argument");if(_){if(y<2)throw new Error("Too few arguments provided");y===2?(m=i,i=t,t=a=void 0):y===3&&(t.getContext&&typeof m>"u"?(m=a,a=void 0):(m=a,a=i,i=t,t=void 0))}else{if(y<1)throw new Error("Too few arguments provided");return y===1?(i=t,t=a=void 0):y===2&&!t.getContext&&(a=i,i=t,t=void 0),new Promise(function(T,A){try{var F=Wr.create(i,a);T(r(F,t,a))}catch(W){A(W)}})}try{var S=Wr.create(i,a);m(null,r(S,t,a))}catch(T){m(T)}}Xe.create=Wr.create;Xe.toCanvas=hn.bind(null,go.render);Xe.toDataURL=hn.bind(null,go.renderToDataURL);Xe.toString=hn.bind(null,function(r,t,i){return Dh.render(r,i)});var $h=function(){var r=document.getSelection();if(!r.rangeCount)return function(){};for(var t=document.activeElement,i=[],a=0;a<r.rangeCount;a++)i.push(r.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return r.removeAllRanges(),function(){r.type==="Caret"&&r.removeAllRanges(),r.rangeCount||i.forEach(function(m){r.addRange(m)}),t&&t.focus()}},Wh=$h,Fn={"text/plain":"Text","text/html":"Url",default:"Text"},zh="Copy to clipboard: #{key}, Enter";function Hh(r){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return r.replace(/#{\s*key\s*}/g,t)}function Zh(r,t){var i,a,m,s,y,_,S=!1;t||(t={}),i=t.debug||!1;try{m=Wh(),s=document.createRange(),y=document.getSelection(),_=document.createElement("span"),_.textContent=r,_.ariaHidden="true",_.style.all="unset",_.style.position="fixed",_.style.top=0,_.style.clip="rect(0, 0, 0, 0)",_.style.whiteSpace="pre",_.style.webkitUserSelect="text",_.style.MozUserSelect="text",_.style.msUserSelect="text",_.style.userSelect="text",_.addEventListener("copy",function(A){if(A.stopPropagation(),t.format)if(A.preventDefault(),typeof A.clipboardData>"u"){i&&console.warn("unable to use e.clipboardData"),i&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var F=Fn[t.format]||Fn.default;window.clipboardData.setData(F,r)}else A.clipboardData.clearData(),A.clipboardData.setData(t.format,r);t.onCopy&&(A.preventDefault(),t.onCopy(A.clipboardData))}),document.body.appendChild(_),s.selectNodeContents(_),y.addRange(s);var T=document.execCommand("copy");if(!T)throw new Error("copy command was unsuccessful");S=!0}catch(A){i&&console.error("unable to copy using execCommand: ",A),i&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",r),t.onCopy&&t.onCopy(window.clipboardData),S=!0}catch(F){i&&console.error("unable to copy using clipboardData: ",F),i&&console.error("falling back to prompt"),a=Hh("message"in t?t.message:zh),window.prompt(a,r)}}finally{y&&(typeof y.removeRange=="function"?y.removeRange(s):y.removeAllRanges()),_&&document.body.removeChild(_),m()}return S}var Kh=Zh,rt,Je,un,vo,Pn,ln,_o,zt={},br=[],Jh=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Wt(r,t){for(var i in t)r[i]=t[i];return r}function wo(r){var t=r.parentNode;t&&t.removeChild(r)}function Ht(r,t,i){var a,m=arguments,s={};for(a in t)a!=="key"&&a!=="ref"&&(s[a]=t[a]);if(arguments.length>3)for(i=[i],a=3;a<arguments.length;a++)i.push(m[a]);if(i!=null&&(s.children=i),typeof r=="function"&&r.defaultProps!=null)for(a in r.defaultProps)s[a]===void 0&&(s[a]=r.defaultProps[a]);return ur(r,s,t&&t.key,t&&t.ref,null)}function ur(r,t,i,a,m){var s={type:r,props:t,key:i,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:m};return m==null&&(s.__v=s),rt.vnode&&rt.vnode(s),s}function yo(){return{}}function er(r){return r.children}function qt(r,t){this.props=r,this.context=t}function Qe(r,t){if(t==null)return r.__?Qe(r.__,r.__.__k.indexOf(r)+1):null;for(var i;t<r.__k.length;t++)if((i=r.__k[t])!=null&&i.__e!=null)return i.__e;return typeof r.type=="function"?Qe(r):null}function Mo(r){var t,i;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,t=0;t<r.__k.length;t++)if((i=r.__k[t])!=null&&i.__e!=null){r.__e=r.__c.base=i.__e;break}return Mo(r)}}function or(r){(!r.__d&&(r.__d=!0)&&Je.push(r)&&!un++||Pn!==rt.debounceRendering)&&((Pn=rt.debounceRendering)||vo)(Vh)}function Vh(){for(var r;un=Je.length;)r=Je.sort(function(t,i){return t.__v.__b-i.__v.__b}),Je=[],r.some(function(t){var i,a,m,s,y,_,S;t.__d&&(_=(y=(i=t).__v).__e,(S=i.__P)&&(a=[],(m=Wt({},y)).__v=m,s=cn(S,y,m,i.__n,S.ownerSVGElement!==void 0,null,a,_??Qe(y)),xo(a,y),s!=_&&Mo(y)))})}function bo(r,t,i,a,m,s,y,_,S){var T,A,F,W,z,$,Z,b=i&&i.__k||br,E=b.length;if(_==zt&&(_=s!=null?s[0]:E?Qe(i,0):null),T=0,t.__k=Kt(t.__k,function(I){if(I!=null){if(I.__=t,I.__b=t.__b+1,(F=b[T])===null||F&&I.key==F.key&&I.type===F.type)b[T]=void 0;else for(A=0;A<E;A++){if((F=b[A])&&I.key==F.key&&I.type===F.type){b[A]=void 0;break}F=null}if(W=cn(r,I,F=F||zt,a,m,s,y,_,S),(A=I.ref)&&F.ref!=A&&(Z||(Z=[]),F.ref&&Z.push(F.ref,null,I),Z.push(A,I.__c||W,I)),W!=null){var C;if($==null&&($=W),I.__d!==void 0)C=I.__d,I.__d=void 0;else if(s==F||W!=_||W.parentNode==null){t:if(_==null||_.parentNode!==r)r.appendChild(W),C=null;else{for(z=_,A=0;(z=z.nextSibling)&&A<E;A+=2)if(z==W)break t;r.insertBefore(W,_),C=_}t.type=="option"&&(r.value="")}_=C!==void 0?C:W.nextSibling,typeof t.type=="function"&&(t.__d=_)}else _&&F.__e==_&&_.parentNode!=r&&(_=Qe(F))}return T++,I}),t.__e=$,s!=null&&typeof t.type!="function")for(T=s.length;T--;)s[T]!=null&&wo(s[T]);for(T=E;T--;)b[T]!=null&&Ve(b[T],b[T]);if(Z)for(T=0;T<Z.length;T++)Eo(Z[T],Z[++T],Z[++T])}function Kt(r,t,i){if(i==null&&(i=[]),r==null||typeof r=="boolean")t&&i.push(t(null));else if(Array.isArray(r))for(var a=0;a<r.length;a++)Kt(r[a],t,i);else i.push(t?t(typeof r=="string"||typeof r=="number"?ur(null,r,null,null,r):r.__e!=null||r.__c!=null?ur(r.type,r.props,r.key,null,r.__v):r):r);return i}function Yh(r,t,i,a,m){var s;for(s in i)s==="children"||s==="key"||s in t||lr(r,s,null,i[s],a);for(s in t)m&&typeof t[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||i[s]===t[s]||lr(r,s,t[s],i[s],a)}function qn(r,t,i){t[0]==="-"?r.setProperty(t,i):r[t]=typeof i=="number"&&Jh.test(t)===!1?i+"px":i??""}function lr(r,t,i,a,m){var s,y,_,S,T;if(m?t==="className"&&(t="class"):t==="class"&&(t="className"),t==="style")if(s=r.style,typeof i=="string")s.cssText=i;else{if(typeof a=="string"&&(s.cssText="",a=null),a)for(S in a)i&&S in i||qn(s,S,"");if(i)for(T in i)a&&i[T]===a[T]||qn(s,T,i[T])}else t[0]==="o"&&t[1]==="n"?(y=t!==(t=t.replace(/Capture$/,"")),_=t.toLowerCase(),t=(_ in r?_:t).slice(2),i?(a||r.addEventListener(t,Dn,y),(r.l||(r.l={}))[t]=i):r.removeEventListener(t,Dn,y)):t!=="list"&&t!=="tagName"&&t!=="form"&&t!=="type"&&t!=="size"&&!m&&t in r?r[t]=i??"":typeof i!="function"&&t!=="dangerouslySetInnerHTML"&&(t!==(t=t.replace(/^xlink:?/,""))?i==null||i===!1?r.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):r.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):i==null||i===!1&&!/^ar/.test(t)?r.removeAttribute(t):r.setAttribute(t,i))}function Dn(r){this.l[r.type](rt.event?rt.event(r):r)}function cn(r,t,i,a,m,s,y,_,S){var T,A,F,W,z,$,Z,b,E,I,C=t.type;if(t.constructor!==void 0)return null;(T=rt.__b)&&T(t);try{t:if(typeof C=="function"){if(b=t.props,E=(T=C.contextType)&&a[T.__c],I=T?E?E.props.value:T.__:a,i.__c?Z=(A=t.__c=i.__c).__=A.__E:("prototype"in C&&C.prototype.render?t.__c=A=new C(b,I):(t.__c=A=new qt(b,I),A.constructor=C,A.render=jh),E&&E.sub(A),A.props=b,A.state||(A.state={}),A.context=I,A.__n=a,F=A.__d=!0,A.__h=[]),A.__s==null&&(A.__s=A.state),C.getDerivedStateFromProps!=null&&(A.__s==A.state&&(A.__s=Wt({},A.__s)),Wt(A.__s,C.getDerivedStateFromProps(b,A.__s))),W=A.props,z=A.state,F)C.getDerivedStateFromProps==null&&A.componentWillMount!=null&&A.componentWillMount(),A.componentDidMount!=null&&A.__h.push(A.componentDidMount);else{if(C.getDerivedStateFromProps==null&&b!==W&&A.componentWillReceiveProps!=null&&A.componentWillReceiveProps(b,I),!A.__e&&A.shouldComponentUpdate!=null&&A.shouldComponentUpdate(b,A.__s,I)===!1||t.__v===i.__v&&!A.__){for(A.props=b,A.state=A.__s,t.__v!==i.__v&&(A.__d=!1),A.__v=t,t.__e=i.__e,t.__k=i.__k,A.__h.length&&y.push(A),T=0;T<t.__k.length;T++)t.__k[T]&&(t.__k[T].__=t);break t}A.componentWillUpdate!=null&&A.componentWillUpdate(b,A.__s,I),A.componentDidUpdate!=null&&A.__h.push(function(){A.componentDidUpdate(W,z,$)})}A.context=I,A.props=b,A.state=A.__s,(T=rt.__r)&&T(t),A.__d=!1,A.__v=t,A.__P=r,T=A.render(A.props,A.state,A.context),t.__k=T!=null&&T.type==er&&T.key==null?T.props.children:Array.isArray(T)?T:[T],A.getChildContext!=null&&(a=Wt(Wt({},a),A.getChildContext())),F||A.getSnapshotBeforeUpdate==null||($=A.getSnapshotBeforeUpdate(W,z)),bo(r,t,i,a,m,s,y,_,S),A.base=t.__e,A.__h.length&&y.push(A),Z&&(A.__E=A.__=null),A.__e=!1}else s==null&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=Qh(i.__e,t,i,a,m,s,y,S);(T=rt.diffed)&&T(t)}catch(R){t.__v=null,rt.__e(R,t,i)}return t.__e}function xo(r,t){rt.__c&&rt.__c(t,r),r.some(function(i){try{r=i.__h,i.__h=[],r.some(function(a){a.call(i)})}catch(a){rt.__e(a,i.__v)}})}function Qh(r,t,i,a,m,s,y,_){var S,T,A,F,W,z=i.props,$=t.props;if(m=t.type==="svg"||m,s!=null){for(S=0;S<s.length;S++)if((T=s[S])!=null&&((t.type===null?T.nodeType===3:T.localName===t.type)||r==T)){r=T,s[S]=null;break}}if(r==null){if(t.type===null)return document.createTextNode($);r=m?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,$.is&&{is:$.is}),s=null,_=!1}if(t.type===null)z!==$&&r.data!=$&&(r.data=$);else{if(s!=null&&(s=br.slice.call(r.childNodes)),A=(z=i.props||zt).dangerouslySetInnerHTML,F=$.dangerouslySetInnerHTML,!_){if(z===zt)for(z={},W=0;W<r.attributes.length;W++)z[r.attributes[W].name]=r.attributes[W].value;(F||A)&&(F&&A&&F.__html==A.__html||(r.innerHTML=F&&F.__html||""))}Yh(r,$,z,m,_),F?t.__k=[]:(t.__k=t.props.children,bo(r,t,i,a,t.type!=="foreignObject"&&m,s,y,zt,_)),_||("value"in $&&(S=$.value)!==void 0&&S!==r.value&&lr(r,"value",S,z.value,!1),"checked"in $&&(S=$.checked)!==void 0&&S!==r.checked&&lr(r,"checked",S,z.checked,!1))}return r}function Eo(r,t,i){try{typeof r=="function"?r(t):r.current=t}catch(a){rt.__e(a,i)}}function Ve(r,t,i){var a,m,s;if(rt.unmount&&rt.unmount(r),(a=r.ref)&&(a.current&&a.current!==r.__e||Eo(a,null,t)),i||typeof r.type=="function"||(i=(m=r.__e)!=null),r.__e=r.__d=void 0,(a=r.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(y){rt.__e(y,t)}a.base=a.__P=null}if(a=r.__k)for(s=0;s<a.length;s++)a[s]&&Ve(a[s],t,i);m!=null&&wo(m)}function jh(r,t,i){return this.constructor(r,i)}function je(r,t,i){var a,m,s;rt.__&&rt.__(r,t),m=(a=i===ln)?null:i&&i.__k||t.__k,r=Ht(er,null,[r]),s=[],cn(t,(a?t:i||t).__k=r,m||zt,zt,t.ownerSVGElement!==void 0,i&&!a?[i]:m?null:br.slice.call(t.childNodes),s,i||zt,a),xo(s,r)}function So(r,t){je(r,t,ln)}function Gh(r,t){var i,a;for(a in t=Wt(Wt({},r.props),t),arguments.length>2&&(t.children=br.slice.call(arguments,2)),i={},t)a!=="key"&&a!=="ref"&&(i[a]=t[a]);return ur(r.type,i,t.key||r.key,t.ref||r.ref,null)}function Co(r){var t={},i={__c:"__cC"+_o++,__:r,Consumer:function(a,m){return a.children(m)},Provider:function(a){var m,s=this;return this.getChildContext||(m=[],this.getChildContext=function(){return t[i.__c]=s,t},this.shouldComponentUpdate=function(y){s.props.value!==y.value&&m.some(function(_){_.context=y.value,or(_)})},this.sub=function(y){m.push(y);var _=y.componentWillUnmount;y.componentWillUnmount=function(){m.splice(m.indexOf(y),1),_&&_.call(y)}}),a.children}};return i.Consumer.contextType=i,i.Provider.__=i,i}rt={__e:function(r,t){for(var i,a;t=t.__;)if((i=t.__c)&&!i.__)try{if(i.constructor&&i.constructor.getDerivedStateFromError!=null&&(a=!0,i.setState(i.constructor.getDerivedStateFromError(r))),i.componentDidCatch!=null&&(a=!0,i.componentDidCatch(r)),a)return or(i.__E=i)}catch(m){r=m}throw r}},qt.prototype.setState=function(r,t){var i;i=this.__s!==this.state?this.__s:this.__s=Wt({},this.state),typeof r=="function"&&(r=r(i,this.props)),r&&Wt(i,r),r!=null&&this.__v&&(t&&this.__h.push(t),or(this))},qt.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),or(this))},qt.prototype.render=er,Je=[],un=0,vo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ln=zt,_o=0;var ye,Ft,$n,Te=0,zr=[],Wn=rt.__r,zn=rt.diffed,Hn=rt.__c,Zn=rt.unmount;function Oe(r,t){rt.__h&&rt.__h(Ft,r,Te||t),Te=0;var i=Ft.__H||(Ft.__H={__:[],__h:[]});return r>=i.__.length&&i.__.push({}),i.__[r]}function dn(r){return Te=1,pn(No,r)}function pn(r,t,i){var a=Oe(ye++,2);return a.__c||(a.__c=Ft,a.__=[i?i(t):No(void 0,t),function(m){var s=r(a.__[0],m);a.__[0]!==s&&(a.__[0]=s,a.__c.setState({}))}]),a.__}function ko(r,t){var i=Oe(ye++,3);!rt.__s&&gn(i.__H,t)&&(i.__=r,i.__H=t,Ft.__H.__h.push(i))}function mn(r,t){var i=Oe(ye++,4);!rt.__s&&gn(i.__H,t)&&(i.__=r,i.__H=t,Ft.__h.push(i))}function Io(r){return Te=5,xr(function(){return{current:r}},[])}function Ao(r,t,i){Te=6,mn(function(){typeof r=="function"?r(t()):r&&(r.current=t())},i==null?i:i.concat(r))}function xr(r,t){var i=Oe(ye++,7);return gn(i.__H,t)?(i.__H=t,i.__h=r,i.__=r()):i.__}function To(r,t){return Te=8,xr(function(){return r},t)}function Ro(r){var t=Ft.context[r.__c],i=Oe(ye++,9);return i.__c=r,t?(i.__==null&&(i.__=!0,t.sub(Ft)),t.props.value):r.__}function Bo(r,t){rt.useDebugValue&&rt.useDebugValue(t?t(r):r)}function Xh(r){var t=Oe(ye++,10),i=dn();return t.__=r,Ft.componentDidCatch||(Ft.componentDidCatch=function(a){t.__&&t.__(a),i[1](a)}),[i[0],function(){i[1](void 0)}]}function t0(){zr.some(function(r){if(r.__P)try{r.__H.__h.forEach(Hr),r.__H.__h.forEach(Zr),r.__H.__h=[]}catch(t){return r.__H.__h=[],rt.__e(t,r.__v),!0}}),zr=[]}function Hr(r){r.t&&r.t()}function Zr(r){var t=r.__();typeof t=="function"&&(r.t=t)}function gn(r,t){return!r||t.some(function(i,a){return i!==r[a]})}function No(r,t){return typeof t=="function"?t(r):t}rt.__r=function(r){Wn&&Wn(r),ye=0,(Ft=r.__c).__H&&(Ft.__H.__h.forEach(Hr),Ft.__H.__h.forEach(Zr),Ft.__H.__h=[])},rt.diffed=function(r){zn&&zn(r);var t=r.__c;if(t){var i=t.__H;i&&i.__h.length&&(zr.push(t)!==1&&$n===rt.requestAnimationFrame||(($n=rt.requestAnimationFrame)||function(a){var m,s=function(){clearTimeout(y),cancelAnimationFrame(m),setTimeout(a)},y=setTimeout(s,100);typeof window<"u"&&(m=requestAnimationFrame(s))})(t0))}},rt.__c=function(r,t){t.some(function(i){try{i.__h.forEach(Hr),i.__h=i.__h.filter(function(a){return!a.__||Zr(a)})}catch(a){t.some(function(m){m.__h&&(m.__h=[])}),t=[],rt.__e(a,i.__v)}}),Hn&&Hn(r,t)},rt.unmount=function(r){Zn&&Zn(r);var t=r.__c;if(t){var i=t.__H;if(i)try{i.__.forEach(function(a){return a.t&&a.t()})}catch(a){rt.__e(a,t.__v)}}};function vn(r,t){for(var i in t)r[i]=t[i];return r}function Kr(r,t){for(var i in r)if(i!=="__source"&&!(i in t))return!0;for(var a in t)if(a!=="__source"&&r[a]!==t[a])return!0;return!1}var Oo=function(r){var t,i;function a(m){var s;return(s=r.call(this,m)||this).isPureReactComponent=!0,s}return i=r,(t=a).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,a.prototype.shouldComponentUpdate=function(m,s){return Kr(this.props,m)||Kr(this.state,s)},a}(qt);function Lo(r,t){function i(m){var s=this.props.ref,y=s==m.ref;return!y&&s&&(s.call?s(null):s.current=null),t?!t(this.props,m)||!y:Kr(this.props,m)}function a(m){return this.shouldComponentUpdate=i,Ht(r,vn({},m))}return a.prototype.isReactComponent=!0,a.displayName="Memo("+(r.displayName||r.name)+")",a.t=!0,a}var Kn=rt.__b;function Uo(r){function t(i){var a=vn({},i);return delete a.ref,r(a,i.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(r.displayName||r.name)+")",t}rt.__b=function(r){r.type&&r.type.t&&r.ref&&(r.props.ref=r.ref,r.ref=null),Kn&&Kn(r)};var Jn=function(r,t){return r?Kt(r).reduce(function(i,a,m){return i.concat(t(a,m))},[]):null},Fo={map:Jn,forEach:Jn,count:function(r){return r?Kt(r).length:0},only:function(r){if((r=Kt(r)).length!==1)throw new Error("Children.only() expects only one child.");return r[0]},toArray:Kt},e0=rt.__e;function Po(r){return r&&((r=vn({},r)).__c=null,r.__k=r.__k&&r.__k.map(Po)),r}function cr(){this.__u=0,this.o=null,this.__b=null}function qo(r){var t=r.__.__c;return t&&t.u&&t.u(r)}function Do(r){var t,i,a;function m(s){if(t||(t=r()).then(function(y){i=y.default||y},function(y){a=y}),a)throw a;if(!i)throw t;return Ht(i,s)}return m.displayName="Lazy",m.t=!0,m}function Me(){this.i=null,this.l=null}rt.__e=function(r,t,i){if(r.then){for(var a,m=t;m=m.__;)if((a=m.__c)&&a.__c)return a.__c(r,t.__c)}e0(r,t,i)},(cr.prototype=new qt).__c=function(r,t){var i=this;i.o==null&&(i.o=[]),i.o.push(t);var a=qo(i.__v),m=!1,s=function(){m||(m=!0,a?a(y):y())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){s(),t.__c&&t.__c()};var y=function(){var _;if(!--i.__u)for(i.__v.__k[0]=i.state.u,i.setState({u:i.__b=null});_=i.o.pop();)_.forceUpdate()};i.__u++||i.setState({u:i.__b=i.__v.__k[0]}),r.then(s,s)},cr.prototype.render=function(r,t){return this.__b&&(this.__v.__k[0]=Po(this.__b),this.__b=null),[Ht(qt,null,t.u?null:r.children),t.u&&r.fallback]};var Vn=function(r,t,i){if(++i[1]===i[0]&&r.l.delete(t),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.l.size))for(i=r.i;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;r.i=i=i[2]}};(Me.prototype=new qt).u=function(r){var t=this,i=qo(t.__v),a=t.l.get(r);return a[0]++,function(m){var s=function(){t.props.revealOrder?(a.push(m),Vn(t,r,a)):m()};i?i(s):s()}},Me.prototype.render=function(r){this.i=null,this.l=new Map;var t=Kt(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&t.reverse();for(var i=t.length;i--;)this.l.set(t[i],this.i=[1,0,this.i]);return r.children},Me.prototype.componentDidUpdate=Me.prototype.componentDidMount=function(){var r=this;r.l.forEach(function(t,i){Vn(r,i,t)})};var r0=function(){function r(){}var t=r.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(i){return i.children},r}();function n0(r){var t=this,i=r.container,a=Ht(r0,{context:t.context},r.vnode);return t.s&&t.s!==i&&(t.v.parentNode&&t.s.removeChild(t.v),Ve(t.h),t.p=!1),r.vnode?t.p?(i.__k=t.__k,je(a,i),t.__k=i.__k):(t.v=document.createTextNode(""),So("",i),i.appendChild(t.v),t.p=!0,t.s=i,je(a,i,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),Ve(t.h)),t.h=a,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),Ve(t.h)},null}function $o(r,t){return Ht(n0,{vnode:r,container:t})}var Yn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;qt.prototype.isReactComponent={};var Wo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function Jr(r,t,i){if(t.__k==null)for(;t.firstChild;)t.removeChild(t.firstChild);return je(r,t),typeof i=="function"&&i(),r?r.__c:null}function i0(r,t,i){return So(r,t),typeof i=="function"&&i(),r?r.__c:null}var Qn=rt.event;function Br(r,t){r["UNSAFE_"+t]&&!r[t]&&Object.defineProperty(r,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(i){this["UNSAFE_"+t]=i}})}rt.event=function(r){Qn&&(r=Qn(r)),r.persist=function(){};var t=!1,i=!1,a=r.stopPropagation;r.stopPropagation=function(){a.call(r),t=!0};var m=r.preventDefault;return r.preventDefault=function(){m.call(r),i=!0},r.isPropagationStopped=function(){return t},r.isDefaultPrevented=function(){return i},r.nativeEvent=r};var jn={configurable:!0,get:function(){return this.class}},Gn=rt.vnode;rt.vnode=function(r){r.$$typeof=Wo;var t=r.type,i=r.props;if(t){if(i.class!=i.className&&(jn.enumerable="className"in i,i.className!=null&&(i.class=i.className),Object.defineProperty(i,"className",jn)),typeof t!="function"){var a,m,s;for(s in i.defaultValue&&i.value!==void 0&&(i.value||i.value===0||(i.value=i.defaultValue),delete i.defaultValue),Array.isArray(i.value)&&i.multiple&&t==="select"&&(Kt(i.children).forEach(function(y){i.value.indexOf(y.props.value)!=-1&&(y.props.selected=!0)}),delete i.value),i)if(a=Yn.test(s))break;if(a)for(s in m=r.props={},i)m[Yn.test(s)?s.replace(/[A-Z0-9]/,"-$&").toLowerCase():s]=i[s]}(function(y){var _=r.type,S=r.props;if(S&&typeof _=="string"){var T={};for(var A in S)/^on(Ani|Tra|Tou)/.test(A)&&(S[A.toLowerCase()]=S[A],delete S[A]),T[A.toLowerCase()]=A;if(T.ondoubleclick&&(S.ondblclick=S[T.ondoubleclick],delete S[T.ondoubleclick]),T.onbeforeinput&&(S.onbeforeinput=S[T.onbeforeinput],delete S[T.onbeforeinput]),T.onchange&&(_==="textarea"||_.toLowerCase()==="input"&&!/^fil|che|ra/i.test(S.type))){var F=T.oninput||"oninput";S[F]||(S[F]=S[T.onchange],delete S[T.onchange])}}})(),typeof t=="function"&&!t.m&&t.prototype&&(Br(t.prototype,"componentWillMount"),Br(t.prototype,"componentWillReceiveProps"),Br(t.prototype,"componentWillUpdate"),t.m=!0)}Gn&&Gn(r)};var o0="16.8.0";function zo(r){return Ht.bind(null,r)}function _n(r){return!!r&&r.$$typeof===Wo}function Ho(r){return _n(r)?Gh.apply(null,arguments):r}function Zo(r){return!!r.__k&&(je(null,r),!0)}function Ko(r){return r&&(r.base||r.nodeType===1&&r)||null}var Jo=function(r,t){return r(t)};const a0={useState:dn,useReducer:pn,useEffect:ko,useLayoutEffect:mn,useRef:Io,useImperativeHandle:Ao,useMemo:xr,useCallback:To,useContext:Ro,useDebugValue:Bo,version:"16.8.0",Children:Fo,render:Jr,hydrate:Jr,unmountComponentAtNode:Zo,createPortal:$o,createElement:Ht,createContext:Co,createFactory:zo,cloneElement:Ho,createRef:yo,Fragment:er,isValidElement:_n,findDOMNode:Ko,Component:qt,PureComponent:Oo,memo:Lo,forwardRef:Uo,unstable_batchedUpdates:Jo,Suspense:cr,SuspenseList:Me,lazy:Do},s0=Object.freeze(Object.defineProperty({__proto__:null,Children:Fo,Component:qt,Fragment:er,PureComponent:Oo,Suspense:cr,SuspenseList:Me,cloneElement:Ho,createContext:Co,createElement:Ht,createFactory:zo,createPortal:$o,createRef:yo,default:a0,findDOMNode:Ko,forwardRef:Uo,hydrate:i0,isValidElement:_n,lazy:Do,memo:Lo,render:Jr,unmountComponentAtNode:Zo,unstable_batchedUpdates:Jo,useCallback:To,useContext:Ro,useDebugValue:Bo,useEffect:ko,useErrorBoundary:Xh,useImperativeHandle:Ao,useLayoutEffect:mn,useMemo:xr,useReducer:pn,useRef:Io,useState:dn,version:o0},Symbol.toStringTag,{value:"Module"})),f0=ni(s0);function Vo(r){return r&&typeof r=="object"&&"default"in r?r.default:r}var Ut=$f,Yo=Vo(Xe),h0=Vo(Kh),K=f0;function u0(r){Yo.toString(r,{type:"terminal"}).then(console.log)}var l0=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function c0(r,t){try{var i=r()}catch(a){return t(a)}return i&&i.then?i.then(void 0,t):i}var d0="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",p0="WalletConnect",m0=300,g0="rgb(64, 153, 255)",Qo="walletconnect-wrapper",Xn="walletconnect-style-sheet",jo="walletconnect-qrcode-modal",v0="walletconnect-qrcode-close",Go="walletconnect-qrcode-text",_0="walletconnect-connect-button";function w0(r){return K.createElement("div",{className:"walletconnect-modal__header"},K.createElement("img",{src:d0,className:"walletconnect-modal__headerLogo"}),K.createElement("p",null,p0),K.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:r.onClose},K.createElement("div",{id:v0,className:"walletconnect-modal__close__icon"},K.createElement("div",{className:"walletconnect-modal__close__line1"}),K.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function y0(r){return K.createElement("a",{className:"walletconnect-connect__button",href:r.href,id:_0+"-"+r.name,onClick:r.onClick,rel:"noopener noreferrer",style:{backgroundColor:r.color},target:"_blank"},r.name)}var M0="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function b0(r){var t=r.color,i=r.href,a=r.name,m=r.logo,s=r.onClick;return K.createElement("a",{className:"walletconnect-modal__base__row",href:i,onClick:s,rel:"noopener noreferrer",target:"_blank"},K.createElement("h3",{className:"walletconnect-modal__base__row__h3"},a),K.createElement("div",{className:"walletconnect-modal__base__row__right"},K.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+m+"') "+t,backgroundSize:"100%"}}),K.createElement("img",{src:M0,className:"walletconnect-modal__base__row__right__caret"})))}function x0(r){var t=r.color,i=r.href,a=r.name,m=r.logo,s=r.onClick,y=window.innerWidth<768?(a.length>8?2.5:2.7)+"vw":"inherit";return K.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:i,onClick:s,rel:"noopener noreferrer",target:"_blank"},K.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+m+"') "+t,backgroundSize:"100%"}}),K.createElement("div",{style:{fontSize:y},className:"walletconnect-connect__button__text"},a))}var E0=5,Nr=12;function S0(r){var t=Ut.isAndroid(),i=K.useState(""),a=i[0],m=i[1],s=K.useState(""),y=s[0],_=s[1],S=K.useState(1),T=S[0],A=S[1],F=y?r.links.filter(function(R){return R.name.toLowerCase().includes(y.toLowerCase())}):r.links,W=r.errorMessage,z=y||F.length>E0,$=Math.ceil(F.length/Nr),Z=[(T-1)*Nr+1,T*Nr],b=F.length?F.filter(function(R,q){return q+1>=Z[0]&&q+1<=Z[1]}):[],E=!t&&$>1,I=void 0;function C(R){m(R.target.value),clearTimeout(I),R.target.value?I=setTimeout(function(){_(R.target.value),A(1)},1e3):(m(""),_(""),A(1))}return K.createElement("div",null,K.createElement("p",{id:Go,className:"walletconnect-qrcode__text"},t?r.text.connect_mobile_wallet:r.text.choose_preferred_wallet),!t&&K.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:a,onChange:C}),K.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(t?"__android":z&&F.length?"__wrap":"")},t?K.createElement(y0,{name:r.text.connect,color:g0,href:r.uri,onClick:K.useCallback(function(){Ut.saveMobileLinkInfo({name:"Unknown",href:r.uri})},[])}):b.length?b.map(function(R){var q=R.color,U=R.name,j=R.shortName,V=R.logo,Tt=Ut.formatIOSMobile(r.uri,R),g=K.useCallback(function(){Ut.saveMobileLinkInfo({name:U,href:Tt})},[b]);return z?K.createElement(x0,{color:q,href:Tt,name:j||U,logo:V,onClick:g}):K.createElement(b0,{color:q,href:Tt,name:U,logo:V,onClick:g})}):K.createElement(K.Fragment,null,K.createElement("p",null,W.length?r.errorMessage:r.links.length&&!F.length?r.text.no_wallets_found:r.text.loading))),E&&K.createElement("div",{className:"walletconnect-modal__footer"},Array($).fill(0).map(function(R,q){var U=q+1,j=T===U;return K.createElement("a",{style:{margin:"auto 10px",fontWeight:j?"bold":"normal"},onClick:function(){return A(U)}},U)})))}function C0(r){var t=!!r.message.trim();return K.createElement("div",{className:"walletconnect-qrcode__notification"+(t?" notification__show":"")},r.message)}var k0=function(r){try{var t="";return Promise.resolve(Yo.toString(r,{margin:0,type:"svg"})).then(function(i){return typeof i=="string"&&(t=i.replace("<svg",'<svg class="walletconnect-qrcode__image"')),t})}catch(i){return Promise.reject(i)}};function I0(r){var t=K.useState(""),i=t[0],a=t[1],m=K.useState(""),s=m[0],y=m[1];K.useEffect(function(){try{return Promise.resolve(k0(r.uri)).then(function(S){y(S)})}catch(S){Promise.reject(S)}},[]);var _=function(){var S=h0(r.uri);S?(a(r.text.copied_to_clipboard),setInterval(function(){return a("")},1200)):(a("Error"),setInterval(function(){return a("")},1200))};return K.createElement("div",null,K.createElement("p",{id:Go,className:"walletconnect-qrcode__text"},r.text.scan_qrcode_with_wallet),K.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),K.createElement("div",{className:"walletconnect-modal__footer"},K.createElement("a",{onClick:_},r.text.copy_to_clipboard)),K.createElement(C0,{message:i}))}function A0(r){var t=Ut.isAndroid(),i=Ut.isMobile(),a=i?r.qrcodeModalOptions&&r.qrcodeModalOptions.mobileLinks?r.qrcodeModalOptions.mobileLinks:void 0:r.qrcodeModalOptions&&r.qrcodeModalOptions.desktopLinks?r.qrcodeModalOptions.desktopLinks:void 0,m=K.useState(!1),s=m[0],y=m[1],_=K.useState(!1),S=_[0],T=_[1],A=K.useState(!i),F=A[0],W=A[1],z={mobile:i,text:r.text,uri:r.uri,qrcodeModalOptions:r.qrcodeModalOptions},$=K.useState(""),Z=$[0],b=$[1],E=K.useState(!1),I=E[0],C=E[1],R=K.useState([]),q=R[0],U=R[1],j=K.useState(""),V=j[0],Tt=j[1],g=function(){S||s||a&&!a.length||q.length>0||K.useEffect(function(){var o=function(){try{if(t)return Promise.resolve();y(!0);var f=c0(function(){var h=r.qrcodeModalOptions&&r.qrcodeModalOptions.registryUrl?r.qrcodeModalOptions.registryUrl:Ut.getWalletRegistryUrl();return Promise.resolve(fetch(h)).then(function(d){return Promise.resolve(d.json()).then(function(v){var w=v.listings,u=i?"mobile":"desktop",n=Ut.getMobileLinkRegistry(Ut.formatMobileRegistry(w,u),a);y(!1),T(!0),Tt(n.length?"":r.text.no_supported_wallets),U(n);var c=n.length===1;c&&(b(Ut.formatIOSMobile(r.uri,n[0])),W(!0)),C(c)})})},function(h){y(!1),T(!0),Tt(r.text.something_went_wrong),console.error(h)});return Promise.resolve(f&&f.then?f.then(function(){}):void 0)}catch(h){return Promise.reject(h)}};o()})};g();var e=i?F:!F;return K.createElement("div",{id:jo,className:"walletconnect-qrcode__base animated fadeIn"},K.createElement("div",{className:"walletconnect-modal__base"},K.createElement(w0,{onClose:r.onClose}),I&&F?K.createElement("div",{className:"walletconnect-modal__single_wallet"},K.createElement("a",{onClick:function(){return Ut.saveMobileLinkInfo({name:q[0].name,href:Z})},href:Z,rel:"noopener noreferrer",target:"_blank"},r.text.connect_with+" "+(I?q[0].name:"")+" ›")):t||s||!s&&q.length?K.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(e?" right__selected":"")},K.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),i?K.createElement(K.Fragment,null,K.createElement("a",{onClick:function(){return W(!1),g()}},r.text.mobile),K.createElement("a",{onClick:function(){return W(!0)}},r.text.qrcode)):K.createElement(K.Fragment,null,K.createElement("a",{onClick:function(){return W(!0)}},r.text.qrcode),K.createElement("a",{onClick:function(){return W(!1),g()}},r.text.desktop))):null,K.createElement("div",null,F||!t&&!s&&!q.length?K.createElement(I0,Object.assign({},z)):K.createElement(S0,Object.assign({},z,{links:q,errorMessage:V})))))}var T0={choose_preferred_wallet:"Wähle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterstützten Wallet",no_wallets_found:"keine Wallet gefunden"},R0={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},B0={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera móvil",scan_qrcode_with_wallet:"Escanea el código QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo salió mal",no_supported_wallets:"Todavía no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},N0={choose_preferred_wallet:"Choisissez votre portefeuille préféré",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copié!",connect_with:"Connectez-vous à l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourné",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouvé"},O0={choose_preferred_wallet:"원하는 지갑을 선택하세요",connect_mobile_wallet:"모바일 지갑과 연결",scan_qrcode_with_wallet:"WalletConnect 지원 지갑에서 QR코드를 스캔하세요",connect:"연결",qrcode:"QR 코드",mobile:"모바일",desktop:"데스크탑",copy_to_clipboard:"클립보드에 복사",copied_to_clipboard:"클립보드에 복사되었습니다!",connect_with:"와 연결하다",loading:"로드 중...",something_went_wrong:"문제가 발생했습니다.",no_supported_wallets:"아직 지원되는 지갑이 없습니다",no_wallets_found:"지갑을 찾을 수 없습니다"},L0={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se à carteira móvel",scan_qrcode_with_wallet:"Ler o código QR com uma carteira compatível com WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda não há carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},U0={choose_preferred_wallet:"选择你的钱包",connect_mobile_wallet:"连接至移动端钱包",scan_qrcode_with_wallet:"使用兼容 WalletConnect 的钱包扫描二维码",connect:"连接",qrcode:"二维码",mobile:"移动",desktop:"桌面",copy_to_clipboard:"复制到剪贴板",copied_to_clipboard:"复制到剪贴板成功！",connect_with:"通过以下方式连接",loading:"正在加载...",something_went_wrong:"出了问题",no_supported_wallets:"目前还没有支持的钱包",no_wallets_found:"没有找到钱包"},F0={choose_preferred_wallet:"کیف پول مورد نظر خود را انتخاب کنید",connect_mobile_wallet:"به کیف پول موبایل وصل شوید",scan_qrcode_with_wallet:"کد QR را با یک کیف پول سازگار با WalletConnect اسکن کنید",connect:"اتصال",qrcode:"کد QR",mobile:"سیار",desktop:"دسکتاپ",copy_to_clipboard:"کپی به کلیپ بورد",copied_to_clipboard:"در کلیپ بورد کپی شد!",connect_with:"ارتباط با",loading:"...بارگذاری",something_went_wrong:"مشکلی پیش آمد",no_supported_wallets:"هنوز هیچ کیف پول پشتیبانی شده ای وجود ندارد",no_wallets_found:"هیچ کیف پولی پیدا نشد"},ti={de:T0,en:R0,es:B0,fr:N0,ko:O0,pt:L0,zh:U0,fa:F0};function P0(){var r=Ut.getDocumentOrThrow(),t=r.getElementById(Xn);t&&r.head.removeChild(t);var i=r.createElement("style");i.setAttribute("id",Xn),i.innerText=l0,r.head.appendChild(i)}function q0(){var r=Ut.getDocumentOrThrow(),t=r.createElement("div");return t.setAttribute("id",Qo),r.body.appendChild(t),t}function Xo(){var r=Ut.getDocumentOrThrow(),t=r.getElementById(jo);t&&(t.className=t.className.replace("fadeIn","fadeOut"),setTimeout(function(){var i=r.getElementById(Qo);i&&r.body.removeChild(i)},m0))}function D0(r){return function(){Xo(),r&&r()}}function $0(){var r=Ut.getNavigatorOrThrow().language.split("-")[0]||"en";return ti[r]||ti.en}function W0(r,t,i){P0();var a=q0();K.render(K.createElement(A0,{text:$0(),uri:r,onClose:D0(t),qrcodeModalOptions:i}),a)}function z0(){Xo()}var ta=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function H0(r,t,i){console.log(r),ta()?u0(r):W0(r,t,i)}function Z0(){ta()||z0()}var K0={open:H0,close:Z0},J0=K0;class V0 extends na{constructor(t){super(),this.events=new ii,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=t,this.chainId=(t==null?void 0:t.chainId)||this.chainId,this.wc=this.register(t)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}off(t,i){this.events.off(t,i)}removeListener(t,i){this.events.removeListener(t,i)}async open(t){if(this.connected){this.onOpen();return}return new Promise((i,a)=>{this.on("error",m=>{a(m)}),this.on("open",()=>{i()}),this.create(t)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(t){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(t).then(i=>this.events.emit("payload",i)).catch(i=>this.events.emit("payload",wn(t.id,i.message)))}register(t){if(this.wc)return this.wc;this.opts=t||this.opts,this.bridge=t!=null&&t.connector?t.connector.bridge:(t==null?void 0:t.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(t==null?void 0:t.qrcode)>"u"||t.qrcode!==!1,this.chainId=typeof(t==null?void 0:t.chainId)<"u"?t.chainId:this.chainId,this.qrcodeModalOptions=t==null?void 0:t.qrcodeModalOptions;const i={bridge:this.bridge,qrcodeModal:this.qrcode?J0:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:t==null?void 0:t.storageId,signingMethods:t==null?void 0:t.signingMethods,clientMeta:t==null?void 0:t.clientMeta};if(this.wc=typeof(t==null?void 0:t.connector)<"u"?t.connector:new Df(i),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(t){this.pending=!1,t&&(this.wc=t),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(t,i="Failed or Rejected Request",a=-32e3,m){const s={id:t.id,jsonrpc:t.jsonrpc,error:{code:a,message:i}};return typeof m<"u"&&(s.error.data=m),this.events.emit("payload",s),s}create(t){this.wc=this.register(this.opts),this.chainId=t||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(i=>this.events.emit("error",i)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",t=>{var i,a;if(t){this.events.emit("error",t);return}this.accounts=((i=this.wc)===null||i===void 0?void 0:i.accounts)||[],this.chainId=((a=this.wc)===null||a===void 0?void 0:a.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",t=>{if(t){this.events.emit("error",t);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(t,i)=>{const{accounts:a,chainId:m}=i.params[0];(!this.accounts||a&&this.accounts!==a)&&(this.accounts=a,this.events.emit("accountsChanged",a)),(!this.chainId||m&&this.chainId!==m)&&(this.chainId=m,this.events.emit("chainChanged",m))})}async sendPayload(t){this.wc=this.register(this.opts);try{const i=await this.wc.unsafeSend(t);return this.sanitizeResponse(i)}catch(i){return this.onError(t,i.message)}}sanitizeResponse(t){return typeof t.error<"u"&&typeof t.error.code>"u"?wn(t.id,t.error.message,t.error.data):t}}class tu{constructor(t){this.events=new ii,this.rpc={infuraId:t==null?void 0:t.infuraId,custom:t==null?void 0:t.rpc},this.signer=new yn(new V0(t));const i=this.signer.connection.chainId||(t==null?void 0:t.chainId)||1;this.http=this.setHttpProvider(i),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var t;return((t=this.http)===null||t===void 0?void 0:t.connection).url||""}async request(t){switch(t.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(ss.includes(t.method))return this.signer.request(t);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${t.method}) without provided rpc url`);return this.http.request(t)}sendAsync(t,i){this.request(t).then(a=>i(null,a)).catch(a=>i(a,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}removeListener(t,i){this.events.removeListener(t,i)}off(t,i){this.events.off(t,i)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",t=>{this.events.emit("accountsChanged",t)}),this.signer.connection.on("chainChanged",t=>{this.http=this.setHttpProvider(t),this.events.emit("chainChanged",t)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(t){const i=ks(t,this.rpc);return typeof i>"u"?void 0:new yn(new ia(i))}}export{tu as default};
